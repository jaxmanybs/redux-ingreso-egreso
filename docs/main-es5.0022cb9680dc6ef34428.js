function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _construct(t,e,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var a=n("qOnz");n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(n("quSY").a);n.d(e,"a",(function(){return i}));var i=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r.pending=!1,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),e}(r)},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(n("7o/Q").a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){function e(t,n,r){var o;switch(_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.a;break;case 1:if(!t){o.destination=i.a;break}if("object"==typeof t){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),t,n,r)}return o}return _inherits(e,t),_createClass(e,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i}}]),e}(o.a),l=function(t){function e(t,n,o,a){var s,u;_classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentSubscriber=t;var c=_assertThisInitialized(s);return Object(r.a)(n)?u=n:n&&(u=n.next,o=n.error,a=n.complete,n!==i.a&&(c=Object.create(n),Object(r.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=c,s._next=u,s._error=o,s._complete=a,s}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",(function(){return h}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return l}));var c,l=((c=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(s.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new c(t)},c);function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}();n.d(e,"a",(function(){return i}));var i=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,(function(){return e.delegate&&e.delegate!==_assertThisInitialized(n)?e.delegate.now():i()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,r):_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),e}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.10.0","app"),r.a.SDK_VERSION="8.10.0"},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},PSD3:function(t,e,n){t.exports=function(){"use strict";var t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},n=function(t){return Array.prototype.slice.call(t)},r=function(t){console.warn("".concat("SweetAlert2:"," ").concat("object"==typeof t?t.join(" "):t))},i=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},o=[],a=function(t){return"function"==typeof t?t():t},s=function(t){return t&&"function"==typeof t.toPromise},u=function(t){return s(t)?t.toPromise():Promise.resolve(t)},c=function(t){return t&&Promise.resolve(t)===t},l=function(t){return t instanceof Element||function(t){return"object"==typeof t&&t.jquery}(t)},h=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},f=h(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),d=h(["success","warning","info","question","error"]),p=function(){return document.body.querySelector(".".concat(f.container))},v=function(t){var e=p();return e?e.querySelector(t):null},g=function(t){return v(".".concat(t))},y=function(){return g(f.popup)},m=function(){return g(f.icon)},b=function(){return g(f.title)},w=function(){return g(f["html-container"])},_=function(){return g(f.image)},C=function(){return g(f["progress-steps"])},k=function(){return g(f["validation-message"])},E=function(){return v(".".concat(f.actions," .").concat(f.confirm))},S=function(){return v(".".concat(f.actions," .").concat(f.deny))},T=function(){return v(".".concat(f.loader))},I=function(){return v(".".concat(f.actions," .").concat(f.cancel))},O=function(){return g(f.actions)},A=function(){return g(f.footer)},x=function(){return g(f["timer-progress-bar"])},N=function(){return g(f.close)},D=function(){var t=n(y().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=n(y().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter((function(t){return Z(t)}))},P=function(){return!R()&&!document.body.classList.contains(f["no-backdrop"])},R=function(){return document.body.classList.contains(f["toast-shown"])},j={previousBodyPadding:null},M=function(t,e){if(t.textContent="",e){var r=(new DOMParser).parseFromString(e,"text/html");n(r.querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),n(r.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)}))}},L=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},V=function(t,e,i){if(function(t,e){n(t.classList).forEach((function(n){Object.values(f).includes(n)||Object.values(d).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)}))}(t,e),e.customClass&&e.customClass[i]){if("string"!=typeof e.customClass[i]&&!e.customClass[i].forEach)return r("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof e.customClass[i],'"'));B(t,e.customClass[i])}},F=function(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return z(t,f[e]);case"checkbox":return t.querySelector(".".concat(f.checkbox," input"));case"radio":return t.querySelector(".".concat(f.radio," input:checked"))||t.querySelector(".".concat(f.radio," input:first-child"));case"range":return t.querySelector(".".concat(f.range," input"));default:return z(t,f.input)}},U=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},q=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},B=function(t,e){q(t,e,!0)},H=function(t,e){q(t,e,!1)},z=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(L(t.childNodes[n],e))return t.childNodes[n]},G=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},Q=function(t){t.style.display="none"},W=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},Y=function(t,e,n){e?K(t,n):Q(t)},Z=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},X=function(t){return!!(t.scrollHeight>t.clientHeight)},$=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=x();Z(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},tt=function(){return"undefined"==typeof window||"undefined"==typeof document},et='\n <div aria-labelledby="'.concat(f.title,'" aria-describedby="').concat(f["html-container"],'" class="').concat(f.popup,'" tabindex="-1">\n   <button type="button" class="').concat(f.close,'"></button>\n   <ul class="').concat(f["progress-steps"],'"></ul>\n   <div class="').concat(f.icon,'"></div>\n   <img class="').concat(f.image,'" />\n   <h2 class="').concat(f.title,'" id="').concat(f.title,'"></h2>\n   <div class="').concat(f["html-container"],'" id="').concat(f["html-container"],'"></div>\n   <input class="').concat(f.input,'" />\n   <input type="file" class="').concat(f.file,'" />\n   <div class="').concat(f.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(f.select,'"></select>\n   <div class="').concat(f.radio,'"></div>\n   <label for="').concat(f.checkbox,'" class="').concat(f.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(f.label,'"></span>\n   </label>\n   <textarea class="').concat(f.textarea,'"></textarea>\n   <div class="').concat(f["validation-message"],'" id="').concat(f["validation-message"],'"></div>\n   <div class="').concat(f.actions,'">\n     <div class="').concat(f.loader,'"></div>\n     <button type="button" class="').concat(f.confirm,'"></button>\n     <button type="button" class="').concat(f.deny,'"></button>\n     <button type="button" class="').concat(f.cancel,'"></button>\n   </div>\n   <div class="').concat(f.footer,'"></div>\n   <div class="').concat(f["timer-progress-bar-container"],'">\n     <div class="').concat(f["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),nt=function(){Ce.isVisible()&&Ce.resetValidationMessage()},rt=function(t,e){t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?it(t,e):t&&M(e,t)},it=function(t,e){t.jquery?ot(e,t):M(e,t.toString())},ot=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},at=function(){if(tt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function st(t,n,r){Y(t,r["show".concat(e(n),"Button")],"inline-block"),M(t,r["".concat(n,"ButtonText")]),t.setAttribute("aria-label",r["".concat(n,"ButtonAriaLabel")]),t.className=f[n],V(t,r,"".concat(n,"Button")),B(t,r["".concat(n,"ButtonClass")])}var ut={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ct=["input","file","range","select","radio","checkbox","textarea"],lt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ht=function(t,e,n){if(n.inputLabel){t.id=f.input;var r=document.createElement("label"),i=f["input-label"];r.setAttribute("for",t.id),r.className=i,B(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ft=function(t){var e=f[t]?f[t]:f.input;return z(y(),e)},dt={};dt.text=dt.email=dt.password=dt.number=dt.tel=dt.url=function(t,e){return"string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:c(e.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),ht(t,t,e),lt(t,e),t.type=e.input,t},dt.file=function(t,e){return ht(t,t,e),lt(t,e),t},dt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,ht(n,t,e),t},dt.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");M(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ht(t,t,e),t},dt.radio=function(t){return t.textContent="",t},dt.checkbox=function(t,e){var n=F(y(),"checkbox");n.value=1,n.id=f.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return M(r,e.inputPlaceholder),t},dt.textarea=function(t,e){return t.value=e.inputValue,lt(t,e),ht(t,t,e),setTimeout((function(){if("MutationObserver"in window){var e=parseInt(window.getComputedStyle(y()).width);new MutationObserver((function(){var n,r=t.offsetWidth+(n=t,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));y().style.width=r>e?"".concat(r,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};var pt=function(t,e){for(var n in d)e.icon!==n&&H(t,d[n]);B(t,d[e.icon]),yt(t,e),vt(),V(t,e,"icon")},vt=function(){for(var t=y(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},gt=function(t,e){t.textContent="",M(t,e.iconHtml?mt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':mt({question:"?",warning:"!",info:"i"}[e.icon]))},yt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){W(t,r[n],"backgroundColor",e.iconColor)}W(t,".swal2-success-ring","borderColor",e.iconColor)}},mt=function(t){return'<div class="'.concat(f["icon-content"],'">').concat(t,"</div>")},bt=function(t,e){(function(t,e){var n=p(),r=y();e.toast?(G(n,"width",e.width),r.style.width="100%",r.insertBefore(T(),m())):G(r,"width",e.width),G(r,"padding",e.padding),e.background&&(r.style.background=e.background),Q(k()),function(t,e){t.className="".concat(f.popup," ").concat(Z(t)?e.showClass.popup:""),e.toast?(B([document.documentElement,document.body],f["toast-shown"]),B(t,f.toast)):B(t,f.modal),V(t,e,"popup"),"string"==typeof e.customClass&&B(t,e.customClass),e.icon&&B(t,f["icon-".concat(e.icon)])}(r,e)})(0,e),function(t,e){var n=p();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||B([document.documentElement,document.body],f["no-backdrop"])}(n,e.backdrop),function(t,e){e in f?B(t,f[e]):(r('The "position" parameter is not valid, defaulting to "center"'),B(t,f.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in f&&B(t,f[n])}}(n,e.grow),V(n,e,"container"))}(0,e),function(t,e){var n=C();if(!e.progressSteps||0===e.progressSteps.length)return Q(n);K(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,r){var i=function(t){var e=document.createElement("li");return B(e,f["progress-step"]),M(e,t),e}(t);if(n.appendChild(i),r===e.currentProgressStep&&B(i,f["active-progress-step"]),r!==e.progressSteps.length-1){var o=function(t){var e=document.createElement("li");return B(e,f["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(o)}}))}(0,e),function(t,e){var n=ut.innerParams.get(t),r=m();n&&e.icon===n.icon?(gt(r,e),pt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(d).indexOf(e.icon)?(i('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),Q(r)):(K(r),gt(r,e),pt(r,e),B(r,e.showClass.icon)):Q(r)}(t,e),function(t,e){var n=_();if(!e.imageUrl)return Q(n);K(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),G(n,"width",e.imageWidth),G(n,"height",e.imageHeight),n.className=f.image,V(n,e,"image")}(0,e),function(t,e){var n=b();Y(n,e.title||e.titleText,"block"),e.title&&rt(e.title,n),e.titleText&&(n.innerText=e.titleText),V(n,e,"title")}(0,e),function(t,e){var n=N();M(n,e.closeButtonHtml),V(n,e,"closeButton"),Y(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e),function(t,e){var n=w();V(n,e,"htmlContainer"),e.html?(rt(e.html,n),K(n,"block")):e.text?(n.textContent=e.text,K(n,"block")):Q(n),function(t,e){var n=y(),r=ut.innerParams.get(t),o=!r||e.input!==r.input;ct.forEach((function(t){var r=f[t],i=z(n,r);(function(t,e){var n=F(y(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}}(n),e)n.setAttribute(r,e[r])})(t,e.inputAttributes),i.className=r,o&&Q(i)})),e.input&&(o&&function(t){if(!dt[t.input])return i('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=ft(t.input),n=dt[t.input](e,t);K(n),setTimeout((function(){U(n)}))}(e),function(t){var e=ft(t.input);t.customClass&&B(e,t.customClass.input)}(e))}(t,e)}(t,e),function(t,e){var n=O(),r=T(),i=E(),o=S(),a=I();e.showConfirmButton||e.showDenyButton||e.showCancelButton?K(n):Q(n),V(n,e,"actions"),st(i,"confirm",e),st(o,"deny",e),st(a,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return H([t,e,n],f.styled);B([t,e,n],f.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,B(t,f["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,B(e,f["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,B(n,f["default-outline"]))}(i,o,a,e),e.reverseButtons&&(n.insertBefore(a,r),n.insertBefore(o,r),n.insertBefore(i,r)),M(r,e.loaderHtml),V(r,e,"loader")}(0,e),function(t,e){var n=A();Y(n,e.footer),e.footer&&rt(e.footer,n),V(n,e,"footer")}(0,e),"function"==typeof e.didRender&&e.didRender(y())},wt=function(){return E()&&E().click()},_t=function(t){var e=y();e||Ce.fire(),e=y();var n=T();R()?Q(m()):Ct(e,t),K(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Ct=function(t,e){var n=O(),r=T();!e&&Z(E())&&(e=E()),K(n),e&&(Q(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),B([t,n],f.loading)},kt={},Et=function(){if(kt.timeout)return function(){var t=x(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),kt.timeout.stop()},St=function(){if(kt.timeout){var t=kt.timeout.start();return J(t),t}},Tt=!1,It={},Ot=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in It){var r=e.getAttribute(n);if(r)return void It[n].fire({template:r})}},At={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Nt={},Dt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Pt=function(t){return Object.prototype.hasOwnProperty.call(At,t)},Rt=function(t){return Nt[t]},jt=function(t){Pt(t)||r('Unknown parameter "'.concat(t,'"'))},Mt=function(t){Dt.includes(t)&&r('The parameter "'.concat(t,'" is incompatible with toasts'))},Lt=function(t){var e,n,i;Rt(t)&&(e=t,n=Rt(t),i='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),o.includes(i)||(o.push(i),r(i)))},Vt=Object.freeze({isValidParameter:Pt,isUpdatableParameter:function(t){return-1!==xt.indexOf(t)},isDeprecatedParameter:Rt,argsToParams:function(t){var e={};return"object"!=typeof t[0]||l(t[0])?["title","html","icon"].forEach((function(n,r){var o=t[r];"string"==typeof o||l(o)?e[n]=o:void 0!==o&&i("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))})):Object.assign(e,t[0]),e},isVisible:function(){return Z(y())},clickConfirm:wt,clickDeny:function(){return S()&&S().click()},clickCancel:function(){return I()&&I().click()},getContainer:p,getPopup:y,getTitle:b,getHtmlContainer:w,getImage:_,getIcon:m,getInputLabel:function(){return g(f["input-label"])},getCloseButton:N,getActions:O,getConfirmButton:E,getDenyButton:S,getCancelButton:I,getLoader:T,getFooter:A,getTimerProgressBar:x,getFocusableElements:D,getValidationMessage:k,isLoading:function(){return y().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _construct(this,e)},mixin:function(t){return function(e){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,_getPrototypeOf(n).apply(this,arguments))}return _inherits(n,e),_createClass(n,[{key:"_main",value:function(e,r){return _get(_getPrototypeOf(n.prototype),"_main",this).call(this,e,Object.assign({},t,r))}}]),n}(this)},showLoading:_t,enableLoading:_t,getTimerLeft:function(){return kt.timeout&&kt.timeout.getTimerLeft()},stopTimer:Et,resumeTimer:St,toggleTimer:function(){var t=kt.timeout;return t&&(t.running?Et():St())},increaseTimer:function(t){if(kt.timeout){var e=kt.timeout.increase(t);return J(e,!0),e}},isTimerRunning:function(){return kt.timeout&&kt.timeout.isRunning()},bindClickHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";It[t]=this,Tt||(document.body.addEventListener("click",Ot),Tt=!0)}});function Ft(){var t=ut.innerParams.get(this);if(t){var e=ut.domCache.get(this);Q(e.loader),R()?t.icon&&K(m()):Ut(e),H([e.popup,e.actions],f.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}var Ut=function(t){var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?K(e[0],"inline-block"):Z(E())||Z(S())||Z(I())||Q(t.actions)},qt=function(){n(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Bt={swalPromiseResolve:new WeakMap};function Ht(t,e,n,r){R()?Wt(t,r):(function(t){return new Promise((function(e){if(!t)return e();var n=window.scrollX,r=window.scrollY;kt.restoreFocusTimeout=setTimeout((function(){kt.previousActiveElement&&kt.previousActiveElement.focus?(kt.previousActiveElement.focus(),kt.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),window.scrollTo(n,r)}))}(n).then((function(){return Wt(t,r)})),kt.keydownTarget.removeEventListener("keydown",kt.keydownHandler,{capture:kt.keydownListenerCapture}),kt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),P()&&(null!==j.previousBodyPadding&&(document.body.style.paddingRight="".concat(j.previousBodyPadding,"px"),j.previousBodyPadding=null),function(){if(L(document.body,f.iosfix)){var t=parseInt(document.body.style.top,10);H(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),qt()),H([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function zt(t){var e=y();if(e){t=Gt(t);var n=ut.innerParams.get(this);if(n&&!L(e,n.hideClass.popup)){var r=Bt.swalPromiseResolve.get(this);H(e,n.showClass.popup),B(e,n.hideClass.popup);var i=p();H(i,n.showClass.backdrop),B(i,n.hideClass.backdrop),Kt(this,e,n),r(t)}}}var Gt=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},Kt=function(t,e,n){var r=p(),i=at&&$(e);"function"==typeof n.willClose&&n.willClose(e),i?Qt(t,e,r,n.returnFocus,n.didClose):Ht(t,r,n.returnFocus,n.didClose)},Qt=function(t,e,n,r,i){kt.swalCloseEventFinishedCallback=Ht.bind(null,t,n,r,i),e.addEventListener(at,(function(t){t.target===e&&(kt.swalCloseEventFinishedCallback(),delete kt.swalCloseEventFinishedCallback)}))},Wt=function(t,e){setTimeout((function(){"function"==typeof e&&e.bind(t.params)(),t._destroy()}))};function Yt(t,e,n){var r=ut.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Zt(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Xt,$t=function(){function t(e,n){_classCallCheck(this,t),this.callback=e,this.remaining=n,this.running=!1,this.start()}return _createClass(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Jt={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}},te=["swal-title","swal-html","swal-footer"],ee=function(t,e){n(t.attributes).forEach((function(n){-1===e.indexOf(n.name)&&r(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))},ne=function t(e){var n=y();if(e.target===n){var r=p();n.removeEventListener(at,t),r.style.overflowY="auto"}},re={select:function(t,e,n){var r=z(t,f.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,M(i,e),i.selected=ie(r,n.inputValue),t.appendChild(i)};e.forEach((function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach((function(t){return i(o,t[1],t[0])}))}else i(r,n,e)})),r.focus()},radio:function(t,e,n){var r=z(t,f.radio);e.forEach((function(t){var e=t[0],i=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=f.radio,o.value=e,ie(e,n.inputValue)&&(o.checked=!0);var s=document.createElement("span");M(s,i),s.className=f.label,a.appendChild(o),a.appendChild(s),r.appendChild(a)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},ie=function(t,e){return e&&e.toString()===t.toString()},oe=function(t,e){var n=ut.innerParams.get(t),r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,n);n.inputValidator?ae(t,r,e):t.getInput().checkValidity()?"deny"===e?se(t,r):ce(t,r):(t.enableButtons(),t.showValidationMessage(n.validationMessage))},ae=function(t,e,n){var r=ut.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return u(r.inputValidator(e,r.validationMessage))})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?se(t,e):ce(t,e)}))},se=function(t,e){var n=ut.innerParams.get(t||void 0);n.showLoaderOnDeny&&_t(S()),n.preDeny?Promise.resolve().then((function(){return u(n.preDeny(e,n.validationMessage))})).then((function(n){!1===n?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===n?e:n})})):t.closePopup({isDenied:!0,value:e})},ue=function(t,e){t.closePopup({isConfirmed:!0,value:e})},ce=function(t,e){var n=ut.innerParams.get(t||void 0);n.showLoaderOnConfirm&&_t(),n.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return u(n.preConfirm(e,n.validationMessage))})).then((function(n){Z(k())||!1===n?t.hideLoading():ue(t,void 0===n?e:n)}))):ue(t,e)},le=function(t,e,n){var r=D();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();y().focus()},he=["ArrowRight","ArrowDown"],fe=["ArrowLeft","ArrowUp"],de=!1,pe=function(e,r,o){return new Promise((function(l){var h=function(t){e.closePopup({isDismissed:!0,dismiss:t})};Bt.swalPromiseResolve.set(e,l),r.confirmButton.onclick=function(){return function(t){var e=ut.innerParams.get(t);t.disableButtons(),e.input?oe(t,"confirm"):ce(t,!0)}(e)},r.denyButton.onclick=function(){return function(t){var e=ut.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?oe(t,"deny"):se(t,!1)}(e)},r.cancelButton.onclick=function(){return function(e,n){e.disableButtons(),n(t.cancel)}(e,h)},r.closeButton.onclick=function(){return h(t.close)},function(e,n,r){ut.innerParams.get(e).toast?function(e,n,r){n.popup.onclick=function(){var n=ut.innerParams.get(e);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(t.close)}}(e,n,r):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(de=!0)}}}(n),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(de=!0)}}}(n),function(e,n,r){n.container.onclick=function(i){var o=ut.innerParams.get(e);de?de=!1:i.target===n.container&&a(o.allowOutsideClick)&&r(t.backdrop)}}(e,n,r))}(e,r,h),function(e,n,r,i){n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1),r.toast||(n.keydownHandler=function(n){return function(e,n,r){var i=ut.innerParams.get(e);i&&(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;wt(),e.preventDefault()}}(e,n,i):"Tab"===n.key?function(t,e){for(var n=t.target,r=D(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}le(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}(n):[].concat(he,fe).includes(n.key)?function(t){if([E(),S(),I()].includes(document.activeElement)){var e=he.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}}(n.key):"Escape"===n.key&&function(e,n,r){a(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))}(n,i,r))}(e,n,i)},n.keydownTarget=r.keydownListenerCapture?window:y(),n.keydownListenerCapture=r.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)}(e,kt,o,h),function(t,e){"select"===e.input||"radio"===e.input?function(t,e){var n=y(),r=function(t){return re[e.input](n,function t(e){var n=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,r){var i=e;"object"==typeof i&&(i=t(i)),n.push([r,i])})):Object.keys(e).forEach((function(r){var i=e[r];"object"==typeof i&&(i=t(i)),n.push([r,i])})),n}(t),e)};s(e.inputOptions)||c(e.inputOptions)?(_t(E()),u(e.inputOptions).then((function(e){t.hideLoading(),r(e)}))):"object"==typeof e.inputOptions?r(e.inputOptions):i("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))}(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(s(e.inputValue)||c(e.inputValue))&&(_t(E()),function(t,e){var n=t.getInput();Q(n),u(e.inputValue).then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),K(n),n.focus(),t.hideLoading()})).catch((function(e){i("Error in inputValue promise: ".concat(e)),n.value="",K(n),n.focus(),t.hideLoading()}))}(t,e))}(e,o),function(t){var e=p(),r=y();"function"==typeof t.willOpen&&t.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;(function(t,e,n){B(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),K(e,"grid"),setTimeout((function(){B(e,n.showClass.popup),e.style.removeProperty("opacity")}),10),B([document.documentElement,document.body],f.shown),n.heightAuto&&n.backdrop&&!n.toast&&B([document.documentElement,document.body],f["height-auto"])})(e,r,t),setTimeout((function(){!function(t,e){at&&$(e)?(t.style.overflowY="hidden",e.addEventListener(at,ne)):t.style.overflowY="auto"}(e,r)}),10),P()&&(function(t,e,n){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!L(document.body,f.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),B(document.body,f.iosfix),function(){var t,e=p();e.ontouchstart=function(e){t=function(t){var e=t.target,n=p();return!(function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType}(t)||function(t){return t.touches&&t.touches.length>1}(t)||e!==n&&(X(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||X(w())&&w().contains(e)))}(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),function(){if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){y().scrollHeight>window.innerHeight-44&&(p().style.paddingBottom="".concat(44,"px"))}}()}})(),e&&"hidden"!==n&&null===j.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(j.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(j.previousBodyPadding+function(){var t=document.createElement("div");t.className=f["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px")),setTimeout((function(){t.scrollTop=0}))}(e,t.scrollbarPadding,i),n(document.body.children).forEach((function(t){t===p()||t.contains(p())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))),R()||kt.previousActiveElement||(kt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((function(){return t.didOpen(r)})),H(e,f["no-transition"])}(o),ve(kt,o,h),ge(r,o),setTimeout((function(){r.container.scrollTop=0}))}))},ve=function(t,e,n){var r=x();Q(r),e.timer&&(t.timeout=new $t((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(K(r),setTimeout((function(){t.timeout&&t.timeout.running&&J(e.timer)}))))},ge=function(t,e){if(!e.toast)return a(e.allowEnterKey)?void(ye(t,e)||le(0,-1,1)):me()},ye=function(t,e){return e.focusDeny&&Z(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Z(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Z(t.confirmButton)||(t.confirmButton.focus(),0))},me=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},be=function(t){for(var e in t)t[e]=new WeakMap},we=Object.freeze({hideLoading:Ft,disableLoading:Ft,getInput:function(t){var e=ut.innerParams.get(t||this),n=ut.domCache.get(t||this);return n?F(n.popup,e.input):null},close:zt,closePopup:zt,closeModal:zt,closeToast:zt,enableButtons:function(){Yt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Yt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Zt(this.getInput(),!1)},disableInput:function(){return Zt(this.getInput(),!0)},showValidationMessage:function(t){var e=ut.domCache.get(this),n=ut.innerParams.get(this);M(e.validationMessage,t),e.validationMessage.className=f["validation-message"],n.customClass&&n.customClass.validationMessage&&B(e.validationMessage,n.customClass.validationMessage),K(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",f["validation-message"]),U(r),B(r,f.inputerror))},resetValidationMessage:function(){var t=ut.domCache.get(this);t.validationMessage&&Q(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),H(e,f.inputerror))},getProgressSteps:function(){return ut.domCache.get(this).progressSteps},_main:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(t){for(var e in!t.backdrop&&t.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t)jt(e),t.toast&&Mt(e),Lt(e)})(Object.assign({},o,t)),kt.currentInstance&&(kt.currentInstance._destroy(),P()&&qt()),kt.currentInstance=this;var a,s=function(t,i){var o=function(t){var i="string"==typeof t.template?document.querySelector(t.template):t.template;if(!i)return{};var o=i.content;return function(t){var e=te.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);n(t.children).forEach((function(t){var n=t.tagName.toLowerCase();-1===e.indexOf(n)&&r("Unrecognized element <".concat(n,">"))}))}(o),Object.assign(function(t){var e={};return n(t.querySelectorAll("swal-param")).forEach((function(t){ee(t,["name","value"]);var n=t.getAttribute("name"),r=t.getAttribute("value");"boolean"==typeof At[n]&&"false"===r&&(r=!1),"object"==typeof At[n]&&(r=JSON.parse(r)),e[n]=r})),e}(o),function(t){var r={};return n(t.querySelectorAll("swal-button")).forEach((function(t){ee(t,["type","color","aria-label"]);var n=t.getAttribute("type");r["".concat(n,"ButtonText")]=t.innerHTML,r["show".concat(e(n),"Button")]=!0,t.hasAttribute("color")&&(r["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(r["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),r}(o),function(t){var e={},n=t.querySelector("swal-image");return n&&(ee(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e}(o),function(t){var e={},n=t.querySelector("swal-icon");return n&&(ee(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e}(o),function(t){var e={},r=t.querySelector("swal-input");r&&(ee(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));var i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},n(i).forEach((function(t){ee(t,["value"]);var n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML}))),e}(o),function(t,e){var n={};for(var r in e){var i=e[r],o=t.querySelector(i);o&&(ee(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n}(o,te))}(t),a=Object.assign({},At,i,o,t);return a.showClass=Object.assign({},At.showClass,a.showClass),a.hideClass=Object.assign({},At.hideClass,a.hideClass),a}(t,o);(function(t){t.inputValidator||Object.keys(Jt).forEach((function(e){t.input===e&&(t.inputValidator=Jt[e])}))})(a=s),a.showLoaderOnConfirm&&!a.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),t.target="body")}(a),"string"==typeof a.title&&(a.title=a.title.split("\n").join("<br />")),function(t){var e,n=!!(e=p())&&(e.remove(),H([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0);if(tt())i("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=f.container,n&&B(r,f["no-transition"]),M(r,et);var o,a,s,u,c,l,h,d,v,g="string"==typeof(o=t.target)?document.querySelector(o):o;g.appendChild(r),function(t){var e=y();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&B(p(),f.rtl)}(g),a=y(),s=z(a,f.input),u=z(a,f.file),c=a.querySelector(".".concat(f.range," input")),l=a.querySelector(".".concat(f.range," output")),h=z(a,f.select),d=a.querySelector(".".concat(f.checkbox," input")),v=z(a,f.textarea),s.oninput=nt,u.onchange=nt,h.onchange=nt,d.onchange=nt,v.oninput=nt,c.oninput=function(){nt(),l.value=c.value},c.onchange=function(){nt(),c.nextSibling.value=c.value}}}(a),Object.freeze(s),kt.timeout&&(kt.timeout.stop(),delete kt.timeout),clearTimeout(kt.restoreFocusTimeout);var u=function(t){var e={popup:y(),container:p(),actions:O(),confirmButton:E(),denyButton:S(),cancelButton:I(),loader:T(),closeButton:N(),validationMessage:k(),progressSteps:C()};return ut.domCache.set(t,e),e}(this);return bt(this,s),ut.innerParams.set(this,s),pe(this,u,s)},update:function(t){var e=y(),n=ut.innerParams.get(this);if(!e||L(e,n.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(t).forEach((function(e){Ce.isUpdatableParameter(e)?i[e]=t[e]:r('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var o=Object.assign({},n,i);bt(this,o),ut.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=ut.domCache.get(this),e=ut.innerParams.get(this);e&&(t.popup&&kt.swalCloseEventFinishedCallback&&(kt.swalCloseEventFinishedCallback(),delete kt.swalCloseEventFinishedCallback),kt.deferDisposalTimer&&(clearTimeout(kt.deferDisposalTimer),delete kt.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),delete this.params,delete kt.keydownHandler,delete kt.keydownTarget,be(ut),be(Bt),delete kt.currentInstance)}}),_e=function(){function t(){if(_classCallCheck(this,t),"undefined"!=typeof window){Xt=this;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);ut.promise.set(this,o)}}return _createClass(t,[{key:"then",value:function(t){return ut.promise.get(this).then(t)}},{key:"finally",value:function(t){return ut.promise.get(this).finally(t)}}]),t}();Object.assign(_e.prototype,we),Object.assign(_e,Vt),Object.keys(we).forEach((function(t){_e[t]=function(){var e;if(Xt)return(e=Xt)[t].apply(e,arguments)}})),_e.DismissReason=t,_e.version="11.1.5";var Ce=_e;return Ce.default=Ce,Ce}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},SeVD:function(t,e,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu");n.d(e,"a",(function(){return l}));var l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).destination=t,n}return _inherits(e,t),e}(i.a),l=function(){var t=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(e,t),_createClass(e,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(e.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),e}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).destination=t,r.source=n,r}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),e}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).subject=t,r.subscriber=n,r.closed=!1,r}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),e}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),e}(s.a),f=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),e}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(r.b);function v(){return new r.a}function g(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}n.d(e,"a",(function(){return ao})),n.d(e,"b",(function(){return Os})),n.d(e,"c",(function(){return ks})),n.d(e,"d",(function(){return _s})),n.d(e,"e",(function(){return Cs})),n.d(e,"f",(function(){return wu})),n.d(e,"g",(function(){return lu})),n.d(e,"h",(function(){return Hi})),n.d(e,"i",(function(){return Fs})),n.d(e,"j",(function(){return ha})),n.d(e,"k",(function(){return Ns})),n.d(e,"l",(function(){return fa})),n.d(e,"m",(function(){return nn})),n.d(e,"n",(function(){return os})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return oo})),n.d(e,"s",(function(){return Na})),n.d(e,"t",(function(){return Da})),n.d(e,"u",(function(){return xs})),n.d(e,"v",(function(){return dt})),n.d(e,"w",(function(){return fu})),n.d(e,"x",(function(){return ft})),n.d(e,"y",(function(){return iu})),n.d(e,"z",(function(){return Hs})),n.d(e,"A",(function(){return m})),n.d(e,"B",(function(){return Is})),n.d(e,"C",(function(){return Ts})),n.d(e,"D",(function(){return ga})),n.d(e,"E",(function(){return pa})),n.d(e,"F",(function(){return va})),n.d(e,"G",(function(){return ma})),n.d(e,"H",(function(){return zn})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return vu})),n.d(e,"K",(function(){return Ma})),n.d(e,"L",(function(){return Xs})),n.d(e,"M",(function(){return wa})),n.d(e,"N",(function(){return ba})),n.d(e,"O",(function(){return Va})),n.d(e,"P",(function(){return wt})),n.d(e,"Q",(function(){return vo})),n.d(e,"R",(function(){return ou})),n.d(e,"S",(function(){return _n})),n.d(e,"T",(function(){return L})),n.d(e,"U",(function(){return wn})),n.d(e,"V",(function(){return mu})),n.d(e,"W",(function(){return Js})),n.d(e,"X",(function(){return As})),n.d(e,"Y",(function(){return Gi})),n.d(e,"Z",(function(){return ts})),n.d(e,"ab",(function(){return Bn})),n.d(e,"bb",(function(){return Qn})),n.d(e,"cb",(function(){return Sn})),n.d(e,"db",(function(){return hn})),n.d(e,"eb",(function(){return dn})),n.d(e,"fb",(function(){return yn})),n.d(e,"gb",(function(){return vn})),n.d(e,"hb",(function(){return pn})),n.d(e,"ib",(function(){return gn})),n.d(e,"jb",(function(){return Za})),n.d(e,"kb",(function(){return yu})),n.d(e,"lb",(function(){return Xa})),n.d(e,"mb",(function(){return $a})),n.d(e,"nb",(function(){return fn})),n.d(e,"ob",(function(){return G})),n.d(e,"pb",(function(){return go})),n.d(e,"qb",(function(){return xo})),n.d(e,"rb",(function(){return Ao})),n.d(e,"sb",(function(){return po})),n.d(e,"tb",(function(){return Ya})),n.d(e,"ub",(function(){return we})),n.d(e,"vb",(function(){return R})),n.d(e,"wb",(function(){return ln})),n.d(e,"xb",(function(){return Go})),n.d(e,"yb",(function(){return Xo})),n.d(e,"zb",(function(){return ua})),n.d(e,"Ab",(function(){return br})),n.d(e,"Bb",(function(){return bo})),n.d(e,"Cb",(function(){return Lo})),n.d(e,"Db",(function(){return ys})),n.d(e,"Eb",(function(){return St})),n.d(e,"Fb",(function(){return Dt})),n.d(e,"Gb",(function(){return E})),n.d(e,"Hb",(function(){return S})),n.d(e,"Ib",(function(){return At})),n.d(e,"Jb",(function(){return Pt})),n.d(e,"Kb",(function(){return _o})),n.d(e,"Lb",(function(){return Oo})),n.d(e,"Mb",(function(){return Io})),n.d(e,"Nb",(function(){return To})),n.d(e,"Ob",(function(){return $e})),n.d(e,"Pb",(function(){return Ho})),n.d(e,"Qb",(function(){return ut})),n.d(e,"Rb",(function(){return Co})),n.d(e,"Sb",(function(){return ws})),n.d(e,"Tb",(function(){return ko})),n.d(e,"Ub",(function(){return No})),n.d(e,"Vb",(function(){return ms})),n.d(e,"Wb",(function(){return Eo})),n.d(e,"Xb",(function(){return gs})),n.d(e,"Yb",(function(){return Wn})),n.d(e,"Zb",(function(){return xt})),n.d(e,"ac",(function(){return wo})),n.d(e,"bc",(function(){return Bo}));var y=g("Inject",(function(t){return{token:t}})),m=g("Optional"),b=g("Self"),w=g("SkipSelf"),_=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function k(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return I(t,t[A])||I(t,t[D])}function I(t,e){return e&&e.token===t?e:null}function O(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(P))?t[x]:null}var A=C({"\u0275prov":C}),x=C({"\u0275inj":C}),N=C({"\u0275provFallback":C}),D=C({ngInjectableDef:C}),P=C({ngInjectorDef:C});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var M=C({__forward_ref__:C});function L(t){return t.__forward_ref__=L,t.toString=function(){return R(this())},t}function V(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===L}var U,q="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,G=q||z||B||H,K=C({"\u0275cmp":C}),Q=C({"\u0275dir":C}),W=C({"\u0275pipe":C}),Y=C({"\u0275mod":C}),Z=C({"\u0275loc":C}),X=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),J=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),tt=new J("INJECTOR",-1),et={},nt=/\n/gm,rt=C({provide:String,useValue:C}),it=void 0;function ot(t){var e=it;return it=t,e}function at(t){var e=U;return U=t,e}function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&_.Optional?null:void 0,e)}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;return(U||st)(V(t),e)}function ct(t,e,n){var r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(R(t),"]"))}function lt(t){for(var e=[],n=0;n<t.length;n++){var r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=_.Default,a=0;a<r.length;a++){var s=r[a];s instanceof m||"Optional"===s.ngMetadataName||s===m?o|=_.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=_.SkipSelf:s instanceof b||"Self"===s.ngMetadataName||s===b?o|=_.Self:i=s instanceof y||s===y?s.token:s}e.push(ut(i,o))}else e.push(ut(r))}return e}var ht=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;if(e===et){var n=new Error("NullInjectorError: No provider for ".concat(R(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ft=function t(){_classCallCheck(this,t)},dt=function t(){_classCallCheck(this,t)};function pt(t,e){t.forEach((function(t){return Array.isArray(t)?pt(t,e):e(t)}))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yt(t,e){var n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var bt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function _t(t){return""+{toString:t}}var Ct={},kt=[],Et=0;function St(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=_t((function(){var e=t.directives,n=t.features,o=t.pipes;i.id+=Et++,i.inputs=Nt(t.inputs,r),i.outputs=Nt(t.outputs),n&&n.forEach((function(t){return t(i)})),i.directiveDefs=e?function(){return("function"==typeof e?e():e).map(Tt)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(It)}:null})),i}function Tt(t){return Rt(t)||function(t){return t[Q]||null}(t)}function It(t){return function(t){return t[W]||null}(t)}var Ot={};function At(t){var e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&_t((function(){Ot[t.id]=t.type})),e}function xt(t,e){return _t((function(){var n=Mt(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt}))}function Nt(t,e){if(null==t)return Ct;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Dt=St;function Pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rt(t){return t[K]||null}function jt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Mt(t,e){var n=t[Y]||null;if(!n&&!0===e)throw new Error("Type ".concat(R(t)," does not have '\u0275mod' property."));return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vt(t){return Array.isArray(t)&&!0===t[1]}function Ft(t){return 0!=(8&t.flags)}function Ut(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}var zt={lFrame:ae(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Gt(){return zt.bindingsEnabled}function Kt(){return zt.lFrame.lView}function Qt(){return zt.lFrame.tView}function Wt(){return zt.lFrame.previousOrParentTNode}function Yt(t,e){zt.lFrame.previousOrParentTNode=t,zt.lFrame.isParent=e}function Zt(){return zt.lFrame.isParent}function Xt(){return zt.checkNoChangesMode}function $t(t){zt.checkNoChangesMode=t}function Jt(){return zt.lFrame.bindingIndex++}function te(t,e){var n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function ee(){return zt.lFrame.currentQueryIndex}function ne(t){zt.lFrame.currentQueryIndex=t}function re(t,e){var n=oe();zt.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function ie(t,e){var n=oe(),r=t[1];zt.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function oe(){var t=zt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function se(){var t=zt.lFrame;return zt.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var ue=se;function ce(){var t=se();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return zt.lFrame.selectedIndex}function he(t){zt.lFrame.selectedIndex=t}function fe(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function de(t,e,n){ge(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&ge(t,e,n,r)}function ve(t,e){var n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function ge(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(a)):o.call(a)}var me=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r},be=void 0;function we(t){be=t}function _e(t){return!!t.listen}var Ce={createRenderer:function(t,e){return void 0!==be?be:"undefined"!=typeof document?document:void 0}};function ke(t,e,n){for(var r=_e(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Se(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Ie(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Oe(t){return-1!==t}function Ae(t){return 32767&t}function xe(t){return t>>16}function Ne(t,e){for(var n=xe(t),r=e;n>0;)r=r[15],n--;return r}function De(t){return"string"==typeof t?t:null==t?"":""+t}function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}var Re=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function je(t){return t instanceof Function?t():t}var Me=!0;function Le(t){var e=Me;return Me=t,e}var Ve=0;function Fe(t,e){var n=qe(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));var i=Be(t,e),o=t.injectorIndex;if(Oe(i))for(var a=Ae(i),s=Ne(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function He(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=Ve++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function ze(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){re(e,t);try{var a=o();if(null!=a||r&_.Optional)return a;throw new Error("No provider for ".concat(Pe(n),"!"))}finally{ue()}}else if("number"==typeof o){if(-1===o)return new Xe(t,e);var s=null,u=qe(t,e),c=-1,l=r&_.Host?e[16][6]:null;for((-1===u||r&_.SkipSelf)&&(c=-1===u?Be(t,e):e[u+8],Ze(r,!1)?(s=e[1],u=Ae(c),e=Ne(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(Ye(o,u,h.data)){var f=Ke(u,e,n,s,r,l);if(f!==Ge)return f}Ze(r,e[1].data[u+8]===l)&&Ye(o,u,e)?(s=h,u=Ae(c),e=Ne(c,e)):u=-1}}}if(r&_.Optional&&void 0===i&&(i=null),0==(r&(_.Self|_.Host))){var d=e[9],p=at(void 0);try{return d?d.get(n,i,r&_.Optional):ct(n,i,r&_.Optional)}finally{at(p)}}if(r&_.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Pe(n),"]"))}var Ge={};function Ke(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=Qe(s,a,n,null==r?Ut(s)&&Me:r!=a&&3===s.type,i&_.Host&&o===s);return null!==u?We(e,a,u,s):Ge}function Qe(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Bt(d)&&d.type===n)return u}return null}function We(t,e,n,r){var i=t[n],o=e.data;if(i instanceof me){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(Pe(o[n])));var s,u=Le(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=at(a.injectImpl)),re(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&at(s),Le(u),a.resolving=!1,ue()}}return i}function Ye(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Ze(t,e){return!(t&_.Self||t&_.Host&&e)}var Xe=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}]),t}();function $e(t){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[X]||function t(e){var n=e;if(F(e))return function(){var e=t(V(n));return e?e():null};var r=jt(n);if(null===r){var i=O(n);r=i&&i.factory}return r||null}(e);return null!==n?n:function(t){return new t}}function Je(t){return t.ngDebugContext}function tn(t){return t.ngOriginalError}function en(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var nn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||en}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Je(t)?Je(t):this._findContext(tn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=tn(t);e&&tn(e);)e=tn(e);return e}}]),t}(),rn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),on=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(rn),an=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(rn),sn=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(rn),un=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(rn),cn=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(rn);function ln(t){return t instanceof rn?t.changingThisBreaksApplicationSecurity:t}function hn(t,e){var n=fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function fn(t){return t instanceof rn&&t.getTypeName()||null}function dn(t){return new on(t)}function pn(t){return new an(t)}function vn(t){return new sn(t)}function gn(t){return new un(t)}function yn(t){return new cn(t)}var mn=!0,bn=!1;function wn(){return bn=!0,mn}function _n(){if(bn)throw new Error("Cannot enable prod mode after platform setup.");mn=!1}var Cn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),kn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,En=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sn(t){return(t=String(t)).match(kn)||t.match(En)?t:(wn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Tn(t){var e={},n=!0,r=!1,i=void 0;try{for(var o,a=t.split(",")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){e[o.value]=!0}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}function In(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var On,An=Tn("area,br,col,hr,img,wbr"),xn=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nn=Tn("rp,rt"),Dn=In(Nn,xn),Pn=In(An,In(xn,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),In(Nn,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dn),Rn=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jn=Tn("srcset"),Mn=In(Rn,jn,Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ln=Tn("script,style,template"),Vn=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Pn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ln.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Mn.hasOwnProperty(s)){var u=o.value;Rn[s]&&(u=Sn(u)),jn[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Sn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',qn(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Pn.hasOwnProperty(e)&&!An.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(qn(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),Fn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Un=/([^\#-~ |!])/g;function qn(t){return t.replace(/&/g,"&amp;").replace(Fn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Un,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Bn(t,e){var n=null;try{On=On||new Cn(t);var r=e?String(e):"";n=On.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=On.getInertBodyElement(r)}while(r!==o);var a=new Vn,s=a.sanitizeChildren(Hn(n)||n);return wn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Hn(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Hn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var zn=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Gn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Kn=/^url\(([^)]+)\)$/;function Qn(t){if(!(t=String(t).trim()))return"";var e=t.match(Kn);return e&&Sn(e[1])===e[1]||t.match(Gn)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(wn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function Wn(t){var e,n=(e=Kt())&&e[12];return n?n.sanitize(zn.URL,t)||"":hn(t,"URL")?ln(t):Sn(De(t))}function Yn(t){for(;Array.isArray(t);)t=t[0];return t}function Zn(t,e){return Yn(e[t+19])}function Xn(t,e){return Yn(e[t.index])}function $n(t,e){return t.data[e+19]}function Jn(t,e){var n=e[t];return Lt(n)?n:n[0]}function tr(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function er(t){return 4==(4&t[2])}function nr(t){return 128==(128&t[2])}function rr(t,e){return null===t||null==e?null:t[e]}function ir(t){t[18]=0}function or(t,e){t.__ngContext__=e}function ar(t){throw new Error("Multiple components match node with tagname ".concat(t.tagName))}function sr(){throw new Error("Cannot mix multi providers and regular providers")}function ur(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function cr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ur((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function lr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function hr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!lr(t,u,n)||""===u&&1===e.length){if(fr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!cr(t.attrs,c,n)){if(fr(r))return!1;a=!0}continue}var l=dr(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(fr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ur(f,c,0)||2&r&&c!==h){if(fr(r))return!1;a=!0}}}}else{if(!a&&!fr(r)&&!fr(u))return!1;if(a&&fr(u))continue;a=!1,r=u|1&r}}return fr(r)||a}function fr(t){return 0==(1&t)}function dr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function pr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(hr(t,e[r],n))return!0;return!1}function vr(t,e){return t?":not("+e.trim()+")":e}function gr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||fr(a)||(e+=vr(o,i),i=""),r=a,o=o||!fr(r);n++}return""!==i&&(e+=vr(o,i)),e}var yr={};function mr(t){var e=t[3];return Vt(e)?e[3]:e}function br(t){wr(Qt(),Kt(),le()+t,Xt())}function wr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&de(e,i,n)}else{var o=t.preOrderHooks;null!==o&&pe(e,o,0,n)}he(n)}function _r(t,e){return t<<17|e<<2}function Cr(t){return t>>17&32767}function kr(t){return 2|t}function Er(t){return(131068&t)>>2}function Sr(t,e){return-131069&t|e<<2}function Tr(t){return 1|t}function Ir(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ne(i),a.contentQueries(2,e[o],o)}}}function Or(t,e,n){return _e(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ar(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ir(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function xr(t,e,n,r,i,o){var a=n+19,s=t.data[a]||function(t,e,n,r,i,o){var a=Wt(),s=Zt(),u=s?a:a&&a.parent,c=t.data[n]=Fr(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return Yt(s,!0),s}function Nr(t,e,n){ie(e,e[6]);try{var r=t.viewQuery;null!==r&&ui(1,r,n);var i=t.template;null!==i&&Rr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ir(t,e),t.staticViewQueries&&ui(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)ri(t,e[n])}(e,o)}finally{e[2]&=-5,ce()}}function Dr(t,e,n,r){var i=e[2];if(256!=(256&i)){ie(e,e[6]);var o=Xt();try{ir(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&de(e,s,null)}else{var u=t.preOrderHooks;null!==u&&pe(e,u,0,null),ve(e,0)}if(function(t){for(var e=t[13];null!==e;){var n=void 0;if(Vt(e)&&(n=e[2])>>1==-1){for(var r=9;r<e.length;r++){var i=e[r],o=i[1];nr(i)&&Dr(o,i,o.template,i[8])}0!=(1&n)&&ei(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Ir(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&de(e,c)}else{var l=t.contentHooks;null!==l&&pe(e,l,1),ve(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(he(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(te(r,i),a(2,e[i])),i++)}}finally{he(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)ni(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ui(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&de(e,d)}else{var p=t.viewHooks;null!==p&&pe(e,p,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{ce()}}}function Pr(t,e,n,r){var i=e[10],o=!Xt(),a=er(e);try{o&&!a&&i.begin&&i.begin(),a&&Nr(t,e,r),Dr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Rr(t,e,n,r,i){var o=le();try{he(-1),2&r&&e.length>19&&wr(t,e,0,Xt()),n(r,i)}finally{he(o)}}function jr(t,e,n){Gt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),or(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Bt(u);c&&Xr(e,n,u);var l=We(e,t,s,n);or(l,e),null!==a&&$r(0,s-i,l,u,0,a),c&&(Jn(n.index,e)[8]=l)}}(t,e,n,Xn(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-19;try{he(s);for(var u=r;u<i;u++){var c=t.data[u],l=e[u];null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?Gr(c,l):a&&o.push(null)}}finally{he(-1)}}(t,e,n))}function Mr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xn,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Lr(t){return t.tView||(t.tView=Vr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Vr(t,e,n,r,i,o,a,s,u,c){var l=19+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:yr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c}}function Fr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ur(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function qr(t,e,n,r,i,o,a,s){var u,c,l=Zn(n,e),h=$n(t,n),f=h.inputs;if(!a&&null!=f&&(u=f[r]))di(t,e,u,r,i),Ut(h)&&function(t,e){var n=Jn(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===h.type){r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c;var d=s?s(h,e):e[11];i=null!=o?o(i,h.tagName||"",r):i,_e(d)?d.setProperty(l,r,i):Se(r)||(l.setProperty?l.setProperty(r,i):l[r]=i)}}function Br(t,e,n,r){var i=!1;if(Gt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];pr(n,a.selectors,!1)&&(i||(i=[]),He(Fe(n,e),t,a.type),Bt(a)?(2&n.flags&&ar(n),Qr(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,Yr(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Kr(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Te(n.mergedAttrs,d.hostAttrs),Zr(t,e,d),Wr(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),h=!0),Hr(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs;o.push(null!==i?Jr(l,i):null),a=Ur(l,u,a),s=Ur(c.outputs,u,s)}null!==a&&((a.hasOwnProperty("class")||a.hasOwnProperty("className"))&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),zr(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),i}function Hr(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function zr(t,e,n){for(var r=0;r<n;r++)e.push(yr),t.blueprint.push(yr),t.data.push(null)}function Gr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kr(t,e,n){var r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Qr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wr(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function Yr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zr(t,e,n){t.data.push(n);var r=n.factory||(n.factory=jt(n.type)),i=new me(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function Xr(t,e,n){var r=Xn(e,t),i=Lr(n),o=t[10],a=ii(t,Ar(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function $r(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Jr(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ti(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function ei(t,e){for(var n=t[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==e&&0==(16&o[2])){var a=i[1];Dr(a,i,a.template,i[8])}}}function ni(t,e){var n=Jn(e,t);if(nr(n)&&80&n[2]){var r=n[1];Dr(r,n,r.template,n[8])}}function ri(t,e){var n=Jn(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Nr(r,n,n[8])}function ii(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oi(t){for(;t;){t[2]|=64;var e=mr(t);if(Ht(t)&&!e)return t;t=e}return null}function ai(t,e,n){var r=e[10];r.begin&&r.begin();try{Dr(t,e,t.template,n)}catch(i){throw fi(e,i),i}finally{r.end&&r.end()}}function si(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=tr(n),i=r[1];Pr(i,r,i.template,n)}}(t[8])}function ui(t,e,n){ne(0),e(t,n)}var ci=Promise.resolve(null);function li(t){return t[7]||(t[7]=[])}function hi(t){return t.cleanup||(t.cleanup=[])}function fi(t,e){var n=t[9],r=n?n.get(nn,null):null;r&&r.handleError(e)}function di(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function pi(t,e){var n=e[3];return-1===t.index?Vt(n)?n:null:n}function vi(t,e){var n=pi(t,e);return n?Ti(e[11],n[7]):null}function gi(t,e,n,r,i){if(null!=r){var o,a=!1;Vt(r)?o=r:Lt(r)&&(a=!0,r=r[0]);var s=Yn(r);0===t&&null!==n?null==i?Ei(e,n,s):ki(e,n,s,i||null):1===t&&null!==n?ki(e,n,s,i||null):2===t?function(t,e,n){var r=Ti(t,e);r&&function(t,e,n,r){_e(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Yn(n)&&gi(e,t,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];xi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function yi(t,e,n,r){var i=vi(t.node,e);i&&xi(t,e,e[11],n?1:2,i,r)}function mi(t,e){var n=t[5],r=n.indexOf(e);n.splice(r,1)}function bi(t,e){if(!(t.length<=9)){var n=9+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&mi(i,r),e>0&&(t[n-1][4]=r[4]);var o=gt(t,9+e);yi(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function wi(t,e){if(!(256&e[2])){var n=e[11];_e(n)&&n.destroyNode&&xi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Ci(t[1],t);for(;e;){var n=null;if(Lt(e))n=e[13];else{var r=e[9];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Ci(e[1],e),e=_i(e,t);null===e&&(e=t),Lt(e)&&Ci(e[1],e),n=e&&e[4]}e=n}}(e)}}function _i(t,e){var n;return Lt(t)&&(n=t[6])&&2===n.type?pi(n,t):t[3]===e?null:t[3]}function Ci(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];i instanceof me||n[r+1].call(i)}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Yn(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&_e(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Vt(e[3])){r!==e[3]&&mi(r,e);var i=e[5];null!==i&&i.detachView(t)}}}function ki(t,e,n,r){_e(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ei(t,e,n){_e(t)?t.appendChild(e,n):e.appendChild(n)}function Si(t,e,n,r){null!==r?ki(t,e,n,r):Ei(t,e,n)}function Ti(t,e){return _e(t)?t.parentNode(e):e.parentNode}function Ii(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?vi(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xn(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==wt.ShadowDom&&a!==wt.Native)return null}return Xn(r,n)}(t,r,e);if(null!=i){var o=e[11],a=function(t,e){if(2===t.type){var n=pi(t,e);return null===n?null:Oi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Xn(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Si(o,i,n[s],a);else Si(o,i,n,a)}}function Oi(t,e){var n=9+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Xn(n,e);if(0===r)return Oi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Vt(o)?Oi(-1,o):Yn(o)}var a=e[16],s=a[6],u=mr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Ai(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&or(Yn(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Ai(t,e,n.child,r,i,o,!1),gi(e,t,i,s,o)):1===u?Ni(t,e,r,n,i,o):gi(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function xi(t,e,n,r,i,o){Ai(n,r,t.node.child,e,i,o,!1)}function Ni(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)gi(e,t,i,s[u],o);else Ai(t,e,s,a[3],i,o,!0)}function Di(t,e,n){_e(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pi(t,e,n){_e(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ri,ji,Mi,Li=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}wi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,li(n=this._lView).push(r),e.firstCreatePass&&hi(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){oi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ai(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){$t(!0);try{ai(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,xi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Yn(a)),Vt(a))for(var s=9;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6],d=mr(h),p=f.projection[r.projection];null!==p&&null!==d&&t(d[1],d,p,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Vi=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._view=t,n}return _inherits(e,t),_createClass(e,[{key:"detectChanges",value:function(){si(this._view)}},{key:"checkNoChanges",value:function(){!function(t){$t(!0);try{si(t)}finally{$t(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(Li);function Fi(t,e,n){return Ri||(Ri=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(t)),new Ri(Xn(e,n))}function Ui(t,e,n,r){return ji||(ji=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._declarationView=t,i._declarationTContainer=n,i.elementRef=r,i}return _inherits(e,t),_createClass(e,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ar(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Nr(e,n,t);var i=new Li(n);return i._tViewNode=n[6],i}}]),e}(t)),0===n.type?new ji(r,n,Fi(e,n,r)):null}function qi(t,e,n,r){var i;Mi||(Mi=function(t){function n(t,e,r){var i;return _classCallCheck(this,n),(i=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)))._lContainer=t,i._hostTNode=e,i._hostView=r,i}return _inherits(n,t),_createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ft,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Vt(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Mi(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],vt(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(a,e);var s=e[5];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),yi(r,n,!0,Oi(s,this._lContainer)),t.attachToViewContainerRef(this),vt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);(function(t,e){var n=bi(t,e);n&&wi(n[1],n)})(this._lContainer,e),gt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=bi(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new Li(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Fi(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Xe(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Be(this._hostTNode,this._hostView),e=Ne(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=xe(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Oe(t)&&null!=n?new Xe(n,e):new Xe(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),n}(t));var o=r[n.index];if(Vt(o))(function(t,e){t[2]=-2})(i=o);else{var a;if(4===n.type)a=Yn(o);else if(a=r[11].createComment(""),Ht(r)){var s=r[11],u=Xn(n,r);ki(s,Ti(s,u),a,function(t,e){return _e(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Ii(r[1],r,a,n);r[n.index]=i=ti(o,r,a,n),ii(r,i)}return new Mi(i,n,r)}function Bi(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ut(t)){var r=Jn(t.index,e);return new Li(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Li(e[16],e):null}(Wt(),Kt(),t)}var Hi=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return zi()},t}(),zi=Bi,Gi=new J("Set Injector scope."),Ki={},Qi={},Wi=[],Yi=void 0;function Zi(){return void 0===Yi&&(Yi=new ht),Yi}function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return e=e||Zi(),new $i(t,n,e,r)}var $i=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&pt(n,(function(t){return i.processProvider(t,e,n)})),pt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(tt,eo(void 0,this));var s=this.records.get(Gi);this.scope=null!=s?s.value:null,this.injectorDefTypes.forEach((function(t){return i.get(t)})),this.source=o||("object"==typeof e?null:R(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default;this.assertNotDestroyed();var r,i=ot(this);try{if(!(n&_.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof J)&&T(t);o=a&&this.injectableDefInScope(a)?eo(Ji(t),Ki):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&_.Self?Zi():this.parent).get(t,e=n&_.Optional&&e===et?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(R(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(nt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{ot(i)}}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(R(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=V(t)))return!1;var i=O(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=O(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{pt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;pt(i,(function(t){return r.processProvider(t,n,i||Wi)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,eo(i.factory,Ki));var h=i.providers;if(null!=h&&!s){var f=t;pt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ro(t=V(t))?t:V(t&&t.provide),i=function(t,e,n){return no(t)?eo(void 0,t.useValue):eo(to(t,e,n),Ki)}(t,e,n);if(ro(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&sr()}else{var a=this.records.get(r);a?void 0===a.multi&&sr():((a=eo(void 0,Ki,!0)).factory=function(){return lt(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Qi?function(t){throw new Error("Cannot instantiate cyclic dependency! ".concat(t))}(R(t)):e.value===Ki&&(e.value=Qi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Ji(t){var e=T(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;var r=O(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error("Token ".concat(R(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(R(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[A]||t[D]||t[N]&&t[N]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function to(t,e,n){var r,i=void 0;if(ro(t)){var o=V(t);return jt(o)||Ji(o)}if(no(t))i=function(){return V(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(lt(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ut(V(t.useExisting))};else{var a=V(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(R(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(a)||Ji(a);i=function(){return _construct(a,_toConsumableArray(lt(t.deps)))}}return i}function eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function no(t){return null!==t&&"object"==typeof t&&rt in t}function ro(t){return"function"==typeof t}var io=function(t,e,n){return Xi({name:n},e,t,n)},oo=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?io(t,e,""):io(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=et,t.NULL=new ht,t.\u0275prov=E({token:t,providedIn:"any",factory:function(){return ut(tt)}}),t.__NG_ELEMENT_ID__=-1,t}(),ao=new J("AnalyzeForEntryComponents"),so=new Map,uo=new Set;function co(t){return"string"==typeof t?t:t.text()}function lo(t,e){for(var n=t.styles,r=t.classes,i=0,o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:1==i?r=j(r,a):2==i&&(n=j(n,a+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}var ho=null;function fo(){if(!ho){var t=G.Symbol;if(t&&t.iterator)ho=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ho=r)}}return ho}function po(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var vo=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function go(t){return!!yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&fo()in t)}function yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function bo(t,e,n,r){var i=Kt();return mo(i,Jt(),e)&&function(t,e,n,r,i,o,a){var s=Zn(t,i),u=i[11];if(null==n)_e(u)?u.removeAttribute(s,e,a):s.removeAttribute(e);else{var c=$n(r,t),l=null==o?De(n):o(n,c.tagName||"",e);_e(u)?u.setAttribute(s,e,l,a):a?s.setAttributeNS(a,e,l):s.setAttribute(e,l)}}(le(),t,e,Qt(),i,n,r),bo}function wo(t,e,n,r,i,o,a,s){var u=Kt(),c=Qt(),l=t+19,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=xr(e,n[6],t,0,a||null,rr(c,s));Br(e,n,l,rr(c,u)),fe(e,l);var h=l.tViews=Vr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Fr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];Yt(h,!1);var f=u[11].createComment("");Ii(c,u,f,h),or(f,u),ii(u,u[l]=ti(f,u,f,h)),qt(h)&&jr(c,u,h),null!=a&&Mr(u,h,s)}function _o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default,n=Kt();return null==n?ut(t,e):ze(Wt(),n,V(t),e)}function Co(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ee(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(Wt(),t)}function ko(){throw new Error("invalid")}function Eo(t,e,n){var r=Kt();if(mo(r,Jt(),e)){var i=le();qr(Qt(),r,i,t,e,n)}return Eo}function So(t,e,n,r,i){var o=e.inputs,a=i?"class":"style";di(t,n,o[a]||i&&o.className,a,r)}function To(t,e,n,r){var i=Kt(),o=Qt(),a=19+t,s=i[11],u=i[a]=Or(e,s,zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=rr(s,o),c=xr(e,n[6],t,3,i,u);return Br(e,n,c,rr(s,a)),null!==c.mergedAttrs&&lo(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];Yt(c,!0);var l=c.mergedAttrs;null!==l&&ke(s,u,l);var h=c.classes;null!==h&&Pi(s,u,h);var f=c.styles;null!==f&&Di(s,u,f),Ii(o,i,u,c),0===zt.lFrame.elementDepthCount&&or(u,i),zt.lFrame.elementDepthCount++,qt(c)&&(jr(o,i,c),function(t,e,n){if(Ft(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Mr(i,c)}function Io(){var t=Wt();Zt()?zt.lFrame.isParent=!1:Yt(t=t.parent,!1);var e=t;zt.lFrame.elementDepthCount--;var n=Qt();n.firstCreatePass&&(fe(n,t),Ft(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&So(n,e,Kt(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&So(n,e,Kt(),e.styles,!1)}function Oo(t,e,n,r){To(t,e,n,r),Io()}function Ao(t){return!!t&&"function"==typeof t.then}function xo(t){return!!t&&"function"==typeof t.subscribe}function No(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Kt(),o=Qt(),a=Wt();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=li(e),h=!0;if(3===r.type){var f=Xn(r,e),d=s?s(f):Ct,p=d.target||f,v=l.length,g=s?function(t){return s(Yn(t[r.index])).target}:r.index;if(_e(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=Po(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=Po(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var b,w=r.outputs;if(h&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var C=0;C<_;C+=2){var k=e[b[C]][b[C+1]].subscribe(o),E=l.length;l.push(o,k),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],a,t,e,n,r),No}function Do(t,e,n){try{return!1!==e(n)}catch(r){return fi(t,r),!1}}function Po(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Jn(t.index,e):e;0==(32&e[2])&&oi(a);for(var s=Do(e,n,o),u=i.__ngNextListenerFn__;u;)s=Do(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}var Ro=[];function jo(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Cr(o):Er(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Mo(t[s],e)&&(u=!0,t[s+1]=r?Tr(c):kr(c)),s=r?Cr(c):Er(c)}u&&(t[n+1]=r?kr(o):Tr(o))}function Mo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function Lo(t,e){return function(t,e,n,r){var i,o,a,s=Kt(),u=Qt(),c=(i=zt.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[le()+19],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Fo(n=Vo(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Vo(i,t,e,n,!0),null===o){var s=function(t,e,n){var r=e.classBindings;if(0!==Er(r))return t[Cr(r)]}(t,e);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Cr(e.classBindings)]=r}(t,e,0,s=Fo(s=Vo(null,t,e,s[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Fo(r,t[o].hostAttrs,!0);return Fo(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,s=Cr(a),u=Er(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||mt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Cr(t[s+1]);t[r+1]=_r(f,s),0!==f&&(t[f+1]=Sr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=_r(s,0),0!==s&&(t[s+1]=Sr(t[s+1],r)),s=r;else t[r+1]=_r(u,0),0===s?s=r:t[u+1]=Sr(t[u+1],r),u=r;l&&(t[r+1]=kr(t[r+1])),jo(t,c,r,!0),jo(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&mt(o,e)>=0&&(n[r+1]=Tr(n[r+1]))}(e,c,t,r),a=_r(s,u),e.classBindings=a}(i,o,e,n,a)}}(u,t,c),e!==yr&&mo(s,c,e))&&(null==n&&(a=function(){var t=zt.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];qo(1==(1&c)?Uo(u,e,n,i,Er(c),!0):void 0)||(qo(o)||2==(2&c)&&(o=Uo(u,null,n,i,s,!0)),function(t,e,n,r,i){var o=_e(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Zn(le(),n),i,o))}}(u,u.data[le()+19],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=R(ln(t)))),t}(e,n),0,c))}(t,e,null),Lo}function Vo(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Fo(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Fo(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=mt(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function Uo(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===yr&&(f=h?Ro:void 0);var d=h?yt(f,r):l===r?f:void 0;if(c&&!qo(d)&&(d=yt(u,r)),qo(d)&&(s=d,a))return s;var p=t[i+1];i=a?Cr(p):Er(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=yt(v,r))}return s}function qo(t){return void 0!==t}function Bo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Kt(),r=Qt(),i=t+19,o=r.firstCreatePass?xr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return _e(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ii(r,n,a,o),Yt(o,!1)}function Ho(t,e,n){var r=Kt();if(mo(r,Jt(),e)){var i=le();qr(Qt(),r,i,t,e,n,!0)}return Ho}function zo(t,e){var n=tr(t)[1],r=n.data.length-1;fe(n,{directiveStart:r,directiveEnd:r+1})}function Go(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Ko(t.inputs),o.declaredInputs=Ko(t.declaredInputs),o.outputs=Ko(t.outputs);var a=i.hostBindings;a&&Yo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Qo(t,s),u&&Wo(t,u),k(t.inputs,i.inputs),k(t.declaredInputs,i.declaredInputs),k(t.outputs,i.outputs),Bt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Go&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Te(i.hostAttrs,n=Te(n,i.hostAttrs))}}(r)}function Ko(t){return t===Ct?{}:t===kt?[]:t}function Qo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Wo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Yo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Zo=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Xo(){return $o.ngInherit=!0,$o}function $o(t){t.type.prototype.ngOnChanges&&(t.setInput=Jo,t.onChanges=function(){var t=ta(this),e=t&&t.current;if(e){var n=t.previous;if(n===Ct)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Jo(t,e,n,r){var i=ta(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Zo(u&&u.currentValue,e,a===Ct),t[r]=e}function ta(t){return t.__ngSimpleChanges__||null}function ea(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(var o=0;o<t.length;o++)ea(t[o],e,n,r,i);else{var a=Qt(),s=Kt(),u=ro(t)?t:V(t.provide),c=to(t),l=Wt(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(ro(t)||!t.multi){var p=new me(c,i,_o),v=ia(u,e,i?h:h+d,f);-1===v?(He(Fe(l,s),a,u),na(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=ia(u,e,h+d,f),y=ia(u,e,h,h+d),m=g>=0&&n[g],b=y>=0&&n[y];if(i&&!b||!i&&!m){He(Fe(l,s),a,u);var w=function(t,e,n,r,i){var o=new me(t,n,_o);return o.multi=[],o.index=e,o.componentProviders=0,ra(o,i,r&&!n),o}(i?aa:oa,n.length,i,r,c);!i&&b&&(n[y].providerFactory=w),na(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(w),s.push(w)}else na(a,t,g>-1?g:y),ra(n[i?y:g],c,!i&&r);!i&&r&&b&&n[y].componentProviders++}}}function na(t,e,n){if(ro(e)||e.useClass){var r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function ra(t,e,n){t.multi.push(e),n&&t.componentProviders++}function ia(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function oa(t,e,n,r){return sa(this.multi,[])}function aa(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=We(n,n[1],this.providerFactory.index,r);sa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else sa(o,i=[]);return i}function sa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Qt();if(r.firstCreatePass){var i=Bt(t);ea(n,r.data,r.blueprint,i,!0),ea(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var ca=function t(){_classCallCheck(this,t)},la=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(R(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ha=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new la,t}(),fa=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return da(t)},t}(),da=function(t){return Fi(t,Wt(),Kt())},pa=function t(){_classCallCheck(this,t)},va=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ga=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ya()},t}(),ya=function(){var t=Kt(),e=Jn(Wt().index,t);return function(t){var e=t[11];if(_e(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)},ma=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return null}}),t}(),ba=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},wa=new ba("9.0.3"),_a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return go(t)}},{key:"create",value:function(t){return new ka(t)}}]),t}(),Ca=function(t,e){return e},ka=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ca}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ia(n,r,i)?e:n,a=Ia(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!go(t))throw new Error("Error trying to diff '".concat(R(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&po(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),po(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[fo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&po(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),po(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(po(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(po(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ea(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Ea=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Sa=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&po(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ta=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Sa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Ia(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Oa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||yo(t)}},{key:"create",value:function(){return new Aa}}]),t}(),Aa=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||yo(t)))throw new Error("Error trying to diff '".concat(R(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new xa(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){po(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),xa=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Na=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new m]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new _a])}}),t}(),Da=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new m]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new Oa])}}),t}(),Pa=[new Oa],Ra=new Na([new _a]),ja=new Da(Pa),Ma=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return La(t,fa)},t}(),La=function(t,e){return Ui(t,e,Wt(),Kt())},Va=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Fa(t,fa)},t}(),Fa=function(t,e){return qi(t,e,Wt(),Kt())},Ua={},qa=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).ngModule=t,n}return _inherits(e,t),_createClass(e,[{key:"resolveComponentFactory",value:function(t){var e=Rt(t);return new za(e,this.ngModule)}}]),e}(ha);function Ba(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ha=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Re}}),za=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).componentDef=t,r.ngModule=n,r.componentType=t.type,r.selector=t.selectors.map(gr).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!n,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ua,i);return o!==Ua||r===Ua?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(pa,Ce),u=a.get(ma,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(_e(t))return t.selectRootElement(e,n===wt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Or(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Re,clean:ci,playerHandler:null,flags:0},v=Vr(0,-1,null,1,0,null,null,null,null,null),g=Ar(null,v,p,f,null,null,s,c,u,a);ie(g,null);try{var y=function(t,e,n,r,i,o){var a=n[1];n[19]=t;var s=xr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(lo(s,u),null!==t&&(ke(i,t,u),null!==s.classes&&Pi(i,t,s.classes),null!==s.styles&&Di(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ar(n,Lr(e),null,e.onPush?64:16,n[19],s,r,c,void 0);return a.firstCreatePass&&(He(Fe(s,n),a,e.type),Qr(a,s),Yr(s,n.length,1)),ii(n,l),n[19]=l}(h,this.componentDef,g,s,c);if(h)if(n)ke(c,h,["ng-version",wa.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!fr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,w=m.classes;b&&ke(c,h,b),w&&w.length>0&&Pi(c,h,w.join(" "))}o=$n(g[1],0),e&&(o.projection=e.map((function(t){return Array.from(t)}))),i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Kr(t,r,1),Zr(t,e,n));var i=We(e,t,e.length-1,r);or(i,e);var o=Xn(r,e);return o&&or(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=Wt();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){he(s.index-19);var u=n[1];Hr(u,e),zr(u,n,e.hostVars),Gr(e,a)}return a}(y,this.componentDef,g,p,[zo]),Nr(v,g,null)}finally{ce()}var _=new Ga(this.componentType,i,Fi(fa,o,g),g,o);return n&&!d||(_.hostView._tViewNode.child=o),_}},{key:"inputs",get:function(){return Ba(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ba(this.componentDef.outputs)}}]),e}(ca),Ga=function(t){function e(t,n,r,i,o){var a,s,u,c;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new Vi(i),a.hostView._tViewNode=(s=i[1],u=i,null==(c=s.node)&&(s.node=c=Fr(0,null,2,-1,null,null)),u[6]=c),a.componentType=t,a}return _inherits(e,t),_createClass(e,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new Xe(this._tNode,this._rootLView)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}()),Ka=void 0,Qa=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Wa={};function Ya(t,e,n){"string"!=typeof e&&(n=e,e=t[ts.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Wa[e]=t,n&&(Wa[e][ts.ExtraData]=n)}function Za(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ja(e);if(n)return n;var r=e.split("-")[0];if(n=Ja(r))return n;if("en"===r)return Qa;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Xa(t){return Za(t)[ts.CurrencyCode]||null}function $a(t){return Za(t)[ts.PluralCase]}function Ja(t){return t in Wa||(Wa[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),Wa[t]}var ts=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function es(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ns=new Map,rs=function(t){function e(t,n){var r;_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=n,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new qa(_assertThisInitialized(r));var i=Mt(t),o=t[Z]||null;return o&&es(o),r._bootstrapComponents=je(i.bootstrap),r._r3Injector=Xi(t,n,[{provide:ft,useValue:_assertThisInitialized(r)},{provide:ha,useValue:r.componentFactoryResolver}],R(t)),r.instance=r.get(t),r}return _inherits(e,t),_createClass(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default;return t===oo||t===ft||t===tt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),e}(ft),is=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).moduleType=t,null!==Mt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(R(e)," vs ").concat(R(e.name)))})(n,ns.get(n),e),ns.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),n}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t){return new rs(this.moduleType,t)}}]),e}(dt),os=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).__isAsync=n,t}return _inherits(e,t),_createClass(e,[{key:"emit",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,n,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(a=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(e.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),e}(r.a);function as(){return this._results[fo()]()}var ss=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new os,this.length=0;var e=fo(),n=t.prototype;n[e]||(n[e]=as)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),us=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),cs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==bs(t,e).matches&&this.queries[e].setDirty()}}]),t}(),ls=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},hs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),fs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,ds(e,n[r]));else{var i=this.metadata.predicate;i===Ma?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===fa||r===Va||r===Ma&&0===e.type)this.addMatch(e.index,-2);else{var i=Qe(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function ds(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ps(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Fi(fa,t,e):0===t.type?Ui(Ma,fa,t,e):null}(e,t):-2===n?function(t,e,n){return n===fa?Fi(fa,e,t):n===Ma?Ui(Ma,fa,e,t):n===Va?qi(Va,fa,e,t):void 0}(t,e,r):We(t,t[1],n,e)}function vs(t,e,n,r){var i=e[5].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:ps(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function gs(t){var e=Kt(),n=Qt(),r=ee();ne(r+1);var i=bs(n,r);if(t.dirty&&er(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=vs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=9;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[5])for(var p=h[5],v=0;v<p.length;v++){var g=p[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):vs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function ys(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new hs),t.queries.track(new fs(e,n))}(t,new ls(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new ss;!function(t,e,n,r){var i=li(e);i.push(n),t.firstCreatePass&&hi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new cs),e[5].queries.push(new us(n))}(t,e)}(Qt(),Kt(),e,n,r,0,Wt(),t)}function ms(){return t=Kt(),e=ee(),t[5].queries[e].queryList;var t,e}function bs(t,e){return t.queries.getByIndex(e)}function ws(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.Default,e=Bi(!0);if(null!=e||t&_.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var _s=new J("Application Initializer"),Cs=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ao(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ut(_s,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),ks=new J("AppId"),Es={provide:ks,useFactory:function(){return"".concat(Ss()).concat(Ss()).concat(Ss())},deps:[]};function Ss(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ts=new J("Platform Initializer"),Is=new J("Platform ID"),Os=new J("appBootstrapListener"),As=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),xs=new J("LocaleId"),Ns=new J("DefaultCurrencyCode"),Ds=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},Ps=function(t){return new is(t)},Rs=Ps,js=function(t){return Promise.resolve(Ps(t))},Ms=function(t){var e=Ps(t),n=je(Mt(t).declarations).reduce((function(t,e){var n=Rt(e);return n&&t.push(new za(n)),t}),[]);return new Ds(e,n)},Ls=Ms,Vs=function(t){return Promise.resolve(Ms(t))},Fs=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Rs,this.compileModuleAsync=js,this.compileModuleAndAllComponentsSync=Ls,this.compileModuleAndAllComponentsAsync=Vs}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),Us=new J("compilerOptions"),qs=Promise.resolve(0);function Bs(t){"undefined"==typeof Zone?qs.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Hs=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,(function(){t.lastRequestAnimationFrameId=-1,Qs(t),Ks(t)})),Qs(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Ws(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Ys(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Ws(n),t.invoke(r,i,o,a,s)}finally{Ys(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Qs(n),Ks(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Gs,zs,zs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function zs(){}var Gs={};function Ks(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Qs(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ws(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ys(t){t._nesting--,Ks(t)}var Zs=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Xs=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Hs.assertNotInAngularZone(),Bs((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Bs((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ut(Hs))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),$s=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,eu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return eu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Js(t){eu=t}var tu,eu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),nu=function(t,e,n){var r=new is(n);if(0===so.size)return Promise.resolve(r);var i,o,a=(i=t.get(Us,[]).concat(e).map((function(t){return t.providers})),o=[],i.forEach((function(t){return t&&o.push.apply(o,_toConsumableArray(t))})),o);if(0===a.length)return Promise.resolve(r);var s=function(){var t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),u=oo.create({providers:a}).get(s.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(u.get(t))}(t);n.set(t,e=r.then(co))}return e}return so.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){uo.delete(t)}(n)}));e.push(u)})),so=new Map,Promise.all(e).then((function(){}))}().then((function(){return r}))},ru=new J("AllowMultipleToken"),iu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function ou(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new J(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=au();if(!o||o.injector.get(ru,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Gi,useValue:"platform"});!function(t){if(tu&&!tu.destroyed&&!tu.injector.get(ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tu=t.get(su);var e=t.get(Ts,null);e&&e.forEach((function(t){return t()}))}(oo.create({providers:a,name:r}))}return function(t){var e=au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function au(){return tu&&!tu.destroyed?tu:null}var su=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Zs:("zone.js"===n?void 0:n)||new Hs({enableLongStackTrace:wn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Hs,useValue:o}];return o.run((function(){var e=oo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(nn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return hu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Cs)).runInitializers(),a.donePromise.then((function(){return es(n.injector.get(xs,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Ao(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=uu({},n);return nu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(lu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(R(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ut(oo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function uu(t,e){return Array.isArray(e)?e.reduce(uu,t):Object.assign(Object.assign({},t),e)}var cu,lu=((cu=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Hs.assertNotInAngularZone(),Bs((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Hs.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ca?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ft),o=n.create(oo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Xs,null);return a&&o.injector.get($s).registerApplication(o.location.nativeElement,a),this._loadComponent(o),wn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e=!0,n=!1,r=void 0;try{for(var i,o=this._views[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.detectChanges()}catch(h){n=!0,r=h}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}if(this._enforceNoNewChanges){var a=!0,s=!1,u=void 0;try{for(var c,l=this._views[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)c.value.checkNoChanges()}catch(h){s=!0,u=h}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}}catch(f){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;hu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Os,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),hu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||cu)(ut(Hs),ut(As),ut(oo),ut(nn),ut(ha),ut(Cs))},cu.\u0275prov=E({token:cu,factory:cu.\u0275fac}),cu);function hu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var fu=function t(){_classCallCheck(this,t)},du=function t(){_classCallCheck(this,t)},pu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},vu=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||pu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return gu(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return gu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ut(Fs),ut(du,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function gu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var yu=function(t){return null},mu=ou(null,"core",[{provide:Is,useValue:"unknown"},{provide:su,deps:[oo]},{provide:$s,deps:[]},{provide:As,deps:[]}]),bu=[{provide:lu,useClass:lu,deps:[Hs,As,oo,nn,ha,Cs]},{provide:Ha,deps:[Hs],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Cs,useClass:Cs,deps:[[new m,_s]]},{provide:Fs,useClass:Fs,deps:[]},Es,{provide:Na,useFactory:function(){return Ra},deps:[]},{provide:Da,useFactory:function(){return ja},deps:[]},{provide:xs,useFactory:function(t){return es(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(xs),new m,new w]]},{provide:Ns,useValue:"USD"}],wu=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=At({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(ut(lu))},providers:bu}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],g=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},y=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.N("6.1.5");function _(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&k("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var C=function(){k("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},k=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&k("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function t(){_classCallCheck(this,t)},useFactory:_,deps:[m,u.z,[new u.A,b]]},T=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",w.full,e.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Qb(u.B))},providers:[S]}),t}()}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.a}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).scheduler=n,r.delay=i,r}return _inherits(e,t),_createClass(e,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),e}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return I})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return p})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return w}));var o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function u(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function _(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var C=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),k=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?E(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new C(i,s,r);return u},t}();function E(t,e){return t.replace(S,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";var r=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,n){return n>0||this.closed?_get(_getPrototypeOf(e.prototype),"execute",this).call(this,t,n):this._execute(t,n)}},{key:"requestAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,r):t.flush(this)}}]),e}(n("3N8a").a),i=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(n("IjjT").a);n.d(e,"a",(function(){return o}));var o=new i(r)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();n.d(e,"a",(function(){return c}));var s,u,c=((u=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(p){e=p instanceof a?l(p.errors):[p]}if(Object(r.a)(u))for(var h=-1,f=u.length;++h<f;){var d=u[h];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof a?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((s=new u).closed=!0,s),u);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},"tf+s":function(t,e,n){"use strict";var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(t){return t in a&&(delete a[t],!0)}var u=function(t){var e=i++;return a[e]=!0,o.then((function(){return s(e)&&t()})),e},c=function(t){s(t)},l=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r}return _inherits(e,t),_createClass(e,[{key:"requestAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=u(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(e.prototype),"recycleAsyncId",this).call(this,t,n,r);0===t.actions.length&&(c(n),t.scheduled=void 0)}}]),e}(n("3N8a").a),h=new(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),e}(n("IjjT").a))(l),f=n("DH7j"),d=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,n.delayTime=i,n.scheduler=o,r=i,(Object(f.a)(r)||!(r-parseFloat(r)+1>=0)||i<0)&&(n.delayTime=0),o&&"function"==typeof o.schedule||(n.scheduler=h),n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new e(t,n,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),e}(r.a);function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(t,e))}}n.d(e,"a",(function(){return p}));var v=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){function e(t,n,r,a){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._tapNext=i.a,s._tapError=i.a,s._tapComplete=i.a,s._tapError=r||i.a,s._tapComplete=a||i.a,Object(o.a)(n)?(s._context=_assertThisInitialized(s),s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||i.a,s._tapError=n.error||i.a,s._tapComplete=n.complete||i.a),s}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.g)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.g)(e,t)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.j)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.o)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m,b=p;(m=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.30",void 0),m.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyB9BSFsDdjptzK8wi7jzaOBDA-qX6n3VUw",authDomain:"ingreso-egreso-app-b06fd.firebaseapp.com",projectId:"ingreso-egreso-app-b06fd",storageBucket:"ingreso-egreso-app-b06fd.appspot.com",messagingSenderId:"974851835975",appId:"1:974851835975:web:b92d662d53aa77ad620962",measurementId:"G-XDT68GL62G"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Gb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Qb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._init(),n}return _inherits(e,t),_createClass(e,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),e}(c)).\u0275fac=function(t){return new(t||h)(r.Qb(u))},h.\u0275prov=Object(r.Gb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Qb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var b,w=((b=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275prov=Object(r.Gb)({factory:_,token:b,providedIn:"root"}),b);function _(t){var e=Object(r.Qb)(u).location;return new T(Object(r.Qb)(c),e&&e.origin||"")}var C,k,E,S=new r.q("appBaseHref"),T=((E=function(t){function e(t,n){var r;if(_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return g(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(w)).\u0275fac=function(t){return new(t||E)(r.Qb(c),r.Qb(S,8))},E.\u0275prov=r.Gb({token:E,factory:E.\u0275fac}),E),I=((k=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=g(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(w)).\u0275fac=function(t){return new(t||k)(r.Qb(c),r.Qb(S,8))},k.\u0275prov=r.Gb({token:k,factory:k.\u0275fac}),k),O=((C=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(x(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||C)(r.Qb(w),r.Qb(c))},C.normalizeQueryParams=m,C.joinWithSlash=g,C.stripTrailingSlash=y,C.\u0275prov=Object(r.Gb)({factory:A,token:C,providedIn:"root"}),C);function A(){return new O(Object(r.Qb)(w),Object(r.Qb)(c))}function x(t){return t.replace(/\/index.html$/,"")}var N,D,P=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),R=r.mb,j=function t(){_classCallCheck(this,t)},M=((D=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).locale=t,n}return _inherits(e,t),_createClass(e,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),e}(j)).\u0275fac=function(t){return new(t||D)(r.Qb(r.u))},D.\u0275prov=r.Gb({token:D,factory:D.\u0275fac}),D),L=((N=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new V,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){F("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){F("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||N)(r.Kb(r.O),r.Kb(r.K))},N.\u0275dir=r.Fb({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N),V=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function F(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.vb)(e),"'."))}var U,q=((U=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:U}),U.\u0275inj=r.Hb({factory:function(t){return new(t||U)},providers:[{provide:j,useClass:M}]}),U);function B(t){return"server"===t}var H,z,G,K,Q,W=((H=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Gb)({token:H,providedIn:"root",factory:function(){return new Y(Object(r.Qb)(u),window,Object(r.Qb)(r.m))}}),H),Y=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(u_){this.errorHandler.handleError(u_)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(Kb){return!1}}}]),t}(),Z=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=X||(X=document.querySelector("base"))?X.getAttribute("href"):null;return null==n?null:(e=n,z||(z=document.createElement("a")),z.setAttribute("href",e),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname)}},{key:"resetBaseElement",value:function(){X=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n=!0,r=!1,i=void 0;try{for(var o,a=t.split(";")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.indexOf("="),c=_slicedToArray(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[0],h=c[1];if(l.trim()===e)return decodeURIComponent(h)}}catch(f){r=!0,i=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new e,o||(o=t)}}]),e}(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"supportsDOMEvents",value:function(){return!0}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())),X=null,$=new r.q("TRANSITION_ID"),J=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[$,u,r.r],multi:!0}],tt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.ob.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return t.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(t){var e=r.ob.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new t)}}]),t}(),et=new r.q("EventManagerPlugins"),nt=((G=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||G)(r.Qb(et),r.Qb(r.z))},G.\u0275prov=r.Gb({token:G,factory:G.\u0275fac}),G),rt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),it=((Q=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Q)},Q.\u0275prov=r.Gb({token:Q,factory:Q.\u0275fac}),Q),ot=((K=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return _inherits(e,t),_createClass(e,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),e}(it)).\u0275fac=function(t){return new(t||K)(r.Qb(u))},K.\u0275prov=r.Gb({token:K,factory:K.\u0275fac}),K),at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},st=/%COMP%/g;function ut(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(st,t),n.push(i))}return n}function ct(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var lt,ht,ft,dt,pt=((lt=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||lt)(r.Qb(nt),r.Qb(ot),r.Qb(r.c))},lt.\u0275prov=r.Gb({token:lt,factory:lt.\u0275fac}),lt),vt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=at[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=at[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}]),t}(),gt=function(t){function e(t,n,r,i){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).component=r;var a,s=ut(i+"-"+r.id,r.styles,[]);return n.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(st,i+"-"+r.id),o.hostAttr=(a=i+"-"+r.id,"_nghost-%COMP%".replace(st,a)),o}return _inherits(e,t),_createClass(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var r=_get(_getPrototypeOf(e.prototype),"createElement",this).call(this,t,n);return _get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),e}(vt),yt=function(t){function e(t,n,i,o){var a;_classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.P.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=ut(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _inherits(e,t),_createClass(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,r){return _get(_getPrototypeOf(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,r)}},{key:"removeChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(vt),mt=((ht=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),e}(rt)).\u0275fac=function(t){return new(t||ht)(r.Qb(u))},ht.\u0275prov=r.Gb({token:ht,factory:ht.\u0275fac}),ht),bt=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ct={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},kt=((ft=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(bt.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return wt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),bt.forEach((function(r){r!=n&&(0,Ct[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(rt)).\u0275fac=function(t){return new(t||ft)(r.Qb(u))},ft.\u0275prov=r.Gb({token:ft,factory:ft.\u0275fac}),ft),Et=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Z.makeCurrent(),tt.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],St=Object(r.R)(r.V,"browser",Et),Tt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:mt,multi:!0,deps:[u,r.z,r.B]},{provide:et,useClass:kt,multi:!0,deps:[u]},[],{provide:pt,useClass:pt,deps:[nt,ot,r.c]},{provide:r.E,useExisting:pt},{provide:it,useExisting:ot},{provide:ot,useClass:ot,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:nt,useClass:nt,deps:[et,r.z]},[]],It=((dt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$,useExisting:r.c},J]}}}]),t}()).\u0275mod=r.Ib({type:dt}),dt.\u0275inj=r.Hb({factory:function(t){return new(t||dt)(r.Qb(dt,12))},providers:Tt,imports:[q,r.f]}),dt);"undefined"!=typeof window&&window;var Ot=n("LRne"),At=n("Cfvw"),xt=n("XNiG"),Nt=n("9ppp"),Dt=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._value=t,n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){var n=_get(_getPrototypeOf(e.prototype),"_subscribe",this).call(this,t);return n&&!n.closed&&t.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nt.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),e}(xt.a),Pt=n("HDdC"),Rt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),jt=n("z+Ro"),Mt=n("DH7j"),Lt=n("l7GE"),Vt=n("ZUHj"),Ft=n("yCtX"),Ut={},qt=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}]),t}(),Bt=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.values.push(Ut),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Vt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Ut?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(Lt.a),Ht=n("EY2u");function zt(t){return new Pt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(At.a)(n):Object(Ht.b)()).subscribe(e)}))}var Gt=n("lJxs"),Kt=n("bHdf");function Qt(){return Object(Kt.a)(1)}var Wt=n("7o/Q");function Yt(t,e){return function(n){return n.lift(new Zt(t,e))}}var Zt=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xt(t,this.predicate,this.thisArg))}}]),t}(),Xt=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),e}(Wt.a),$t=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Jt(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new te(t))}}var te=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new $t}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ee(t,this.total))}}]),t}(),ee=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,r.ring=new Array,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),e}(Wt.a);function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;return function(e){return e.lift(new re(t))}}var re=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ie(t,this.errorFactory))}}]),t}(),ie=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).errorFactory=n,r.hasValue=!1,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(u_){t=u_}this.destination.error(t)}}]),e}(Wt.a);function oe(){return new Rt}function ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new se(t))}}var se=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ue(t,this.defaultValue))}}]),t}(),ue=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).defaultValue=n,r.isEmpty=!0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(Wt.a),ce=n("SpAZ");function le(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Yt((function(e,n){return t(e,n,r)})):ce.a,Jt(1),n?ae(e):ne((function(){return new Rt})))}}var he=n("51Dv");function fe(t){return function(e){var n=new de(t),r=e.lift(n);return n.caught=r}}var de=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pe(t,this.selector,this.caught))}}]),t}(),pe=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).selector=n,i.caught=r,i}return _inherits(e,t),_createClass(e,[{key:"error",value:function(t){if(!this.isStopped){var n;try{n=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(e.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new he.a(this,void 0,void 0);this.add(r);var i=Object(Vt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}]),e}(Lt.a);function ve(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new ge(t))}}var ge=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new $t}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ye(t,this.total))}}]),t}(),ye=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(Wt.a);function me(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Yt((function(e,n){return t(e,n,r)})):ce.a,ve(1),n?ae(e):ne((function(){return new Rt})))}}var be=n("5+tZ"),we=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg,this.source))}}]),t}(),_e=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(e,t),_createClass(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(Wt.a);function Ce(t,e){return"function"==typeof e?function(n){return n.pipe(Ce((function(n,r){return Object(At.a)(t(n,r)).pipe(Object(Gt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new ke(t))}}var ke=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ee(t,this.project))}}]),t}(),Ee=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new he.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Vt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),e}(Lt.a);function Se(){return Qt()(Object(Ot.a).apply(void 0,arguments))}function Te(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(jt.a)(r)?(e.pop(),function(t){return Se(e,t,r)}):function(t){return Se(e,t)}}function Ie(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Oe(t,e,n))}}var Oe=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ae(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ae=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),e}(Wt.a);function xe(t,e){return Object(be.a)(t,e,1)}var Ne,De=n("mCNh"),Pe=n("vkgz"),Re=n("quSY"),je=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Me(t,this.callback))}}]),t}(),Me=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).add(new Re.a(n)),r}return _inherits(e,t),e}(Wt.a),Le=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Ve=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).navigationTrigger=i,r.restoredState=o,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Le),Fe=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(Le),Ue=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).reason=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Le),qe=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).error=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(Le),Be=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Le),He=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Le),ze=function(t){function e(t,n,r,i,o){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(Le),Ge=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Le),Ke=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Le),Qe=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),We=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Ye=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ze=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xe=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$e=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Je=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),tn=((Ne=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Ne)},Ne.\u0275cmp=r.Eb({type:Ne,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ui]},encapsulation:2}),Ne),en=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function nn(t){return new en(t)}function rn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function on(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var an=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function sn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];un(r,cn(e,r))}}function un(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&sn(t.children,e)}function cn(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function ln(t){var e=t.children&&t.children.map(ln),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=tn),n}function hn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!fn(t[n=r[o]],e[n]))return!1;return!0}function fn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function dn(t){return Array.prototype.concat.apply([],t)}function pn(t){return t.length>0?t[t.length-1]:null}function vn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(At.a)(Promise.resolve(t)):Object(Ot.a)(t)}function yn(t,e,n){return n?function(t,e){return hn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!_n(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return fn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!_n(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!_n(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!_n(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var mn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Sn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}}]),t}(),bn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,vn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Tn(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),wn=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Dn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}}]),t}();function _n(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Cn(t,e){var n=[];return vn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),vn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var kn=function t(){_classCallCheck(this,t)},En=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Ln(t);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Tn(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return vn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Cn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Tn(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(On(t),"=").concat(On(e))})).join("&"):"".concat(On(t),"=").concat(On(e))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Sn=new En;function Tn(t){return t.segments.map((function(t){return Dn(t)})).join("/")}function In(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(t){return In(t).replace(/%3B/gi,";")}function An(t){return In(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xn(t){return decodeURIComponent(t)}function Nn(t){return xn(t.replace(/\+/g,"%20"))}function Dn(t){return"".concat(An(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(An(t),"=").concat(An(e[t]))})).join("")));var e}var Pn=/^[^\/()?;=#]+/;function Rn(t){var e=t.match(Pn);return e?e[0]:""}var jn=/^[^=?&#]+/,Mn=/^[^?&#]+/,Ln=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new bn(t,e)),n}},{key:"parseSegment",value:function(){var t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new wn(xn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Rn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Rn(this.remaining);r&&(n=r,this.capture(n))}t[xn(e)]=xn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(jn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Mn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Nn(e),o=Nn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new bn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Vn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Fn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Fn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Un(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Un(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Fn(t,e){if(t===e.value)return e;var n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=Fn(t,o.value);if(s)return s}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}function Un(t,e){if(t===e.value)return[e];var n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=Un(t,o.value);if(s.length)return s.unshift(e),s}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[]}var qn=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Bn(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Hn=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).snapshot=n,Yn(_assertThisInitialized(r),t),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(Vn);function zn(t,e){var n=function(t,e){var n=new Qn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Wn("",new qn(n,[]))}(t,e),r=new Dt([new wn("",{})]),i=new Dt({}),o=new Dt({}),a=new Dt({}),s=new Dt(""),u=new Gn(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Hn(new qn(u,[]),n)}var Gn=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)((function(t){return nn(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)((function(t){return nn(t)})))),this._queryParamMap}}]),t}();function Kn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Qn=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}}]),t}(),Wn=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).url=t,Yn(_assertThisInitialized(r),n),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return Zn(this._root)}}]),e}(Vn);function Yn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Yn(t,e)}))}function Zn(t){var e=t.children.length>0?" { ".concat(t.children.map(Zn).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Xn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){return hn(t.params,e.params)&&function(t,e){return _n(t,e)&&t.every((function(t,n){return hn(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Jn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tr(t,e,n,r,i){var o={};return r&&vn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new mn(n.root===t?e:function t(e,n,r){var i={};return vn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new bn(e.segments,i)}(n.root,t,e),o,i)}var er=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jn(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==pn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),nr=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function rr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function ir(t,e,n){if(t||(t=new bn([],{})),0===t.segments.length&&t.hasChildren())return or(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=rr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!cr(s,u,a))return o;r+=2}else{if(!cr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new bn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new bn(t.segments.slice(r.pathIndex),t.children),or(o,0,i)}return r.match&&0===i.length?new bn(t.segments,{}):r.match&&!t.hasChildren()?ar(t,e,n):r.match?or(t,0,i):ar(t,e,n)}function or(t,e,n){if(0===n.length)return new bn(t.segments,{});var r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return vn(r,(function(n,r){null!==n&&(i[r]=ir(t.children[r],e,n))})),vn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new bn(t.segments,i)}function ar(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=sr(n[i].outlets);return new bn(r,o)}if(0===i&&Jn(n[0]))r.push(new wn(t.segments[e].path,n[0])),i++;else{var a=rr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Jn(s)?(r.push(new wn(a,ur(s))),i+=2):(r.push(new wn(a,{})),i++)}}return new bn(r,{})}function sr(t){var e={};return vn(t,(function(t,n){null!==t&&(e[n]=ar(new bn([],{}),0,t))})),e}function ur(t){var e={};return vn(t,(function(t,n){return e[n]="".concat(t)})),e}function cr(t,e,n){return t==n.path&&hn(e,n.parameters)}var lr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xn(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Bn(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),vn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Bn(t),o=t.value.component?r.children:e;vn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Bn(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new $e(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Ze(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Xn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),hr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function hr(t){Xn(t.value),t.children.forEach(hr)}function fr(t){return"function"==typeof t}function dr(t){return t instanceof mn}var pr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},vr=function t(e){_classCallCheck(this,t),this.urlTree=e};function gr(t){return new Pt.a((function(e){return e.error(new pr(t))}))}function yr(t){return new Pt.a((function(e){return e.error(new vr(t))}))}function mr(t){return new Pt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var br=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Gt.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(fe((function(e){if(e instanceof vr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof pr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Gt.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(fe((function(t){if(t instanceof pr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new bn([],{primary:t}):t;return new mn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)((function(t){return new bn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Ot.a)({});var o=[],a=[],s={};return vn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Gt.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Ot.a.apply(null,o.concat(a)).pipe(Qt(),le(),Object(Gt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Ot.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Gt.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(fe((function(t){if(t instanceof pr)return Object(Ot.a)(null);throw t})))})),Qt(),me((function(t){return!!t})),fe((function(t,n){if(t instanceof Rt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Ot.a)(new bn([],{}));throw new pr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return kr(r)!==o?gr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):gr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(o):this.lineralizeSegments(n,o).pipe(Object(be.a)((function(n){var o=new bn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=wr(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return gr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?yr(f):this.lineralizeSegments(r,f).pipe(Object(be.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)((function(t){return n._loadedConfig=t,new bn(r,{})}))):Object(Ot.a)(new bn(r,{}));var o=wr(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return gr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(be.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Cr(t,e,n)&&"primary"!==kr(n)}))}(t,n,r)?{segmentGroup:_r(new bn(e,function(t,e){var n={};n.primary=e;var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;""===u.path&&"primary"!==kr(u)&&(n[kr(u)]=new bn([],{}))}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(r,new bn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Cr(t,e,n)}))}(t,n,r)?{segmentGroup:_r(new bn(t.segments,function(t,e,n,r){var i={},o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;Cr(t,e,l)&&!r[kr(l)]&&(i[kr(l)]=new bn([],{}))}}catch(h){a=!0,s=h}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Gt.a)((function(t){return new bn(s,t)}))):0===r.length&&0===u.length?Object(Ot.a)(new bn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Gt.a)((function(t){return new bn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Ot.a)(new an(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ot.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(At.a)(i).pipe(Object(Gt.a)((function(r){var i,o=t.get(r);if(function(t){return t&&fr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!fr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return gn(i)}))).pipe(Qt(),(r=function(t){return!0===t},function(t){return t.lift(new we(r,void 0,t))})):Object(Ot.a)(!0)}(t.injector,e,n).pipe(Object(be.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Gt.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Pt.a((function(e){return e.error(rn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Ot.a)(new an([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ot.a)(n);if(r.numberOfChildren>1||!r.children.primary)return mr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new mn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return vn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return vn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new bn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.path===t.path)return e.splice(n),u;n++}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t}}]),t}();function wr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||on)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _r(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new bn(t.segments.concat(e.segments),e.children)}return t}function Cr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function kr(t){return t.outlet||"primary"}var Er=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Sr=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Tr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ir(t,e,n){var r=Bn(t),i=t.value;vn(r,(function(t,r){Ir(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Sr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Or=Symbol("INITIAL_VALUE");function Ar(){return Ce((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(jt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Mt.a)(e[0])&&(e=e[0]),Object(Ft.a)(e,i).lift(new qt(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(ve(1),Te(Or))})))).pipe(Ie((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Or)return t;if(r===Or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||dr(r))return r}return t}),t)}),Or),Yt((function(t){return t!==Or})),Object(Gt.a)((function(t){return dr(t)?t:!0===t})),ve(1))}))}function xr(t,e){return null!==t&&e&&e(new Xe(t)),Object(Ot.a)(!0)}function Nr(t,e){return null!==t&&e&&e(new Ye(t)),Object(Ot.a)(!0)}function Dr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ot.a)(!0);var i=r.map((function(r){return zt((function(){var i,o=Tr(r,e,n);if(function(t){return t&&fr(t.canActivate)}(o))i=gn(o.canActivate(e,t));else{if(!fr(o))throw new Error("Invalid CanActivate guard");i=gn(o(e,t))}return i.pipe(me())}))}));return Object(Ot.a)(i).pipe(Ar())}function Pr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return zt((function(){var i=e.guards.map((function(i){var o,a=Tr(i,e.node,n);if(function(t){return t&&fr(t.canActivateChild)}(a))o=gn(a.canActivateChild(r,t));else{if(!fr(a))throw new Error("Invalid CanActivateChild guard");o=gn(a(r,t))}return o.pipe(me())}));return Object(Ot.a)(i).pipe(Ar())}))}));return Object(Ot.a)(i).pipe(Ar())}var Rr=function t(){_classCallCheck(this,t)},jr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Vr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qn(n,e),i=new Wn(this.url,r);return this.inheritParamsAndData(i._root),Object(Ot.a)(i)}catch(u_){return new Pt.a((function(e){return e.error(u_)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Kn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Cn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;try{return this.processSegmentAgainstRoute(c,e,n,r)}catch(u_){if(!(u_ instanceof Rr))throw u_}}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Rr;if((t.outlet||"primary")!==r)throw new Rr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?pn(n).parameters:{};i=new Qn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Mr(e),Lr(e)+n.length,Br(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||on)(n,t,e);if(!r)throw new Rr;var i={};vn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Qn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),r,t.component,t,Mr(e),Lr(e)+o.length,Br(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Vr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new qn(i,d)]}if(0===c.length&&0===f.length)return[new qn(i,[])];var p=this.processSegment(c,h,f,"primary");return[new qn(i,p)]}}]),t}();function Mr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Fr(t,e,n)&&"primary"!==Ur(n)}))}(t,n,r)){var o=new bn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(""===l.path&&"primary"!==Ur(l)){var h=new bn([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,i[Ur(l)]=h}}}catch(f){a=!0,s=f}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return i}(t,e,r,new bn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Fr(t,e,n)}))}(t,n,r)){var a=new bn(t.segments,function(t,e,n,r,i,o){var a={},s=!0,u=!1,c=void 0;try{for(var l,h=r[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var f=l.value;if(Fr(t,n,f)&&!i[Ur(f)]){var d=new bn([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Ur(f)]=d}}}catch(p){u=!0,c=p}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new bn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Fr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ur(t){return t.outlet||"primary"}function qr(t){return t.data||{}}function Br(t){return t.resolve||{}}function Hr(t,e,n,r){var i=Tr(t,e,r);return gn(i.resolve?i.resolve(e,n):i(e,n))}function zr(t){return function(e){return e.pipe(Ce((function(e){var n=t(e);return n?Object(At.a)(n).pipe(Object(Gt.a)((function(){return e}))):Object(At.a)([e])})))}}var Gr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Kr=new r.q("ROUTES"),Qr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new an(dn(i.injector.get(Kr)).map(ln),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(At.a)(this.loader.load(t)):gn(t()).pipe(Object(be.a)((function(t){return t instanceof r.v?Object(Ot.a)(t):Object(At.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Wr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Yr(t){throw t}function Zr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(Ot.a)(null)}var $r,Jr,ti=((Jr=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new xt.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new Wr,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.X);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new mn(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qr(s,u,(function(t){return l.triggerEvent(new Qe(t))}),(function(t){return l.triggerEvent(new We(t))})),this.routerState=zn(this.currentUrlTree,this.rootComponentType),this.transitions=new Dt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Yt((function(t){return 0!==t.id})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Ce((function(t){var r,i,o,a,s=!1,u=!1;return Object(Ot.a)(t).pipe(Object(Pe.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Ce((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ot.a)(t).pipe(Ce((function(t){var r=e.transitions.getValue();return n.next(new Ve(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Ht.a:[t]})),Ce((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Ce((function(t){return function(t,e,n,r,i){return new br(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(Gt.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Pe.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(be.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new jr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(Gt.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Pe.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Pe.a)((function(t){var r=new Be(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Ve(u,e.serializeUrl(c),l,h);n.next(d);var p=zn(c,e.rootComponentType).snapshot;return Object(Ot.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ht.a})),zr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Pe.a)((function(t){var n=new He(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Bn(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_n(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_n(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Er(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Sr(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ir(n,u,o),o.canActivateChecks.push(new Er(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),vn(a,(function(t,e){return Ir(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(be.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Ot.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(At.a)(t).pipe(Object(be.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ot.a)(!0);var a=o.map((function(o){var a,s=Tr(o,e,i);if(function(t){return t&&fr(t.canDeactivate)}(s))a=gn(s.canDeactivate(t,e,n,r));else{if(!fr(s))throw new Error("Invalid CanDeactivate guard");a=gn(s(t,e,n,r))}return a.pipe(me())}));return Object(Ot.a)(a).pipe(Ar())}(t.component,t.route,n,e,r)})),me((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(be.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(At.a)(e).pipe(xe((function(e){return Object(At.a)([Nr(e.route.parent,r),xr(e.route,r),Pr(t,e.path,n),Dr(t,e.route,n)]).pipe(Qt(),me((function(t){return!0!==t}),!0))})),me((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Ot.a)(n)})),Object(Gt.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Pe.a)((function(t){if(dr(t.guardsResult)){var n=rn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Pe.a)((function(t){var n=new ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Yt((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ue(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),zr((function(t){if(t.guards.canActivateChecks.length)return Object(Ot.a)(t).pipe(Object(Pe.a)((function(t){var n=new Ge(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(be.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(At.a)(i).pipe(xe((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Ot.a)({});if(1===i.length){var o=i[0];return Hr(t[o],e,n,r).pipe(Object(Gt.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(At.a)(i).pipe(Object(be.a)((function(i){return Hr(t[i],e,n,r).pipe(Object(Gt.a)((function(t){return a[i]=t,t})))}))).pipe(le(),Object(Gt.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(Gt.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kn(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(De.a)(Ie(t,e),Jt(1),ae(e))(n)}:function(e){return Object(De.a)(Ie((function(e,n,r){return t(e,n,r+1)})),Jt(1))(e)}}((function(t,e){return t})),Object(Gt.a)((function(e){return t}))):Object(Ot.a)(t)})))}),Object(Pe.a)((function(t){var n=new Ke(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),zr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Gt.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i=!0,o=!1,a=void 0;try{for(var s,u=r.children[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return t(e,n)}))}(e,n,r);return new qn(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Gn(new Dt((u=n.value).url),new Dt(u.params),new Dt(u.queryParams),new Dt(u.fragment),new Dt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new qn(c,l)}(t,e._root,n?n._root:void 0);return new Hn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Pe.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Gt.a)((function(t){return new lr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Pe.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Ue(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new je(r))}),fe((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=dr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ue(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new qe(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Pf){t.reject(Pf)}}var s;return Ht.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){sn(t),this.config=t.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return tr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new er(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return vn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new er(n,e,r)}(n);if(o.toRoot())return tr(e.root,new bn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new nr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new nr(n.snapshot._urlSegment,!0,0);var r=Jn(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new nr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?or(a.segmentGroup,a.index,o.commands):ir(a.segmentGroup,a.index,o.commands);return tr(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=dr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(u_){e=this.malformedUriErrorHandler(u_,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(dr(t))return yn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return yn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Fe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Tb()},Jr.\u0275dir=r.Fb({type:Jr}),Jr),ei=(($r=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Fe&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ni(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||$r)(r.Kb(ti),r.Kb(Gn),r.Kb(w))},$r.\u0275dir=r.Fb({type:$r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Ub("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Pb("href",e.href,r.Yb),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb()]}),$r);function ni(t){return""===t||!!t}var ri,ii,oi,ai=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new si,this.attachRef=null},si=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ai,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ui=((ri=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ci(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||ri)(r.Kb(si),r.Kb(r.O),r.Kb(r.j),r.Rb("name"),r.Kb(r.h))},ri.\u0275dir=r.Fb({type:ri,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ri),ci=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Gn?this.route:t===si?this.childContexts:this.parent.get(t,e)}}]),t}(),li=function t(){_classCallCheck(this,t)},hi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Ot.a)(null)}}]),t}(),fi=((oi=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Qr(n,r,(function(t){return e.triggerEvent(new Qe(t))}),(function(t){return e.triggerEvent(new We(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Yt((function(t){return t instanceof Fe})),xe((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;n.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?n.push(this.preloadConfig(t,u)):u.children&&n.push(this.processRoutes(t,u.children))}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return Object(At.a)(n).pipe(Object(Kt.a)(),Object(Gt.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(be.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||oi)(r.Qb(ti),r.Qb(r.w),r.Qb(r.i),r.Qb(r.r),r.Qb(li))},oi.\u0275prov=r.Gb({token:oi,factory:oi.\u0275fac}),oi),di=((ii=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Ve?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fe&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Je&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Je(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Tb()},ii.\u0275dir=r.Fb({type:ii}),ii),pi=new r.q("ROUTER_CONFIGURATION"),vi=new r.q("ROUTER_FORROOT_GUARD"),gi=[O,{provide:kn,useClass:En},{provide:ti,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ti(null,t,e,n,r,i,o,dn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[kn,si,O,r.r,r.w,r.i,Kr,pi,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},si,{provide:Gn,useFactory:function(t){return t.routerState.root},deps:[ti]},{provide:r.w,useClass:r.J},fi,hi,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(fe((function(){return Object(Ot.a)(null)})))}}]),t}(),{provide:pi,useValue:{enableTracing:!1}}];function yi(){return new r.y("Router",ti)}var mi,bi=((mi=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[gi,ki(e),{provide:vi,useFactory:Ci,deps:[[ti,new r.A,new r.I]]},{provide:pi,useValue:n||{}},{provide:w,useFactory:_i,deps:[c,[new r.p(S),new r.A],pi]},{provide:di,useFactory:wi,deps:[ti,W,pi]},{provide:li,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hi},{provide:r.y,multi:!0,useFactory:yi},[Si,{provide:r.d,multi:!0,useFactory:Ti,deps:[Si]},{provide:Oi,useFactory:Ii,deps:[Si]},{provide:r.b,multi:!0,useExisting:Oi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[ki(e)]}}}]),t}()).\u0275mod=r.Ib({type:mi}),mi.\u0275inj=r.Hb({factory:function(t){return new(t||mi)(r.Qb(vi,8),r.Qb(ti,8))}}),mi);function wi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new di(t,e,n)}function _i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new I(t,e):new T(t,e)}function Ci(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ki(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Kr,multi:!0,useValue:t}]}var Ei,Si=((Ei=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new xt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(ti),i=t.injector.get(pi);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Ot.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(pi),n=this.injector.get(fi),i=this.injector.get(di),o=this.injector.get(ti),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Ei)(r.Qb(r.r))},Ei.\u0275prov=r.Gb({token:Ei,factory:Ei.\u0275fac}),Ei);function Ti(t){return t.appInitializer.bind(t)}function Ii(t){return t.bootstrapListener.bind(t)}var Oi=new r.q("Router Initializer"),Ai=n("XoHu");function xi(t,e){return new Pt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(At.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Ni,Di,Pi,Ri,ji=new r.q("NgValueAccessor"),Mi={provide:ji,useExisting:Object(r.T)((function(){return Li})),multi:!0},Li=((Ni=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Ni)(r.Kb(r.D),r.Kb(r.l))},Ni.\u0275dir=r.Fb({type:Ni,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Mi])]}),Ni),Vi={provide:ji,useExisting:Object(r.T)((function(){return Ui})),multi:!0},Fi=new r.q("CompositionEventMode"),Ui=((Ri=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Ri)(r.Kb(r.D),r.Kb(r.l),r.Kb(Fi,8))},Ri.\u0275dir=r.Fb({type:Ri,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([Vi])]}),Ri),qi=((Pi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Pi)},Pi.\u0275dir=r.Fb({type:Pi}),Pi),Bi=((Di=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(qi)).\u0275fac=function(t){return Hi(t||Di)},Di.\u0275dir=r.Fb({type:Di,features:[r.xb]}),Di),Hi=r.Ob(Bi);function zi(){throw new Error("unimplemented")}var Gi,Ki,Qi=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _inherits(e,t),_createClass(e,[{key:"validator",get:function(){return zi()}},{key:"asyncValidator",get:function(){return zi()}}]),e}(qi),Wi=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Yi=((Ki=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Wi)).\u0275fac=function(t){return new(t||Ki)(r.Kb(Qi,2))},Ki.\u0275dir=r.Fb({type:Ki,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),Ki),Zi=((Gi=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Wi)).\u0275fac=function(t){return new(t||Gi)(r.Kb(Bi,2))},Gi.\u0275dir=r.Fb({type:Gi,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),Gi);function Xi(t){return null==t||0===t.length}var $i=new r.q("NgValidators"),Ji=new r.q("NgAsyncValidators"),to=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Xi(e.value)||Xi(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Xi(e.value)||Xi(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Xi(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Xi(t.value)?null:to.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Xi(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Xi(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(no);return 0==e.length?null:function(t){return io(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(no);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Mt.a)(r))return xi(r,null);if(Object(Ai.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return xi(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return xi(e=1===e.length&&Object(Mt.a)(e[0])?e[0]:e,null).pipe(Object(Gt.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return xi(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(ro)).pipe(Object(Gt.a)(io))}}}]),t}();function no(t){return null!=t}function ro(t){var e=Object(r.rb)(t)?Object(At.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function io(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function oo(t){return t.validate?function(e){return t.validate(e)}:t}function ao(t){return t.validate?function(e){return t.validate(e)}:t}var so,uo,co,lo,ho,fo,po={provide:ji,useExisting:Object(r.T)((function(){return vo})),multi:!0},vo=((so=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||so)(r.Kb(r.D),r.Kb(r.l))},so.\u0275dir=r.Fb({type:so,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([po])]}),so),go={provide:ji,useExisting:Object(r.T)((function(){return mo})),multi:!0},yo=((co=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||co)},co.\u0275prov=r.Gb({token:co,factory:co.\u0275fac}),co),mo=((uo=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Qi),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||uo)(r.Kb(r.D),r.Kb(r.l),r.Kb(yo),r.Kb(r.r))},uo.\u0275dir=r.Fb({type:uo,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([go])]}),uo),bo={provide:ji,useExisting:Object(r.T)((function(){return wo})),multi:!0},wo=((lo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||lo)(r.Kb(r.D),r.Kb(r.l))},lo.\u0275dir=r.Fb({type:lo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([bo])]}),lo),_o='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Co='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ko=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(_o))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Co,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(_o))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Co))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),Eo={provide:ji,useExisting:Object(r.T)((function(){return So})),multi:!0},So=((ho=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||ho)(r.Kb(r.D),r.Kb(r.l))},ho.\u0275dir=r.Fb({type:ho,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Eo])]}),ho),To={provide:ji,useExisting:Object(r.T)((function(){return Io})),multi:!0},Io=((fo=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||fo)(r.Kb(r.D),r.Kb(r.l))},fo.\u0275dir=r.Fb({type:fo,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([To])]}),fo);function Oo(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Ao(t,e){t||Po(e,"Cannot find control with"),e.valueAccessor||Po(e,"No value accessor for form control with"),t.validator=eo.compose([t.validator,e.validator]),t.asyncValidator=eo.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&xo(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&xo(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function xo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function No(t,e){null==t&&Po(e,"Cannot find control with"),t.validator=eo.compose([t.validator,e.validator]),t.asyncValidator=eo.composeAsync([t.asyncValidator,e.asyncValidator])}function Do(t){return Po(t,"There is no FormControl instance attached to form control element with")}function Po(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Ro(t){return null!=t?eo.compose(t.map(oo)):null}function jo(t){return null!=t?eo.composeAsync(t.map(ao)):null}var Mo=[Li,wo,vo,So,Io,mo];function Lo(t){var e=Fo(t)?t.validators:t;return Array.isArray(e)?Ro(e):e||null}function Vo(t,e){var n=Fo(e)?e.asyncValidators:t;return Array.isArray(n)?jo(n):n||null}function Fo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Uo,qo,Bo,Ho,zo,Go=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Lo(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Vo(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=ro(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Qo?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Wo&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Fo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Ko=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Lo(r),Vo(i,r))))._onChange=[],t._applyFormState(n),t._setUpdateStrategy(r),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _inherits(e,t),_createClass(e,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),e}(Go),Qo=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Lo(n),Vo(r,n)))).controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(e,t),_createClass(e,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Ko?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),e}(Go),Wo=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Lo(n),Vo(r,n)))).controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(e,t),_createClass(e,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Ko?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.controls[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){if(r.value.enabled)return!1}}catch(o){e=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),e}(Go),Yo=((Uo=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Oo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ro(this._validators)}},{key:"asyncValidator",get:function(){return jo(this._asyncValidators)}}]),e}(Bi)).\u0275fac=function(t){return Zo(t||Uo)},Uo.\u0275dir=r.Fb({type:Uo,features:[r.xb]}),Uo),Zo=r.Ob(Yo),Xo=((qo=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||qo)},qo.\u0275dir=r.Fb({type:qo,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),qo),$o=new r.q("NgModelWithFormControlWarning"),Jo={provide:Bi,useExisting:Object(r.T)((function(){return ta}))},ta=((Bo=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._validators=t,i._asyncValidators=n,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new r.n,i}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Ao(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);No(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);No(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Do(e)})),e.valueAccessor.registerOnTouched((function(){return Do(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Ao(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Ro(this._validators);this.form.validator=eo.compose([this.form.validator,t]);var e=jo(this._asyncValidators);this.form.asyncValidator=eo.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||ko.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),e}(Bi)).\u0275fac=function(t){return new(t||Bo)(r.Kb($i,10),r.Kb(Ji,10))},Bo.\u0275dir=r.Fb({type:Bo,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Jo]),r.xb,r.yb()]}),Bo),ea={provide:Bi,useExisting:Object(r.T)((function(){return na}))},na=((Ho=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,i._validators=n,i._asyncValidators=r,i}return _inherits(e,t),_createClass(e,[{key:"_checkParentType",value:function(){oa(this._parent)&&ko.groupParentException()}}]),e}(Yo)).\u0275fac=function(t){return new(t||Ho)(r.Kb(Bi,13),r.Kb($i,10),r.Kb(Ji,10))},Ho.\u0275dir=r.Fb({type:Ho,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([ea]),r.xb]}),Ho),ra={provide:Bi,useExisting:Object(r.T)((function(){return ia}))},ia=((zo=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,i._validators=n,i._asyncValidators=r,i}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){oa(this._parent)&&ko.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Oo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Ro(this._validators)}},{key:"asyncValidator",get:function(){return jo(this._asyncValidators)}}]),e}(Bi)).\u0275fac=function(t){return new(t||zo)(r.Kb(Bi,13),r.Kb($i,10),r.Kb(Ji,10))},zo.\u0275dir=r.Fb({type:zo,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([ra]),r.xb]}),zo);function oa(t){return!(t instanceof na||t instanceof ta||t instanceof ia)}var aa,sa,ua,ca,la={provide:Qi,useExisting:Object(r.T)((function(){return ha}))},ha=((ca=function(t){function e(t,n,i,o,a){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._ngModelWarningConfig=a,s._added=!1,s.update=new r.n,s._ngModelWarningSent=!1,s._parent=t,s._rawValidators=n||[],s._rawAsyncValidators=i||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Po(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Ui?n=e:(o=e,Mo.some((function(t){return o.constructor===t}))?(r&&Po(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Po(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Po(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),o),s}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}(t,this.viewModel)&&(n=e,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(ko.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof na)&&this._parent instanceof Yo?ko.ngModelGroupException():this._parent instanceof na||this._parent instanceof ta||this._parent instanceof ia||ko.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){ko.disabledAttrWarning()}},{key:"path",get:function(){return Oo(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ro(this._rawValidators)}},{key:"asyncValidator",get:function(){return jo(this._rawAsyncValidators)}}]),e}(Qi)).\u0275fac=function(t){return new(t||ca)(r.Kb(Bi,13),r.Kb($i,10),r.Kb(Ji,10),r.Kb(ji,10),r.Kb($o,8))},ca.\u0275dir=r.Fb({type:ca,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([la]),r.xb,r.yb()]}),ca._ngModelWarningSentOnce=!1,ca),fa=((ua=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:ua}),ua.\u0275inj=r.Hb({factory:function(t){return new(t||ua)}}),ua),da=((sa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Qo(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Ko(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Wo(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Ko||t instanceof Qo||t instanceof Wo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||sa)},sa.\u0275prov=r.Gb({token:sa,factory:sa.\u0275fac}),sa),pa=((aa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:$o,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Ib({type:aa}),aa.\u0275inj=r.Hb({factory:function(t){return new(t||aa)},providers:[da,yo],imports:[fa]}),aa),va=n("PSD3"),ga=n.n(va),ya=function t(e,n,r){_classCallCheck(this,t),this.uid=e,this.nombre=n,this.email=r},ma=n("VRyK"),ba=n("pxpQ"),wa=n("qgXg"),_a=n("Ylt2"),Ca=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).scheduler=i,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=n<1?1:n,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _inherits(e,t),_createClass(e,[{key:"nextInfiniteTimeWindow",value:function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new ka(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Nt.a;if(this.isStopped||this.hasError?e=Re.a.EMPTY:(this.observers.push(t),e=new _a.a(this,t)),i&&t.add(t=new ba.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||wa.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),e}(xt.a),ka=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function Ea(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){c++,e&&!l||(l=!1,e=new Ca(i,a,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function Sa(t,e){return e?Ce((function(){return t}),e):Ce((function(){return t}))}var Ta,Ia,Oa=n("tf+s"),Aa=n("jmUF"),xa=new r.q("angularfire2.auth.use-emulator"),Na=new r.q("angularfire2.auth.settings"),Da=new r.q("angularfire2.auth.tenant-id"),Pa=new r.q("angularfire2.auth.langugage-code"),Ra=new r.q("angularfire2.auth.use-device-language"),ja=new r.q("angularfire.auth.persistence"),Ma=((Ia=function t(e,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t);var f=new Aa.d(o),d=Object(Aa.h)(f),p=new xt.a,v=Object(Ot.a)(void 0).pipe(Object(ba.b)(f.outsideAngular),Ce((function(){return o.runOutsideAngular((function(){return n.e(5).then(n.bind(null,"6nsN"))}))})),Object(Gt.a)((function(){return Object(Aa.g)(e,o,r)})),Object(Gt.a)((function(t){return o.runOutsideAngular((function(){var e=a,n=s;return Object(Aa.f)("".concat(t.name,".auth"),"AngularFireAuth",t,(function(){var r=o.runOutsideAngular((function(){return t.auth()}));if(e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n)for(var i=0,a=Object.entries(n);i<a.length;i++){var s=_slicedToArray(a[i],2),f=s[0],d=s[1];r.settings[f]=d}return h&&r.setPersistence(h),r}),[e,u,c,l,n,h])}))})),Ea({bufferSize:1,refCount:!1}));if(B(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ot.a)(null);else{v.pipe(me()).subscribe();var g=v.pipe(Ce((function(t){return t.getRedirectResult().then((function(t){return t}),(function(){return null}))})),d,Ea({bufferSize:1,refCount:!1})),y=function(t){return new Pt.a((function(e){return{unsubscribe:o.runOutsideAngular((function(){return t(e)}))}}))},m=v.pipe(Ce((function(t){return y(t.onAuthStateChanged.bind(t))}))),b=v.pipe(Ce((function(t){return y(t.onIdTokenChanged.bind(t))})));this.authState=g.pipe(Sa(m),Object(Oa.a)(f.outsideAngular),Object(ba.b)(f.insideAngular)),this.user=g.pipe(Sa(b),Object(Oa.a)(f.outsideAngular),Object(ba.b)(f.insideAngular)),this.idToken=this.user.pipe(Ce((function(t){return t?Object(At.a)(t.getIdToken()):Object(Ot.a)(null)}))),this.idTokenResult=this.user.pipe(Ce((function(t){return t?Object(At.a)(t.getIdTokenResult()):Object(Ot.a)(null)}))),this.credential=Object(ma.a)(g,p,this.authState.pipe(Yt((function(t){return!t})))).pipe(Object(Gt.a)((function(t){return(null==t?void 0:t.user)?t:null})),Object(Oa.a)(f.outsideAngular),Object(ba.b)(f.insideAngular))}return Object(Aa.i)(this,v,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then((function(t){return p.next(t)}))}}})}).\u0275fac=function(t){return new(t||Ia)(r.Qb(Aa.c),r.Qb(Aa.b,8),r.Qb(r.B),r.Qb(r.z),r.Qb(xa,8),r.Qb(Na,8),r.Qb(Da,8),r.Qb(Pa,8),r.Qb(Ra,8),r.Qb(ja,8))},Ia.\u0275prov=r.Gb({factory:function(){return new Ia(r.Qb(Aa.c),r.Qb(Aa.b,8),r.Qb(r.B),r.Qb(r.z),r.Qb(xa,8),r.Qb(Na,8),r.Qb(Da,8),r.Qb(Pa,8),r.Qb(Ra,8),r.Qb(ja,8))},token:Ia,providedIn:"any"}),Ia),La=((Ta=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Ta}),Ta.\u0275inj=r.Hb({factory:function(t){return new(t||Ta)},providers:[Ma]}),Ta),Va=n("D0XW");function Fa(){return function(t){return t.lift(new Ua)}}var Ua=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qa(t))}}]),t}(),qa=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).hasPrev=!1,n}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),e}(Wt.a),Ba=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ha(t,this.compare,this.keySelector))}}]),t}(),Ha=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return _inherits(e,t),_createClass(e,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),e}(Wt.a),za=n("Jgta"),Ga=n("zIRd"),Ka=function(t,e){return(Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qa(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ka(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Wa(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(u_){o(u_)}}function s(t){try{u(r.throw(t))}catch(u_){o(u_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Ya(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(u_){o=[6,u_],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Za(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Xa=n("qOnz"),$a=n("q/0M"),Ja=function(t,e){return(Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ts(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var es,ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rs=rs||{},is=ns||self;function os(){}function as(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ss(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var us="closure_uid_"+(1e9*Math.random()>>>0),cs=0;function ls(t,e,n){return t.call.apply(t.bind,arguments)}function hs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function fs(t,e,n){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:hs).apply(null,arguments)}function ds(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ps(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function vs(){this.s=this.s,this.o=this.o}var gs={};vs.prototype.s=!1,vs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,us)&&t[us]||(t[us]=++cs)}(this);delete gs[t]}},vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ys=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ms=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function bs(t){return Array.prototype.concat.apply([],arguments)}function ws(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _s(t){return/^[\s\xa0]*$/.test(t)}var Cs,ks=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Es(t,e){return-1!=t.indexOf(e)}function Ss(t,e){return t<e?-1:t>e?1:0}t:{var Ts=is.navigator;if(Ts){var Is=Ts.userAgent;if(Is){Cs=Is;break t}}Cs=""}function Os(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function As(t){var e={};for(var n in t)e[n]=t[n];return e}var xs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ns(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<xs.length;o++)n=xs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ds(t){return Ds[" "](t),t}Ds[" "]=os;var Ps,Rs,js=Es(Cs,"Opera"),Ms=Es(Cs,"Trident")||Es(Cs,"MSIE"),Ls=Es(Cs,"Edge"),Vs=Ls||Ms,Fs=Es(Cs,"Gecko")&&!(Es(Cs.toLowerCase(),"webkit")&&!Es(Cs,"Edge"))&&!(Es(Cs,"Trident")||Es(Cs,"MSIE"))&&!Es(Cs,"Edge"),Us=Es(Cs.toLowerCase(),"webkit")&&!Es(Cs,"Edge");function qs(){var t=is.document;return t?t.documentMode:void 0}t:{var Bs="",Hs=(Rs=Cs,Fs?/rv:([^\);]+)(\)|;)/.exec(Rs):Ls?/Edge\/([\d\.]+)/.exec(Rs):Ms?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rs):Us?/WebKit\/(\S+)/.exec(Rs):js?/(?:Version)[ \/]?(\S+)/.exec(Rs):void 0);if(Hs&&(Bs=Hs?Hs[1]:""),Ms){var zs=qs();if(null!=zs&&zs>parseFloat(Bs)){Ps=String(zs);break t}}Ps=Bs}var Gs={},Ks=is.document&&Ms&&(qs()||parseInt(Ps,10))||void 0,Qs=function(){if(!is.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{is.addEventListener("test",os,e),is.removeEventListener("test",os,e)}catch(n){}return t}();function Ws(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ys(t,e){if(Ws.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Fs){t:{try{Ds(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zs[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ys.Z.h.call(this)}}Ws.prototype.h=function(){this.defaultPrevented=!0},ps(Ys,Ws);var Zs={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),$s=0;function Js(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++$s,this.ca=this.fa=!1}function tu(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function eu(t){this.src=t,this.g={},this.h=0}function nu(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=ys(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(tu(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ru(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}eu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=ru(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Js(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var iu="closure_lm_"+(1e6*Math.random()|0),ou={};function au(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=du(r),e&&e[Xs]?e.O(n,r,ss(i)?!!i.capture:!!i,o):su(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)au(t,e[o],n,r,i);return null}return n=du(n),t&&t[Xs]?t.N(e,n,ss(r)?!!r.capture:!!r,i):su(t,e,n,!1,r,i)}function su(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ss(i)?!!i.capture:!!i,s=hu(t);if(s||(t[iu]=s=new eu(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=lu;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function uu(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Xs])nu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hu(e))?(nu(n,t),0==n.h&&(n.src=null,e[iu]=null)):tu(t)}}}function cu(t){return t in ou?ou[t]:ou[t]="on"+t}function lu(t,e){if(t.ca)t=!0;else{e=new Ys(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&uu(t),t=n.call(r,e)}return t}function hu(t){return(t=t[iu])instanceof eu?t:null}var fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(t){return"function"==typeof t?t:(t[fu]||(t[fu]=function(e){return t.handleEvent(e)}),t[fu])}function pu(){vs.call(this),this.i=new eu(this),this.P=this,this.I=null}function vu(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ws(e,t);else if(e instanceof Ws)e.target=e.target||t;else{var i=e;Ns(e=new Ws(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=gu(a,r,!0,e)&&i}if(i=gu(a=e.g=t,r,!0,e)&&i,i=gu(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=gu(a=e.g=n[o],r,!1,e)&&i}function gu(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&nu(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ps(pu,vs),pu.prototype[Xs]=!0,pu.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=ss(i)?!!i.capture:!!i,r=du(r),e&&e[Xs]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=ru(a=e.g[n],r,i,o))&&(tu(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):e&&(e=hu(e))&&(n=e.g[n.toString()],e=-1,n&&(e=ru(n,r,i,o)),(r=-1<e?n[e]:null)&&uu(r))}(this,t,e,n,r)},pu.prototype.M=function(){if(pu.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)tu(n[r]);delete e.g[t],e.h--}}this.I=null},pu.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pu.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var yu=is.JSON.stringify;function mu(){var t=Tu,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bu,wu=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=_u.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),_u=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Cu}),(function(t){return t.reset()})),Cu=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ku(t){is.setTimeout((function(){throw t}),0)}function Eu(t,e){bu||function(){var t=is.Promise.resolve(void 0);bu=function(){t.then(Iu)}}(),Su||(bu(),Su=!0),Tu.add(t,e)}var Su=!1,Tu=new wu;function Iu(){for(var t;t=mu();){try{t.h.call(t.g)}catch(n){ku(n)}var e=_u;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Su=!1}function Ou(t,e){pu.call(this),this.h=t||1,this.g=e||is,this.j=fs(this.kb,this),this.l=Date.now()}function Au(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function xu(t,e,n){if("function"==typeof t)n&&(t=fs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fs(t.handleEvent,t)}return 2147483647<Number(e)?-1:is.setTimeout(t,e||0)}function Nu(t){t.g=xu((function(){t.g=null,t.i&&(t.i=!1,Nu(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}ps(Ou,pu),(es=Ou.prototype).da=!1,es.S=null,es.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vu(this,"tick"),this.da&&(Au(this),this.start()))}},es.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},es.M=function(){Ou.Z.M.call(this),Au(this),delete this.g};var Du=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ja(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Nu(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(is.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(vs);function Pu(t){vs.call(this),this.h=t,this.g={}}ps(Pu,vs);var Ru=[];function ju(t,e,n,r){Array.isArray(n)||(n&&(Ru[0]=n.toString()),n=Ru);for(var i=0;i<n.length;i++){var o=au(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Mu(t){Os(t.g,(function(t,e){this.g.hasOwnProperty(e)&&uu(t)}),t),t.g={}}function Lu(){this.g=!0}function Vu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return yu(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Pu.prototype.M=function(){Pu.Z.M.call(this),Mu(this)},Pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lu.prototype.Aa=function(){this.g=!1},Lu.prototype.info=function(){};var Fu={},Uu=null;function qu(){return Uu=Uu||new pu}function Bu(t){Ws.call(this,Fu.Ma,t)}function Hu(t){var e=qu();vu(e,new Bu(e,t))}function zu(t,e){Ws.call(this,Fu.STAT_EVENT,t),this.stat=e}function Gu(t){var e=qu();vu(e,new zu(e,t))}function Ku(t,e){Ws.call(this,Fu.Na,t),this.size=e}function Qu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return is.setTimeout((function(){t()}),e)}Fu.Ma="serverreachability",ps(Bu,Ws),Fu.STAT_EVENT="statevent",ps(zu,Ws),Fu.Na="timingevent",ps(Ku,Ws);var Wu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Zu(){}function Xu(){}Zu.prototype.h=null;var $u,Ju={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tc(){Ws.call(this,"d")}function ec(){Ws.call(this,"c")}function nc(){}function rc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Pu(this),this.P=oc,this.W=new Ou(t=Vs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ic}function ic(){this.i=null,this.g="",this.h=!1}ps(tc,Ws),ps(ec,Ws),ps(nc,Zu),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},$u=new nc;var oc=45e3,ac={},sc={};function uc(t,e,n){t.K=1,t.v=Nc(Sc(e)),t.s=n,t.U=!0,cc(t,null)}function cc(t,e){t.F=Date.now(),dc(t),t.A=Sc(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),zc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ic,t.g=Gl(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Du(fs(t.Ia,t,t.g),t.O)),ju(t.V,t.g,"readystatechange",t.gb),e=t.H?As(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Hu(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function lc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function hc(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=fc(t,n))==sc){4==e&&(t.o=4,Gu(14),i=!1),Vu(t.j,t.m,null,"[Incomplete Response]");break}if(r==ac){t.o=4,Gu(15),Vu(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Vu(t.j,t.m,r,null),mc(t,r)}lc(t)&&r!=sc&&r!=ac&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Gu(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ll(e),e.L=!0,Gu(11))):(Vu(t.j,t.m,n,"[Invalid Chunked Response]"),yc(t),gc(t))}function fc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?sc:(n=Number(e.substring(n,r)),isNaN(n)?ac:(r+=1)+n>e.length?sc:(e=e.substr(r,n),t.C=r+n,e))}function dc(t){t.Y=Date.now()+t.P,pc(t,t.P)}function pc(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qu(fs(t.eb,t),e)}function vc(t){t.B&&(is.clearTimeout(t.B),t.B=null)}function gc(t){0==t.l.G||t.I||Ul(t.l,t)}function yc(t){vc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Au(t.W),Mu(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function mc(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Xc(n.i,t)))if(n.I=t.N,!t.J&&Xc(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Fl(n),Ol(n)}Ml(n),Gu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qu(fs(n.ab,n),6e3));if(1>=Zc(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Bl(n,11)}else if((t.J||n.g==t)&&Fl(n),!_s(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Es(l,"spdy")||Es(l,"quic")||Es(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&($c(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,xc(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=zl(r,r.H?r.la:null,r.W),d.J){Jc(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(vc(p),dc(p)),r.g=d}else jl(r);0<n.l.length&&Nl(n)}else"stop"!=o[0]&&"close"!=o[0]||Bl(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Bl(n,7):Il(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Hu(4)}catch(o){}}function bc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(as(t)||"string"==typeof t)ms(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(as(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(as(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function wc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof wc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function _c(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Cc(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Cc(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Cc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(es=rc.prototype).setTimeout=function(t){this.P=t},es.gb=function(t){t=t.target;var e=this.L;e&&3==Cl(t)?e.l():this.Ia(t)},es.Ia=function(t){try{if(t==this.g)t:{var e=Cl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Vs||this.g&&(this.h.h||this.g.ga()||kl(this.g)))){this.I||4!=e||7==n||Hu(8==n||0>=r?3:2),vc(this);var i=this.g.ba();this.N=i;e:if(lc(this)){var o=kl(this.g);t="";var a=o.length,s=4==Cl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yc(this),gc(this);var u="";break e}this.h.i=new is.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_s(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Gu(12),yc(this),gc(this);break t}Vu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mc(this,i)}this.U?(hc(this,e,u),Vs&&this.i&&3==e&&(ju(this.V,this.W,"tick",this.fb),this.W.start())):(Vu(this.j,this.m,u,null),mc(this,u)),4==e&&yc(this),this.i&&!this.I&&(4==e?Ul(this.l,this):(this.i=!1,dc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Gu(12)):(this.o=0,Gu(13)),yc(this),gc(this)}}}catch(e){}},es.fb=function(){if(this.g){var t=Cl(this.g),e=this.g.ga();this.C<e.length&&(vc(this),hc(this,t,e),this.i&&4!=t&&dc(this))}},es.cancel=function(){this.I=!0,yc(this)},es.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Hu(3),Gu(17)),yc(this),this.o=2,gc(this)):pc(this,this.Y-t)},(es=wc.prototype).R=function(){_c(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},es.T=function(){return _c(this),this.g.concat()},es.get=function(t,e){return Cc(this.h,t)?this.h[t]:e},es.set=function(t,e){Cc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},es.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ec(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ec){this.g=void 0!==e?e:t.g,Tc(this,t.j),this.s=t.s,Ic(this,t.i),Oc(this,t.m),this.l=t.l,e=t.h;var n=new Uc;n.i=e.i,e.g&&(n.g=new wc(e.g),n.h=e.h),Ac(this,n),this.o=t.o}else t&&(n=String(t).match(kc))?(this.g=!!e,Tc(this,n[1]||"",!0),this.s=Dc(n[2]||""),Ic(this,n[3]||"",!0),Oc(this,n[4]),this.l=Dc(n[5]||"",!0),Ac(this,n[6]||"",!0),this.o=Dc(n[7]||"")):(this.g=!!e,this.h=new Uc(null,this.g))}function Sc(t){return new Ec(t)}function Tc(t,e,n){t.j=n?Dc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ic(t,e,n){t.i=n?Dc(e,!0):e}function Oc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ac(t,e,n){e instanceof Uc?(t.h=e,function(t,e){e&&!t.j&&(qc(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bc(this,e),zc(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Pc(e,Vc)),t.h=new Uc(e,t.g))}function xc(t,e,n){t.h.set(e,n)}function Nc(t){return xc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ec.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pc(e,jc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Pc(e,jc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Pc(n,"/"==n.charAt(0)?Lc:Mc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pc(n,Fc)),t.join("")};var jc=/[#\/\?@]/g,Mc=/[#\?:]/g,Lc=/[#\?]/g,Vc=/[#\?@]/g,Fc=/#/g;function Uc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qc(t){t.g||(t.g=new wc,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Bc(t,e){qc(t),e=Gc(t,e),Cc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Cc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&_c(t)))}function Hc(t,e){return qc(t),e=Gc(t,e),Cc(t.g.h,e)}function zc(t,e,n){Bc(t,e),0<n.length&&(t.i=null,t.g.set(Gc(t,e),ws(n)),t.h+=n.length)}function Gc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(es=Uc.prototype).add=function(t,e){qc(this),this.i=null,t=Gc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},es.forEach=function(t,e){qc(this),this.g.forEach((function(n,r){ms(n,(function(n){t.call(e,n,r,this)}),this)}),this)},es.T=function(){qc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},es.R=function(t){qc(this);var e=[];if("string"==typeof t)Hc(this,t)&&(e=bs(e,this.g.get(Gc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=bs(e,t[n])}return e},es.set=function(t,e){return qc(this),this.i=null,Hc(this,t=Gc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},es.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},es.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var Kc=function(t,e){this.h=t,this.g=e};function Qc(t){this.l=t||Wc,t=is.PerformanceNavigationTiming?0<(t=is.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(is.g&&is.g.Ea&&is.g.Ea()&&is.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wc=10;function Yc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Zc(t){return t.h?1:t.g?t.g.size:0}function Xc(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $c(t,e){t.g?t.g.add(e):t.h=e}function Jc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function tl(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=ts(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ws(t.i)}function el(){}function nl(){this.g=new el}function rl(t,e,n){var r=n||"";try{bc(t,(function(t,n){var i=t;ss(t)&&(i=yu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(u_){throw e.push(r+"type="+encodeURIComponent("_badmap")),u_}}function il(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function ol(t){this.l=t.$b||null,this.j=t.ib||!1}function al(t,e){pu.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=sl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qc.prototype.cancel=function(){var t,e;if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ts(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},el.prototype.stringify=function(t){return is.JSON.stringify(t,void 0)},el.prototype.parse=function(t){return is.JSON.parse(t,void 0)},ps(ol,Zu),ol.prototype.g=function(){return new al(this.l,this.j)},ol.prototype.i=function(t){return function(){return t}}({}),ps(al,pu);var sl=0;function ul(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ll(t)}function ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(es=al.prototype).open=function(t,e){if(this.readyState!=sl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ll(this)},es.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||is).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},es.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cl(this)),this.readyState=sl},es.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==is.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ul(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},es.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):ll(this),3==this.readyState&&ul(this)}},es.Ua=function(t){this.g&&(this.response=this.responseText=t,cl(this))},es.Ta=function(t){this.g&&(this.response=t,cl(this))},es.ha=function(){this.g&&cl(this)},es.setRequestHeader=function(t,e){this.v.append(t,e)},es.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},es.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(al.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var hl=is.JSON.parse;function fl(t){pu.call(this),this.headers=new wc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dl,this.K=this.L=!1}ps(fl,pu);var dl="",pl=/^https?$/i,vl=["POST","PUT"];function gl(t){return"content-type"==t.toLowerCase()}function yl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ml(t),wl(t)}function ml(t){t.D||(t.D=!0,vu(t,"complete"),vu(t,"error"))}function bl(t){if(t.h&&void 0!==rs&&(!t.C[1]||4!=Cl(t)||2!=t.ba()))if(t.v&&4==Cl(t))xu(t.Fa,0,t);else if(vu(t,"readystatechange"),4==Cl(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(kc)[1]||null;if(!o&&is.self&&is.self.location){var a=is.self.location.protocol;o=a.substr(0,a.length-1)}i=!pl.test(o?o.toLowerCase():"")}e=i}if(e)vu(t,"complete"),vu(t,"success");else{t.m=6;try{var s=2<Cl(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",ml(t)}}finally{wl(t)}}}function wl(t,e){if(t.g){_l(t);var n=t.g,r=t.C[0]?os:null;t.g=null,t.C=null,e||vu(t,"ready");try{n.onreadystatechange=r}catch(u_){}}}function _l(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(is.clearTimeout(t.A),t.A=null)}function Cl(t){return t.g?t.g.readyState:0}function kl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dl:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function El(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Os(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xc(t,e,n))}function Sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tl(t){this.za=0,this.l=[],this.h=new Lu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sl("baseRetryDelayMs",5e3,t),this.$a=Sl("retryDelaySeedMs",1e4,t),this.Ya=Sl("forwardChannelMaxRetries",2,t),this.ra=Sl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Qc(t&&t.concurrentRequestLimit),this.Ca=new nl,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Il(t){if(Al(t),3==t.G){var e=t.V++,n=Sc(t.F);xc(n,"SID",t.J),xc(n,"RID",e),xc(n,"TYPE","terminate"),Pl(t,n),(e=new rc(t,t.h,e,void 0)).K=2,e.v=Nc(Sc(n)),n=!1,is.navigator&&is.navigator.sendBeacon&&(n=is.navigator.sendBeacon(e.v.toString(),"")),!n&&is.Image&&((new Image).src=e.v,n=!0),n||(e.g=Gl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dc(e)}Hl(t)}function Ol(t){t.g&&(Ll(t),t.g.cancel(),t.g=null)}function Al(t){Ol(t),t.u&&(is.clearTimeout(t.u),t.u=null),Fl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&is.clearTimeout(t.m),t.m=null)}function xl(t,e){t.l.push(new Kc(t.Za++,e)),3==t.G&&Nl(t)}function Nl(t){Yc(t.i)||t.m||(t.m=!0,Eu(t.Ha,t),t.C=0)}function Dl(t,e){var n;n=e?e.m:t.V++;var r=Sc(t.F);xc(r,"SID",t.J),xc(r,"RID",n),xc(r,"AID",t.U),Pl(t,r),t.o&&t.s&&El(r,t.o,t.s),n=new rc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Rl(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),$c(t.i,n),uc(n,r,e)}function Pl(t,e){t.j&&bc({},(function(t,n){xc(e,n,t)}))}function Rl(t,e,n){n=Math.min(t.l.length,n);var r=t.j?fs(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{rl(l,a,"req"+c+"_")}catch(Eh){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function jl(t){t.g||t.u||(t.Y=1,Eu(t.Ga,t),t.A=0)}function Ml(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Qu(fs(t.Ga,t),ql(t,t.A)),t.A++,0))}function Ll(t){null!=t.B&&(is.clearTimeout(t.B),t.B=null)}function Vl(t){t.g=new rc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Sc(t.oa);xc(e,"RID","rpc"),xc(e,"SID",t.J),xc(e,"CI",t.N?"0":"1"),xc(e,"AID",t.U),Pl(t,e),xc(e,"TYPE","xmlhttp"),t.o&&t.s&&El(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Nc(Sc(e)),n.s=null,n.U=!0,cc(n,t)}function Fl(t){null!=t.v&&(is.clearTimeout(t.v),t.v=null)}function Ul(t,e){var n=null;if(t.g==e){Fl(t),Ll(t),t.g=null;var r=2}else{if(!Xc(t.i,e))return;n=e.D,Jc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;vu(r=qu(),new Ku(r,n,e,i)),Nl(t)}else jl(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zc(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Qu(fs(t.Ha,t,e),ql(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ml(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bl(t,5);break;case 4:Bl(t,10);break;case 3:Bl(t,6);break;default:Bl(t,2)}}function ql(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Bl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=fs(t.jb,t);n||(n=new Ec("//www.google.com/images/cleardot.gif"),is.location&&"http"==is.location.protocol||Tc(n,"https"),Nc(n)),function(t,e){var n=new Lu;if(is.Image){var r=new Image;r.onload=ds(il,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ds(il,n,r,"TestLoadImage: error",!1,e),r.onabort=ds(il,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ds(il,n,r,"TestLoadImage: timeout",!1,e),is.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gu(2);t.G=0,t.j&&t.j.va(e),Hl(t),Al(t)}function Hl(t){t.G=0,t.I=-1,t.j&&(0==tl(t.i).length&&0==t.l.length||(t.i.i.length=0,ws(t.l),t.l.length=0),t.j.ua())}function zl(t,e,n){var r=function(t){return t instanceof Ec?Sc(t):new Ec(t,void 0)}(n);if(""!=r.i)e&&Ic(r,e+"."+r.i),Oc(r,r.m);else{var i=is.location;r=function(t,e,n,r){var i=new Ec(null,void 0);return t&&Tc(i,t),e&&Ic(i,e),n&&Oc(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Os(t.aa,(function(t,e){xc(r,e,t)})),n=t.sa,(e=t.D)&&n&&xc(r,e,n),xc(r,"VER",t.ma),Pl(t,r),r}function Gl(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fl(n&&t.Ba&&!t.qa?new ol({ib:!0}):t.qa)).L=t.H,e}function Kl(){}function Ql(){if(Ms&&!(10<=Number(Ks)))throw Error("Environmental error: no available transport.")}function Wl(t,e){pu.call(this),this.g=new Tl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!_s(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_s(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Xl(this)}function Yl(t){tc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Zl(){ec.call(this),this.status=1}function Xl(t){this.g=t}(es=fl.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$u.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:$u),this.g.onreadystatechange=fs(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void yl(this,o)}t=n||"";var i=new wc(this.headers);r&&bc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=gl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=is.FormData&&t instanceof is.FormData,!(0<=ys(vl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_l(this),0<this.B&&((this.K=function(t){return Ms&&function(){return t=Gs,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ks(String(Ps)).split("."),n=ks("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Ss(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ss(0==o[2].length,0==a[2].length)||Ss(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.pa,this)):this.A=xu(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){yl(this,o)}},es.pa=function(){void 0!==rs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vu(this,"timeout"),this.abort(8))},es.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vu(this,"complete"),vu(this,"abort"),wl(this))},es.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wl(this,!0)),fl.Z.M.call(this)},es.Fa=function(){this.s||(this.F||this.v||this.l?bl(this):this.cb())},es.cb=function(){bl(this)},es.ba=function(){try{return 2<Cl(this)?this.g.status:-1}catch(Rs){return-1}},es.ga=function(){try{return this.g?this.g.responseText:""}catch(Rs){return""}},es.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hl(e)}},es.Da=function(){return this.m},es.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(es=Tl.prototype).ma=8,es.G=1,es.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},es.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new rc(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Ns(n=As(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Rl(this,e,r),xc(i=Sc(this.F),"RID",t),xc(i,"CVER",22),this.D&&xc(i,"X-HTTP-Session-Id",this.D),Pl(this,i),this.o&&n&&El(i,this.o,n),$c(this.i,e),this.Ra&&xc(i,"TYPE","init"),this.ja?(xc(i,"$req",r),xc(i,"SID","null"),e.$=!0,uc(e,i,null)):uc(e,i,r),this.G=2}}else 3==this.G&&(t?Dl(this,t):0==this.l.length||Yc(this.i)||Dl(this))},es.Ga=function(){if(this.u=null,Vl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Qu(fs(this.bb,this),t)}},es.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gu(10),Ol(this),Vl(this))},es.ab=function(){null!=this.v&&(this.v=null,Ol(this),Ml(this),Gu(19))},es.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Gu(2)):(this.h.info("Failed to ping google.com"),Gu(1))},(es=Kl.prototype).xa=function(){},es.wa=function(){},es.va=function(){},es.ua=function(){},es.Oa=function(){},Ql.prototype.g=function(t,e){return new Wl(t,e)},ps(Wl,pu),Wl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Eu(fs(t.hb,t,e))),Gu(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=zl(t,null,t.W),Nl(t)},Wl.prototype.close=function(){Il(this.g)},Wl.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,xl(this.g,e)}else this.v?((e={}).__data__=yu(t),xl(this.g,e)):xl(this.g,t)},Wl.prototype.M=function(){this.g.j=null,delete this.j,Il(this.g),delete this.g,Wl.Z.M.call(this)},ps(Yl,tc),ps(Zl,ec),ps(Xl,Kl),Xl.prototype.xa=function(){vu(this.g,"a")},Xl.prototype.wa=function(t){vu(this.g,new Yl(t))},Xl.prototype.va=function(t){vu(this.g,new Zl(t))},Xl.prototype.ua=function(){vu(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Wl.prototype.send=Wl.prototype.u,Wl.prototype.open=Wl.prototype.m,Wl.prototype.close=Wl.prototype.close,Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,Yu.COMPLETE="complete",Xu.EventType=Ju,Ju.OPEN="a",Ju.CLOSE="b",Ju.ERROR="c",Ju.MESSAGE="d",pu.prototype.listen=pu.prototype.N,fl.prototype.listenOnce=fl.prototype.O,fl.prototype.getLastError=fl.prototype.La,fl.prototype.getLastErrorCode=fl.prototype.Da,fl.prototype.getStatus=fl.prototype.ba,fl.prototype.getResponseJson=fl.prototype.Qa,fl.prototype.getResponseText=fl.prototype.ga,fl.prototype.send=fl.prototype.ea;var $l=Wu,Jl=Yu,th=Fu,eh=ol,nh=Xu,rh=fl,ih=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ih.o=-1;var oh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ah=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Qa(e,t),e}(Error),sh=new $a.b("@firebase/firestore");function uh(){return sh.logLevel}function ch(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sh.logLevel<=$a.a.DEBUG){var r=e.map(fh);sh.debug.apply(sh,Za(["Firestore (8.10.0): "+t],r))}}function lh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sh.logLevel<=$a.a.ERROR){var r=e.map(fh);sh.error.apply(sh,Za(["Firestore (8.10.0): "+t],r))}}function hh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sh.logLevel<=$a.a.WARN){var r=e.map(fh);sh.warn.apply(sh,Za(["Firestore (8.10.0): "+t],r))}}function fh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(u_){return t}}function dh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function ph(t,e){t||dh()}function vh(t,e){return t}function gh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yh=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function mh(t,e){return t<e?-1:t>e?1:0}function bh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function wh(t){return t+"\0"}var _h=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ah(oh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ah(oh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ah(oh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ah(oh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?mh(this.nanoseconds,t.nanoseconds):mh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ch=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new _h(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function kh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Th=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&dh(),void 0===n?n=t.length-e:n>t.length-e&&dh(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ah(oh.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Th),Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Oh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ah(oh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ah(oh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ah(oh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ah(oh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Th),xh=function(){function t(t){this.fields=t,t.sort(Ah.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return bh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Nh=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return mh(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Nh.EMPTY_BYTE_STRING=new Nh("");var Dh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ph(t){if(ph(!!t),"string"==typeof t){var e=0,n=Dh.exec(t);if(ph(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rh(t.seconds),nanos:Rh(t.nanos)}}function Rh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function jh(t){return"string"==typeof t?Nh.fromBase64String(t):Nh.fromUint8Array(t)}function Mh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lh(t){var e=Ph(t.mapValue.fields.__local_write_time__.timestampValue);return new _h(e.seconds,e.nanos)}function Vh(t){return null==t}function Fh(t){return 0===t&&1/t==-1/0}function Uh(t){return"number"==typeof t&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ih.fromString(e))},t.fromName=function(e){return new t(Ih.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ih.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ih.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ih(e.slice()))},t}();function Bh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mh(t)?4:10:dh()}function Hh(t,e){var n=Bh(t);if(n!==Bh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lh(t).isEqual(Lh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ph(t.timestampValue),r=Ph(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return jh(t.bytesValue).isEqual(jh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Rh(t.geoPointValue.latitude)===Rh(e.geoPointValue.latitude)&&Rh(t.geoPointValue.longitude)===Rh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Rh(t.integerValue)===Rh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Rh(t.doubleValue),r=Rh(e.doubleValue);return n===r?Fh(n)===Fh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return bh(t.arrayValue.values||[],e.arrayValue.values||[],Hh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(kh(n)!==kh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hh(n[i],r[i])))return!1;return!0}(t,e);default:return dh()}}function zh(t,e){return void 0!==(t.values||[]).find((function(t){return Hh(t,e)}))}function Gh(t,e){var n=Bh(t),r=Bh(e);if(n!==r)return mh(n,r);switch(n){case 0:return 0;case 1:return mh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Rh(t.integerValue||t.doubleValue),r=Rh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Kh(t.timestampValue,e.timestampValue);case 4:return Kh(Lh(t),Lh(e));case 5:return mh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=jh(t),r=jh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=mh(n[i],r[i]);if(0!==o)return o}return mh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=mh(Rh(t.latitude),Rh(e.latitude));return 0!==n?n:mh(Rh(t.longitude),Rh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Gh(n[i],r[i]);if(o)return o}return mh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=mh(r[a],o[a]);if(0!==s)return s;var u=Gh(n[r[a]],i[o[a]]);if(0!==u)return u}return mh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw dh()}}function Kh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mh(t,e);var n=Ph(t),r=Ph(e),i=mh(n.seconds,r.seconds);return 0!==i?i:mh(n.nanos,r.nanos)}function Qh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ph(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jh(e.bytesValue).toBase64():"referenceValue"in e?qh.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):dh();var n}(t)}function Wh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Yh(t){return!!t&&"integerValue"in t}function Zh(t){return!!t&&"arrayValue"in t}function Xh(t){return!!t&&"nullValue"in t}function $h(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Eh(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=tf(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tf(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ef=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Jh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tf(e)},t.prototype.setAll=function(t){var e=this,n=Ah.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=tf(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Jh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Hh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Jh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Eh(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(tf(this.value))},t}();function nf(t){var e=[];return Eh(t.fields,(function(t,n){var r=new Ah([t]);if(Jh(n)){var i=nf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new xh(e)}var rf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Ch.min(),ef.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ef.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ef.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ef.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ef.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),of=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function af(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new of(t,e,n,r,i,o,a)}function sf(t){var e=vh(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Qh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wf(e.startAt)),e.endAt&&(n+="|ub:",n+=wf(e.endAt)),e.h=n}return e.h}function uf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Cf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Hh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ef(t.startAt,e.startAt)&&Ef(t.endAt,e.endAt)}function cf(t){return qh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Qa(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new hf(t,n,r):"array-contains"===n?new vf(t,r):"in"===n?new gf(t,r):"not-in"===n?new yf(t,r):"array-contains-any"===n?new mf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ff(t,n):new df(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Gh(e,this.value)):null!==e&&Bh(this.value)===Bh(e)&&this.m(Gh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dh()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=qh.fromName(r.referenceValue),i}return Qa(e,t),e.prototype.matches=function(t){var e=qh.comparator(t.key,this.key);return this.m(e)},e}(lf),ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=pf(0,n),r}return Qa(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lf),df=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=pf(0,n),r}return Qa(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lf);function pf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return qh.fromName(t.referenceValue)}))}var vf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Qa(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Zh(e)&&zh(e.arrayValue,this.value)},e}(lf),gf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Qa(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&zh(this.value.arrayValue,e)},e}(lf),yf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Qa(e,t),e.prototype.matches=function(t){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!zh(this.value.arrayValue,e)},e}(lf),mf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Qa(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return zh(e.value.arrayValue,t)}))},e}(lf),bf=function(t,e){this.position=t,this.before=e};function wf(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Qh(t)})).join(",")}var _f=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Cf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?qh.comparator(qh.fromName(a.referenceValue),n.key):Gh(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ef(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Hh(t.position[n],e.position[n]))return!1;return!0}var Sf=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Tf(t,e,n,r,i,o,a,s){return new Sf(t,e,n,r,i,o,a,s)}function If(t){return new Sf(t)}function Of(t){return!Vh(t.limit)&&"F"===t.limitType}function Af(t){return!Vh(t.limit)&&"L"===t.limitType}function xf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Nf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Df(t){return null!==t.collectionGroup}function Pf(t){var e=vh(t);if(null===e.p){e.p=[];var n=Nf(e),r=xf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new _f(n)),e.p.push(new _f(Ah.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new _f(Ah.keyField(),u))}}}return e.p}function Rf(t){var e=vh(t);if(!e.T)if("F"===e.limitType)e.T=af(e.path,e.collectionGroup,Pf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Pf(e);r<i.length;r++){var o=i[r];n.push(new _f(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new bf(e.endAt.position,!e.endAt.before):null,s=e.startAt?new bf(e.startAt.position,!e.startAt.before):null;e.T=af(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function jf(t,e,n){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return uf(Rf(t),Rf(e))&&t.limitType===e.limitType}function Lf(t){return sf(Rf(t))+"|lt:"+t.limitType}function Vf(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Qh(e.value);var e})).join(", ")+"]"),Vh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wf(t.startAt)),t.endAt&&(e+=", endAt: "+wf(t.endAt)),"Target("+e+")"}(Rf(t))+"; limitType="+t.limitType+")"}function Ff(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):qh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kf(t.startAt,Pf(t),e)||t.endAt&&kf(t.endAt,Pf(t),e))}(t,e)}function Uf(t){return function(e,n){for(var r=!1,i=0,o=Pf(t);i<o.length;i++){var a=o[i],s=qf(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function qf(t,e,n){var r=t.field.isKeyField()?qh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Gh(r,i):dh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dh()}}function Bf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Hf(t){return{integerValue:""+t}}function zf(t,e){return Uh(e)?Hf(e):Bf(t,e)}var Gf=function(){this._=void 0};function Kf(t,e,n){return t instanceof Yf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Zf?Xf(t,e):t instanceof $f?Jf(t,e):function(t,e){var n=Wf(t,e),r=ed(n)+ed(t.A);return Yh(n)&&Yh(t.A)?Hf(r):Bf(t.R,r)}(t,e)}function Qf(t,e,n){return t instanceof Zf?Xf(t,e):t instanceof $f?Jf(t,e):n}function Wf(t,e){return t instanceof td?Yh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e}(Gf),Zf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Qa(e,t),e}(Gf);function Xf(t,e){for(var n=nd(e),r=function(t){n.some((function(e){return Hh(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $f=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Qa(e,t),e}(Gf);function Jf(t,e){for(var n=nd(e),r=function(t){n=n.filter((function(e){return!Hh(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Qa(e,t),e}(Gf);function ed(t){return Rh(t.integerValue||t.doubleValue)}function nd(t){return Zh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var rd=function(t,e){this.field=t,this.transform=e},id=function(t,e){this.version=t,this.transformResults=e},od=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ad(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var sd=function(){};function ud(t,e,n){t instanceof dd?function(t,e,n){var r=t.value.clone(),i=gd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof pd?function(t,e,n){if(ad(t.precondition,e)){var r=gd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(vd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function cd(t,e,n){t instanceof dd?function(t,e,n){if(ad(t.precondition,e)){var r=t.value.clone(),i=yd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(fd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof pd?function(t,e,n){if(ad(t.precondition,e)){var r=yd(t.fieldTransforms,n,e),i=e.data;i.setAll(vd(t)),i.setAll(r),e.convertToFoundDocument(fd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ad(t.precondition,e)&&e.convertToNoDocument(Ch.min())}(t,e)}function ld(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Wf(o.transform,a||null);null!=s&&(null==n&&(n=ef.empty()),n.set(o.field,s))}return n||null}function hd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&bh(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Zf&&e instanceof Zf||t instanceof $f&&e instanceof $f?bh(t.elements,e.elements,Hh):t instanceof td&&e instanceof td?Hh(t.A,e.A):t instanceof Yf&&e instanceof Yf}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function fd(t){return t.isFoundDocument()?t.version:Ch.min()}var dd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Qa(e,t),e}(sd),pd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Qa(e,t),e}(sd);function vd(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function gd(t,e,n){var r=new Map;ph(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Qf(a,s,n[i]))}return r}function yd(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Kf(s,u,e))}return r}var md,bd,wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Qa(e,t),e}(sd),_d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Qa(e,t),e}(sd),Cd=function(t){this.count=t};function kd(t){switch(t){case oh.OK:return dh();case oh.CANCELLED:case oh.UNKNOWN:case oh.DEADLINE_EXCEEDED:case oh.RESOURCE_EXHAUSTED:case oh.INTERNAL:case oh.UNAVAILABLE:case oh.UNAUTHENTICATED:return!1;case oh.INVALID_ARGUMENT:case oh.NOT_FOUND:case oh.ALREADY_EXISTS:case oh.PERMISSION_DENIED:case oh.FAILED_PRECONDITION:case oh.ABORTED:case oh.OUT_OF_RANGE:case oh.UNIMPLEMENTED:case oh.DATA_LOSS:return!0;default:return dh()}}function Ed(t){if(void 0===t)return lh("GRPC error has no .code"),oh.UNKNOWN;switch(t){case md.OK:return oh.OK;case md.CANCELLED:return oh.CANCELLED;case md.UNKNOWN:return oh.UNKNOWN;case md.DEADLINE_EXCEEDED:return oh.DEADLINE_EXCEEDED;case md.RESOURCE_EXHAUSTED:return oh.RESOURCE_EXHAUSTED;case md.INTERNAL:return oh.INTERNAL;case md.UNAVAILABLE:return oh.UNAVAILABLE;case md.UNAUTHENTICATED:return oh.UNAUTHENTICATED;case md.INVALID_ARGUMENT:return oh.INVALID_ARGUMENT;case md.NOT_FOUND:return oh.NOT_FOUND;case md.ALREADY_EXISTS:return oh.ALREADY_EXISTS;case md.PERMISSION_DENIED:return oh.PERMISSION_DENIED;case md.FAILED_PRECONDITION:return oh.FAILED_PRECONDITION;case md.ABORTED:return oh.ABORTED;case md.OUT_OF_RANGE:return oh.OUT_OF_RANGE;case md.UNIMPLEMENTED:return oh.UNIMPLEMENTED;case md.DATA_LOSS:return oh.DATA_LOSS;default:return dh()}}(bd=md||(md={}))[bd.OK=0]="OK",bd[bd.CANCELLED=1]="CANCELLED",bd[bd.UNKNOWN=2]="UNKNOWN",bd[bd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bd[bd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bd[bd.NOT_FOUND=5]="NOT_FOUND",bd[bd.ALREADY_EXISTS=6]="ALREADY_EXISTS",bd[bd.PERMISSION_DENIED=7]="PERMISSION_DENIED",bd[bd.UNAUTHENTICATED=16]="UNAUTHENTICATED",bd[bd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bd[bd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bd[bd.ABORTED=10]="ABORTED",bd[bd.OUT_OF_RANGE=11]="OUT_OF_RANGE",bd[bd.UNIMPLEMENTED=12]="UNIMPLEMENTED",bd[bd.INTERNAL=13]="INTERNAL",bd[bd.UNAVAILABLE=14]="UNAVAILABLE",bd[bd.DATA_LOSS=15]="DATA_LOSS";var Sd=function(){function t(t,e){this.comparator=t,this.root=e||Id.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Id.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Id.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Td(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Td(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Td(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Td(this.root,t,this.comparator,!0)},t}(),Td=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Id=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw dh();if(this.right.isRed())throw dh();var t=this.left.check();if(t!==this.right.check())throw dh();return t+(this.isRed()?0:1)},t}();Id.EMPTY=null,Id.RED=!0,Id.BLACK=!1,Id.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw dh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw dh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw dh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw dh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw dh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Id(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Od=function(){function t(t){this.comparator=t,this.data=new Sd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ad(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ad(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ad=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xd=new Sd(qh.comparator);function Nd(){return xd}var Dd=new Sd(qh.comparator);function Pd(){return Dd}var Rd=new Sd(qh.comparator);function jd(){return Rd}var Md=new Od(qh.comparator);function Ld(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Md,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vd=new Od(mh);function Fd(){return Vd}var Ud=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ch.min(),r,Fd(),Nd(),Ld())},t}(),qd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Nh.EMPTY_BYTE_STRING,n,Ld(),Ld(),Ld())},t}(),Bd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Hd=function(t,e){this.targetId=t,this.V=e},zd=function(t,e,n,r){void 0===n&&(n=Nh.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gd=function(){function t(){this.S=0,this.D=Wd(),this.C=Nh.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ld(),e=Ld(),n=Ld();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:dh()}})),new qd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Wd()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Kd=function(){function t(t){this.W=t,this.G=new Map,this.H=Nd(),this.J=Qd(),this.Y=new Od(mh)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:dh()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(cf(i))if(0===n){var o=new qh(i.path);this.tt(e,o,rf.newNoDocument(o,Ch.min()))}else ph(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&cf(o.target)){var a=new qh(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,rf.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ld();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ud(t,n,this.Y,this.H,r);return this.H=Nd(),this.J=Qd(),this.Y=new Od(mh),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Gd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Od(mh),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ch("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Gd),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Qd(){return new Sd(qh.comparator)}function Wd(){return new Sd(qh.comparator)}var Yd={asc:"ASCENDING",desc:"DESCENDING"},Zd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xd=function(t,e){this.databaseId=t,this.I=e};function $d(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jd(t,e){return t.I?e.toBase64():e.toUint8Array()}function tp(t,e){return $d(t,e.toTimestamp())}function ep(t){return ph(!!t),Ch.fromTimestamp(function(t){var e=Ph(t);return new _h(e.seconds,e.nanos)}(t))}function np(t,e){return function(t){return new Ih(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function rp(t){var e=Ih.fromString(t);return ph(Tp(e)),e}function ip(t,e){return np(t.databaseId,e.path)}function op(t,e){var n=rp(e);if(n.get(1)!==t.databaseId.projectId)throw new ah(oh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ah(oh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qh(cp(n))}function ap(t,e){return np(t.databaseId,e)}function sp(t){var e=rp(t);return 4===e.length?Ih.emptyPath():cp(e)}function up(t){return new Ih(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cp(t){return ph(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lp(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function hp(t,e,n){var r=op(t,e.name),i=ep(e.updateTime),o=new ef({mapValue:{fields:e.fields}}),a=rf.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fp(t,e){var n;if(e instanceof dd)n={update:lp(t,e.key,e.value)};else if(e instanceof wd)n={delete:ip(t,e.key)};else if(e instanceof pd)n={update:lp(t,e.key,e.data),updateMask:Sp(e.fieldMask)};else{if(!(e instanceof _d))return dh();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Yf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zf)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $f)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof td)return{fieldPath:e.field.canonicalString(),increment:n.A};throw dh()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:tp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:dh()}(t,e.precondition)),n}function dp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?od.updateTime(ep(t.updateTime)):void 0!==t.exists?od.exists(t.exists):od.none()}(e.currentDocument):od.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ph("REQUEST_TIME"===e.setToServerValue),n=new Yf):"appendMissingElements"in e?n=new Zf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new $f(e.removeAllFromArray.values||[]):"increment"in e?n=new td(t,e.increment):dh();var r=Ah.fromServerFormat(e.fieldPath);return new rd(r,n)}(t,e)})):[];if(e.update){var i=op(t,e.update.name),o=new ef({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new xh((t.fieldPaths||[]).map((function(t){return Ah.fromServerFormat(t)})))}(e.updateMask);return new pd(i,o,a,n,r)}return new dd(i,o,n,r)}if(e.delete){var s=op(t,e.delete);return new wd(s,n)}if(e.verify){var u=op(t,e.verify);return new _d(u,n)}return dh()}function pp(t,e){return{documents:[ap(t,e.path)]}}function vp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ap(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ap(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if($h(t.value))return{unaryFilter:{field:_p(t.field),op:"IS_NAN"}};if(Xh(t.value))return{unaryFilter:{field:_p(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($h(t.value))return{unaryFilter:{field:_p(t.field),op:"IS_NOT_NAN"}};if(Xh(t.value))return{unaryFilter:{field:_p(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_p(t.field),op:wp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:_p(t.field),direction:bp(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Vh(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=yp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yp(e.endAt)),n}function gp(t){var e=sp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ph(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ep(e)]:void 0!==e.fieldFilter?[kp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):dh():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new _f(Cp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Vh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=mp(n.startAt));var l=null;return n.endAt&&(l=mp(n.endAt)),Tf(e,i,s,a,u,"F",c,l)}function yp(t){return{before:t.before,values:t.position}}function mp(t){return new bf(t.values||[],!!t.before)}function bp(t){return Yd[t]}function wp(t){return Zd[t]}function _p(t){return{fieldPath:t.canonicalString()}}function Cp(t){return Ah.fromServerFormat(t.fieldPath)}function kp(t){return lf.create(Cp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return dh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ep(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cp(t.unaryFilter.field);return lf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cp(t.unaryFilter.field);return lf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cp(t.unaryFilter.field);return lf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cp(t.unaryFilter.field);return lf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return dh()}}function Sp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Tp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ip(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ap(e)),e=Op(t.get(n),e);return Ap(e)}function Op(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ap(t){return t+"\x01\x01"}function xp(t){var e=t.length;if(ph(e>=2),2===e)return ph("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ih.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&dh(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:dh()}o=a+2}return new Ih(r)}var Np=function(t,e){this.seconds=t,this.nanoseconds=e},Dp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dp.store="owner",Dp.key="owner";var Pp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Pp.store="mutationQueues",Pp.keyPath="userId";var Rp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rp.store="mutations",Rp.keyPath="batchId",Rp.userMutationsIndex="userMutationsIndex",Rp.userMutationsKeyPath=["userId","batchId"];var jp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ip(e)]},t.key=function(t,e,n){return[t,Ip(e),n]},t}();jp.store="documentMutations",jp.PLACEHOLDER=new jp;var Mp=function(t,e){this.path=t,this.readTime=e},Lp=function(t,e){this.path=t,this.version=e},Vp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Vp.store="remoteDocuments",Vp.readTimeIndex="readTimeIndex",Vp.readTimeIndexPath="readTime",Vp.collectionReadTimeIndex="collectionReadTimeIndex",Vp.collectionReadTimeIndexPath=["parentPath","readTime"];var Fp=function(t){this.byteSize=t};Fp.store="remoteDocumentGlobal",Fp.key="remoteDocumentGlobalKey";var Up=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Up.store="targets",Up.keyPath="targetId",Up.queryTargetsIndexName="queryTargetsIndex",Up.queryTargetsKeyPath=["canonicalId","targetId"];var qp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qp.store="targetDocuments",qp.keyPath=["targetId","path"],qp.documentTargetsIndex="documentTargetsIndex",qp.documentTargetsKeyPath=["path","targetId"];var Bp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bp.key="targetGlobalKey",Bp.store="targetGlobal";var Hp=function(t,e){this.collectionId=t,this.parent=e};Hp.store="collectionParents",Hp.keyPath=["collectionId","parent"];var zp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zp.store="clientMetadata",zp.keyPath="clientId";var Gp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Gp.store="bundles",Gp.keyPath="bundleId";var Kp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Kp.store="namedQueries",Kp.keyPath="name";var Qp=Za(Za([],Za(Za([],Za(Za([],Za(Za([],[Pp.store,Rp.store,jp.store,Vp.store,Up.store,Dp.store,Bp.store,qp.store]),[zp.store])),[Fp.store])),[Hp.store])),[Gp.store,Kp.store]),Wp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Zp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Xp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&dh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),$p=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Zp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ev(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=av(e.target.error);n.ft.reject(new ev(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ev(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ch("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rv(e)},t}(),Jp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Xa.i)())&&lh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ch("SimpleDb","Removing database:",t),iv(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Xa.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Wa(this,void 0,void 0,(function(){var e,n=this;return Ya(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ch("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ev(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ah(oh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ev(t,n))},i.onupgradeneeded=function(t){ch("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){ch("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o,a,s,u;return Ya(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Ya(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=$p.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Xp.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return ch("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),tv=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return iv(this.Pt.delete())},t}(),ev=function(t){function e(e,n){var r=this;return(r=t.call(this,oh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Qa(e,t),e}(ah);function nv(t){return"IndexedDbTransactionError"===t.name}var rv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ch("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ch("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),iv(n)},t.prototype.add=function(t){return ch("SimpleDb","ADD",this.store.name,t,t),iv(this.store.add(t))},t.prototype.get=function(t){var e=this;return iv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ch("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ch("SimpleDb","DELETE",this.store.name,t),iv(this.store.delete(t))},t.prototype.count=function(){return ch("SimpleDb","COUNT",this.store.name),iv(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){ch("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Xp((function(n,r){e.onerror=function(t){var e=av(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Xp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tv(i),a=e(i.primaryKey,i.value,o);if(a instanceof Xp){var s=a.catch((function(t){return o.done(),Xp.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Xp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function iv(t){return new Xp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=av(t.target.error);n(e)}}))}var ov=!1;function av(t){var e=Jp._t(Object(Xa.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ah("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ov||(ov=!0,setTimeout((function(){throw r}),0)),r}}return t}var sv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Qa(e,t),e}(Yp);function uv(t,e){var n=vh(t);return Jp.It(n.Mt,e)}var cv=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ud(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&cd(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&cd(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ch.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ld())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&bh(this.mutations,t.mutations,(function(t,e){return hd(t,e)}))&&bh(this.baseMutations,t.baseMutations,(function(t,e){return hd(t,e)}))},t}(),lv=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ph(e.mutations.length===r.length);for(var i=jd(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),hv=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ch.min()),void 0===o&&(o=Ch.min()),void 0===a&&(a=Nh.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),fv=function(t){this.Lt=t};function dv(t,e){if(e.document)return hp(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=qh.fromSegments(e.noDocument.path),r=mv(e.noDocument.readTime),i=rf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=qh.fromSegments(e.unknownDocument.path);return r=mv(e.unknownDocument.version),rf.newUnknownDocument(o,r)}return dh()}function pv(t,e,n){var r=vv(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ip(t,e.key),fields:e.data.value.mapValue.fields,updateTime:$d(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Vp(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=yv(e.version);return a=e.hasCommittedMutations,new Vp(null,new Mp(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=yv(e.version);return new Vp(new Lp(c,l),null,null,!0,r,i)}return dh()}function vv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gv(t){var e=new _h(t[0],t[1]);return Ch.fromTimestamp(e)}function yv(t){var e=t.toTimestamp();return new Np(e.seconds,e.nanoseconds)}function mv(t){var e=new _h(t.seconds,t.nanoseconds);return Ch.fromTimestamp(e)}function bv(t,e){for(var n=(e.baseMutations||[]).map((function(e){return dp(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return dp(t.Lt,e)})),o=_h.fromMillis(e.localWriteTimeMs);return new cv(e.batchId,o,n,i)}function wv(t){var e,n,r=mv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mv(t.lastLimboFreeSnapshotVersion):Ch.min();return void 0!==t.query.documents?(ph(1===(n=t.query).documents.length),e=Rf(If(sp(n.documents[0])))):e=function(t){return Rf(gp(t))}(t.query),new hv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Nh.fromBase64String(t.resumeToken))}function _v(t,e){var n,r=yv(e.snapshotVersion),i=yv(e.lastLimboFreeSnapshotVersion);n=cf(e.target)?pp(t.Lt,e.target):vp(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Up(e.targetId,sf(e.target),r,o,e.sequenceNumber,i,n)}function Cv(t){var e=gp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jf(e,e.limit,"L"):e}var kv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ev(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:mv(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ev(t).put({bundleId:(n=e).id,createTime:yv(ep(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Sv(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Cv(e.bundledQuery),readTime:mv(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Sv(t).put(function(t){return{name:t.name,readTime:yv(ep(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ev(t){return uv(t,Gp.store)}function Sv(t){return uv(t,Kp.store)}var Tv=function(){function t(){this.Bt=new Iv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Xp.resolve()},t.prototype.getCollectionParents=function(t,e){return Xp.resolve(this.Bt.getEntries(e))},t}(),Iv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Od(Ih.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Od(Ih.comparator)).toArray()},t}(),Ov=function(){function t(){this.qt=new Iv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Ip(i)};return Av(t).put(o)}return Xp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[wh(e),""],!1,!0);return Av(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(xp(o.parent))}return n}))},t}();function Av(t){return uv(t,Hp.store)}var xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Dv(t,e,n){var r=t.store(Rp.store),i=t.store(jp.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){ph(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Xp.waitFor(o).next((function(){return c}))}function Pv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dh();e=t.noDocument}return JSON.stringify(e).length}Nv.DEFAULT_COLLECTION_PERCENTILE=10,Nv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nv.DEFAULT=new Nv(41943040,Nv.DEFAULT_COLLECTION_PERCENTILE,Nv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nv.DISABLED=new Nv(-1,0,0);var Rv=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ph(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mv(t).$t({index:Rp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Lv(t),a=Mv(t);return a.add({}).next((function(s){ph("number"==typeof s);for(var u=new cv(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return fp(t.Lt,e)})),i=n.mutations.map((function(e){return fp(t.Lt,e)}));return new Rp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Od((function(t,e){return mh(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=jp.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,jp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Xp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Mv(t).get(e).next((function(t){return t?(ph(t.userId===n.userId),bv(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Xp.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Mv(t).$t({index:Rp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ph(e.batchId>=r),o=bv(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Mv(t).$t({index:Rp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mv(t).Nt(Rp.userMutationsIndex,n).next((function(t){return t.map((function(t){return bv(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=jp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Lv(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[2],c=xp(r[1]);if(s===n.userId&&e.path.isEqual(c))return Mv(t).get(u).next((function(t){if(!t)throw dh();ph(t.userId===n.userId),o.push(bv(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Od(mh),i=[];return e.forEach((function(e){var o=jp.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Lv(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[2],u=xp(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Xp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=jp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Od(mh);return Lv(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[2],c=xp(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Mv(t).get(e).next((function(t){if(null===t)throw dh();ph(t.userId===n.userId),r.push(bv(n.R,t))})))})),Xp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Dv(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Xp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Xp.resolve();var r=IDBKeyRange.lowerBound(jp.prefixForUser(e.userId)),i=[];return Lv(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=xp(t[1]);i.push(o)}else r.done()})).next((function(){ph(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return jv(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Vv(t).get(this.userId).next((function(t){return t||new Pp(e.userId,-1,"")}))},t}();function jv(t,e,n){var r=jp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Lv(t).$t({range:o,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Mv(t){return uv(t,Rp.store)}function Lv(t){return uv(t,jp.store)}function Vv(t){return uv(t,Pp.store)}var Fv=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Uv=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Fv(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Ch.fromTimestamp(new _h(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return qv(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ph(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qv(t).$t((function(a,s){var u=wv(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Xp.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return qv(t).$t((function(t,n){var r=wv(n);e(r)}))},t.prototype.Xt=function(t){return Bv(t).get(Bp.key).next((function(t){return ph(null!==t),t}))},t.prototype.Zt=function(t,e){return Bv(t).put(Bp.key,e)},t.prototype.te=function(t,e){return qv(t).put(_v(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=sf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qv(t).$t({range:r,index:Up.queryTargetsIndexName},(function(t,n,r){var o=wv(n);uf(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Hv(t);return e.forEach((function(e){var a=Ip(e.path);i.push(o.put(new qp(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Xp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hv(t);return Xp.forEach(e,(function(e){var o=Ip(e.path);return Xp.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hv(t),i=Ld();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=xp(t[1]),o=new qh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Ip(e.path),r=IDBKeyRange.bound([n],[wh(n)],!1,!0),i=0;return Hv(t).$t({index:qp.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return qv(t).get(e).next((function(t){return t?wv(t):null}))},t}();function qv(t){return uv(t,Up.store)}function Bv(t){return uv(t,Bp.store)}function Hv(t){return uv(t,qp.store)}function zv(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){if(t.code!==oh.FAILED_PRECONDITION||t.message!==Wp)throw t;return ch("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Gv(t,e){var n=t[1],r=e[1],i=mh(t[0],e[0]);return 0===i?mh(n,r):i}var Kv=function(){function t(t){this.ne=t,this.buffer=new Od(Gv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ch("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Wa(e,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return nv(e=n.sent())?(ch("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Wv=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Xp.resolve(ih.o);var r=new Kv(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ch("LruGarbageCollector","Garbage collection skipped; disabled"),Xp.resolve(xv)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ch("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xv):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(ch("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),uh()<=$a.a.DEBUG&&ch("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Xp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Yv=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Wv(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Zv(t,n)},t.prototype.removeReference=function(t,e,n){return Zv(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Zv(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Vv(t).Ot((function(r){return jv(t,r,e).next((function(t){return t&&(n=!0),Xp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Hv(t).delete([0,Ip(a.path)])}))}));i.push(u)}})).next((function(){return Xp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Zv(t,e)},t.prototype.we=function(t,e){var n,r=Hv(t),i=ih.o;return r.$t({index:qp.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==ih.o&&e(new qh(xp(n)),i),i=a,n=o):i=ih.o})).next((function(){i!==ih.o&&e(new qh(xp(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Zv(t,e){return Hv(t).put(function(t,e){return new qp(0,Ip(t.path),e)}(e,t.currentSequenceNumber))}var Xv=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Eh(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Sh(this.inner)},t}(),$v=function(){function t(){this.changes=new Xv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ch.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:rf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Xp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Jv=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ng(t).put(rg(e),n)},t.prototype.removeEntry=function(t,e){var n=ng(t),r=rg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return ng(t).get(rg(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return ng(t).get(rg(e)).next((function(t){return{document:n.ye(e,t),size:Pv(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Nd();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Nd(),i=new Sd(qh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Pv(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Xp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ng(t).$t({range:r},(function(t,e,r){for(var a=qh.fromSegments(t);o&&qh.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Nd(),o=e.path.length+1,a={};if(n.isEqual(Ch.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=vv(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Vp.collectionReadTimeIndex}return ng(t).$t(a,(function(t,n,a){if(t.length===o){var s=dv(r.R,n);e.path.isPrefixOf(s.key.path)?Ff(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new tg(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return eg(t).get(Fp.key).next((function(t){return ph(!!t),t}))},t.prototype.me=function(t,e){return eg(t).put(Fp.key,e)},t.prototype.ye=function(t,e){if(e){var n=dv(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Ch.min()))return n}return rf.newInvalidDocument(t)},t}(),tg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Xv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Qa(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Od((function(t,e){return mh(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=pv(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Pv(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=pv(e.Ie.R,rf.newNoDocument(o,Ch.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Xp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}($v);function eg(t){return uv(t,Fp.store)}function ng(t){return uv(t,Vp.store)}function rg(t){return t.path.toArray()}var ig=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ph(n<r&&n>=0&&r<=11);var o=new $p("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dp.store)}(t),function(t){t.createObjectStore(Pp.store,{keyPath:Pp.keyPath}),t.createObjectStore(Rp.store,{keyPath:Rp.keyPath,autoIncrement:!0}).createIndex(Rp.userMutationsIndex,Rp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jp.store)}(t),og(t),function(t){t.createObjectStore(Vp.store)}(t));var a=Xp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qp.store),t.deleteObjectStore(Up.store),t.deleteObjectStore(Bp.store)}(t),og(t)),a=a.next((function(){return function(t){var e=t.store(Bp.store),n=new Bp(0,0,Ch.min().toTimestamp(),0);return e.put(Bp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Rp.store).Nt().next((function(n){t.deleteObjectStore(Rp.store),t.createObjectStore(Rp.store,{keyPath:Rp.keyPath,autoIncrement:!0}).createIndex(Rp.userMutationsIndex,Rp.userMutationsKeyPath,{unique:!0});var r=e.store(Rp.store),i=n.map((function(t){return r.put(t)}));return Xp.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(zp.store,{keyPath:zp.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Fp.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vp.store);e.createIndex(Vp.readTimeIndex,Vp.readTimeIndexPath,{unique:!1}),e.createIndex(Vp.collectionReadTimeIndex,Vp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Gp.store,{keyPath:Gp.keyPath})}(t),function(t){t.createObjectStore(Kp.store,{keyPath:Kp.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Vp.store).$t((function(t,n){e+=Pv(n)})).next((function(){var n=new Fp(e);return t.store(Fp.store).put(Fp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Pp.store),r=t.store(Rp.store);return n.Nt().next((function(n){return Xp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Rp.userMutationsIndex,i).next((function(r){return Xp.forEach(r,(function(r){ph(r.userId===n.userId);var i=bv(e.R,r);return Dv(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(qp.store),n=t.store(Vp.store);return t.store(Bp.store).get(Bp.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Ih(n),a=function(t){return[0,Ip(t)]}(o);r.push(e.get(a).next((function(n){return n?Xp.resolve():function(n){return e.put(new qp(0,Ip(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Xp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Hp.store,{keyPath:Hp.keyPath});var n=e.store(Hp.store),r=new Iv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ip(i)})}};return e.store(Vp.store).$t({Ft:!0},(function(t,e){var n=new Ih(t);return i(n.popLast())})).next((function(){return e.store(jp.store).$t({Ft:!0},(function(t,e){var n=xp(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Up.store);return n.$t((function(t,r){var i=wv(r),o=_v(e.R,i);return n.put(o)}))},t}();function og(t){t.createObjectStore(qp.store,{keyPath:qp.keyPath}).createIndex(qp.documentTargetsIndex,qp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Up.store,{keyPath:Up.keyPath}).createIndex(Up.queryTargetsIndexName,Up.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bp.store)}var ag="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sg=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ah(oh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yv(this,i),this.Le=n+"main",this.R=new fv(u),this.Be=new Jp(this.Le,11,new ig(this.R)),this.qe=new Uv(this.referenceDelegate,this.R),this.Ut=new Ov,this.Ue=function(t,e){return new Jv(t,e)}(this.R,this.Ut),this.Ke=new kv,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&lh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ah(oh.FAILED_PRECONDITION,ag);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new ih(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Wa(e,void 0,void 0,(function(){return Ya(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Wa(e,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Wa(e,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return cg(e).put(new zp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(nv(e))return ch("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ch("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return ug(t).get(Dp.key).next((function(t){return Xp.resolve(e.tn(t))}))},t.prototype.en=function(t){return cg(t).delete(this.clientId)},t.prototype.nn=function(){return Wa(this,void 0,void 0,(function(){var t,e,n,r=this;return Ya(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=uv(t,zp.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Xp.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Xp.resolve(!0):ug(t).get(Dp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ah(oh.FAILED_PRECONDITION,ag);return!1}}return!(!e.networkEnabled||!e.inForeground)||cg(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ch("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Wa(this,void 0,void 0,(function(){var t=this;return Ya(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dp.store,zp.store],(function(e){var n=new sv(e,ih.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return cg(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Rv.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ch("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qp,(function(o){return r=new sv(o,i.Ne?i.Ne.next():ih.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw lh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new ah(oh.FAILED_PRECONDITION,Wp);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return ug(t).get(Dp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ah(oh.FAILED_PRECONDITION,ag)}))},t.prototype.Ze=function(t){var e=new Dp(this.clientId,this.allowTabSynchronization,Date.now());return ug(t).put(Dp.key,e)},t.yt=function(){return Jp.yt()},t.prototype.Xe=function(t){var e=this,n=ug(t);return n.get(Dp.key).next((function(t){return e.tn(t)?(ch("IndexedDbPersistence","Releasing primary lease."),n.delete(Dp.key)):Xp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(lh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(Xa.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ch("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return lh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){lh("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ug(t){return uv(t,Dp.store)}function cg(t){return uv(t,zp.store)}function lg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hg=function(t,e){this.progress=t,this.wn=e},fg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return qh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Df(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new qh(e)).next((function(t){var e=Pd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Pd();return this.Ut.getCollectionParents(t,i).next((function(a){return Xp.forEach(a,(function(a){var s=function(t,e){return new Sf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=rf.newInvalidDocument(c),r=r.insert(c,l)),cd(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Ff(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ld(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof pd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),dg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ld(),i=Ld(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ch.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Of(e)||Af(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(uh()<=$a.a.DEBUG&&ch("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vf(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Od(Uf(t));return e.forEach((function(e,r){Ff(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return uh()<=$a.a.DEBUG&&ch("QueryEngine","Using full collection scan to execute query:",Vf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Ch.min())},t}(),vg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Sd(mh),this.Fn=new Xv((function(t){return sf(t)}),uf),this.$n=Ch.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function gg(t,e,n,r){return new vg(t,e,n,r)}function yg(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o;return Ya(this,(function(a){switch(a.label){case 0:return n=vh(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new fg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=Ld(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function mg(t,e){var n=vh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Xp.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);ph(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function bg(t){var e=vh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function wg(t,e){var n=vh(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ph(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Nd();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(_g(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Ch.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Xp.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function _g(t,e,n,r,i){var o=Ld();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Nd();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ch.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):ch("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Cg(t,e){var n=vh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function kg(t,e){var n=vh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?Xp.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new hv(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Eg(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a;return Ya(this,(function(s){switch(s.label){case 0:r=vh(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!nv(a=s.sent()))throw a;return ch("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Sg(t,e,n){var r=vh(t),i=Ch.min(),o=Ld();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=vh(t),i=r.Fn.get(n);return void 0!==i?Xp.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Rf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Ch.min(),n?o:Ld())})).next((function(t){return{documents:t,Bn:o}}))}))}function Tg(t,e){var n=vh(t),r=vh(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Ig(t){var e=vh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=vh(t),i=Nd(),o=vv(n),a=ng(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Vp.readTimeIndex,range:s},(function(t,e){var n=dv(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:gv(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Og(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){return[2,(e=vh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ng(t),n=Ch.min();return e.$t({index:Vp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gv(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Ag(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Ya(this,(function(p){switch(p.label){case 0:for(i=vh(t),o=Ld(),a=Nd(),s=jd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,kg(i,function(t){return Rf(If(Ih.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return _g(t,f,a,Ch.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function xg(t,e,n){return void 0===n&&(n=Ld()),Wa(this,void 0,void 0,(function(){var r,i;return Ya(this,(function(o){switch(o.label){case 0:return[4,kg(t,Rf(Cv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=vh(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=ep(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Nh.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Ng=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Xp.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ep(n.createTime)}),Xp.resolve()},t.prototype.getNamedQuery=function(t,e){return Xp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Cv(t.bundledQuery),readTime:ep(t.readTime)}}(e)),Xp.resolve()},t}(),Dg=function(){function t(){this.Wn=new Od(Pg.Gn),this.zn=new Od(Pg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Pg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Pg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new qh(new Ih([])),r=new Pg(n,t),i=new Pg(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new qh(new Ih([])),n=new Pg(e,t),r=new Pg(e,t+1),i=Ld();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Pg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Pg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return qh.comparator(t.key,e.key)||mh(t.ns,e.ns)},t.Hn=function(t,e){return mh(t.ns,e.ns)||qh.comparator(t.key,e.key)},t}(),Rg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Od(Pg.Gn)}return t.prototype.checkEmpty=function(t){return Xp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new cv(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Pg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Xp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Xp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Xp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Xp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Xp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Pg(e,0),i=new Pg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Xp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Od(mh);return e.forEach((function(t){var e=new Pg(t,0),i=new Pg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Xp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;qh.isDocumentKey(i)||(i=i.child(""));var o=new Pg(new qh(i),0),a=new Od(mh);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Xp.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ph(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Xp.forEach(e.mutations,(function(i){var o=new Pg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Pg(e,0),r=this.rs.firstAfterOrEqual(n);return Xp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Xp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),jg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Sd(qh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Xp.resolve(n?n.document.clone():rf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Nd();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():rf.newInvalidDocument(t))})),Xp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Nd(),i=new qh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Ff(e,u)&&(r=r.insert(u.key,u.clone()))}return Xp.resolve(r)},t.prototype.fs=function(t,e){return Xp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Mg(this)},t.prototype.getSize=function(t){return Xp.resolve(this.size)},t}(),Mg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Qa(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Xp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}($v),Lg=function(){function t(t){this.persistence=t,this.ds=new Xv((function(t){return sf(t)}),uf),this.lastRemoteSnapshotVersion=Ch.min(),this.highestTargetId=0,this.ws=0,this._s=new Dg,this.targetCount=0,this.ys=Fv.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Xp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Xp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Xp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Xp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Xp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Fv(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Xp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Xp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Xp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Xp.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Xp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Xp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Xp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Xp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Xp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Xp.resolve(n)},t.prototype.containsKey=function(t,e){return Xp.resolve(this._s.containsKey(e))},t}(),Vg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ih(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Lg(this),this.Ut=new Tv,this.Ue=function(t,e){return new jg(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new fv(e),this.Ke=new Ng(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Rg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;ch("MemoryPersistence","Starting transaction:",t);var i=new Fg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Xp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Qa(e,t),e}(Yp),Ug=function(){function t(t){this.persistence=t,this.As=new Dg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw dh()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Xp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Xp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Xp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xp.forEach(this.vs,(function(r){var i=qh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Xp.or([function(){return Xp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),qg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Bg(t,e){return"firestore_clients_"+t+"_"+e}function Hg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function zg(t,e){return"firestore_targets_"+t+"_"+e}qg.UNAUTHENTICATED=new qg(null),qg.GOOGLE_CREDENTIALS=new qg("google-credentials-uid"),qg.FIRST_PARTY=new qg("first-party-uid"),qg.MOCK_USER=new qg("mock-user");var Gg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ah(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(lh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ah(i.error.code,i.error.message)),o?new t(e,i.state,r):(lh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fd(),a=0;i&&a<r.activeTargetIds.length;++a)i=Uh(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(lh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(lh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yg=function(){function t(){this.activeTargetIds=Fd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Zg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Sd(mh),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Bg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Yg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Wa(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Ya(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Bg(this.persistenceKey,r)))&&(o=Qg.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(zg(this.persistenceKey,t));if(n){var r=Kg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(zg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ch("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ch("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ch("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ch("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void lh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Wa(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Ya(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=ih.o;if(null!=t)try{var n=JSON.parse(t);ph("number"==typeof n),e=n}catch(t){lh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ih.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Gg(this.currentUser,t,e,n),i=Hg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Hg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=zg(this.persistenceKey,t),i=new Kg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Qg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Gg.Vs(new qg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Kg.Vs(r,e)},t.prototype.js=function(t){return Wg.Vs(t)},t.prototype.ii=function(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ch("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Fd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Xg=function(){function t(){this.li=new Yg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Yg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),$g=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Jg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ch("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ch("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ty={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ey=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ny=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Qa(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new rh;a.listenOnce(Jl.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case $l.NO_ERROR:var e=a.getResponseJson();ch("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $l.TIMEOUT:ch("Connection",'RPC "'+t+'" timed out'),o(new ah(oh.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:var n=a.getStatus();if(ch("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(oh).indexOf(e)>=0?e:oh.UNKNOWN}(r.status);o(new ah(s,r.message))}else o(new ah(oh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ah(oh.UNAVAILABLE,"Connection failed."));break;default:dh()}}finally{ch("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ql,i=qu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new eh({})),this.ki(o.initMessageHeaders,e),Object(Xa.n)()||Object(Xa.p)()||Object(Xa.l)()||Object(Xa.m)()||Object(Xa.r)()||Object(Xa.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ch("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new ey({Ei:function(t){c?ch("Connection","Not sending because WebChannel is closed:",t):(u||(ch("Connection","Opening WebChannel transport."),s.open(),u=!0),ch("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,nh.EventType.OPEN,(function(){c||ch("Connection","WebChannel transport opened.")})),h(s,nh.EventType.CLOSE,(function(){c||(c=!0,ch("Connection","WebChannel transport closed"),l.Vi())})),h(s,nh.EventType.ERROR,(function(t){c||(c=!0,hh("Connection","WebChannel transport errored:",t),l.Vi(new ah(oh.UNAVAILABLE,"The operation could not be completed")))})),h(s,nh.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ph(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ch("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=md[t];if(void 0!==e)return Ed(e)}(i),a=r.message;void 0===o&&(o=oh.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new ah(o,a)),s.close()}else ch("Connection","WebChannel received:",n),l.Si(n)}})),h(i,th.STAT_EVENT,(function(t){10===t.stat?ch("Connection","Detected buffering proxy"):11===t.stat&&ch("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ch("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return ch("RestConnection","Received: ",t),t}),(function(e){throw hh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+ty[t]},t}());function ry(){return"undefined"!=typeof window?window:null}function iy(){return"undefined"!=typeof document?document:null}function oy(t){return new Xd(t,!0)}var ay=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ch("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),sy=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ay(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===oh.RESOURCE_EXHAUSTED?(lh(e.toString()),lh("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===oh.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new ah(oh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Wa(t,void 0,void 0,(function(){return Ya(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return ch("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(ch("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),uy=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Qa(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:dh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ph(void 0===e||"string"==typeof e),Nh.fromBase64String(e||"")):(ph(void 0===e||e instanceof Uint8Array),Nh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?oh.UNKNOWN:Ed(t.code);return new ah(e,t.message||"")}(s);n=new zd(r,i,o,a||null)}else if("documentChange"in e){i=op(t,(r=e.documentChange).document.name),o=ep(r.document.updateTime);var s=new ef({mapValue:{fields:r.document.fields}}),u=(a=rf.newFoundDocument(i,o,s),r.targetIds||[]);n=new Bd(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=op(t,(r=e.documentDelete).document),o=r.readTime?ep(r.readTime):Ch.min(),s=rf.newNoDocument(i,o),n=new Bd([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=op(t,(r=e.documentRemove).document),n=new Bd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return dh();var c=e.filter;i=new Cd(r=c.count||0),n=new Hd(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Ch.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ch.min():e.readTime?ep(e.readTime):Ch.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=up(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=cf(r)?{documents:pp(t,r)}:{query:vp(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Jd(t,e.resumeToken):e.snapshotVersion.compareTo(Ch.min())>0&&(n.readTime=$d(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=up(this.R),e.removeTarget=t,this.cr(e)},e}(sy),cy=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Qa(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ph(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ph(void 0!==e),t.map((function(t){return function(t,e){var n=ep(t.updateTime?t.updateTime:e);return n.isEqual(Ch.min())&&(n=ep(e)),new id(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ep(t.commitTime);return this.listener.Tr(n,e)}return ph(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=up(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return fp(e.R,t)}))};this.cr(n)},e}(sy),ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Qa(e,t),e.prototype.br=function(){if(this.Rr)throw new ah(oh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===oh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ah(oh.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===oh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ah(oh.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),hy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(lh(e),this.Vr=!1):ch("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),fy=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Wa(o,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return _y(this)?(ch("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return(e=vh(t)).Or.add(4),[4,py(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,dy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new hy(n,r)};function dy(t){return Wa(this,void 0,void 0,(function(){var e,n;return Ya(this,(function(r){switch(r.label){case 0:if(!_y(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function py(t){return Wa(this,void 0,void 0,(function(){var e,n;return Ya(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function vy(t,e){var n=vh(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),wy(n)?by(n):My(n).er()&&yy(n,e))}function gy(t,e){var n=vh(t),r=My(n);n.$r.delete(e),r.er()&&my(n,e),0===n.$r.size&&(r.er()?r.ir():_y(n)&&n.Br.set("Unknown"))}function yy(t,e){t.qr.U(e.targetId),My(t).mr(e)}function my(t,e){t.qr.U(e),My(t).yr(e)}function by(t){t.qr=new Kd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),My(t).start(),t.Br.Sr()}function wy(t){return _y(t)&&!My(t).tr()&&t.$r.size>0}function _y(t){return 0===vh(t).Or.size}function Cy(t){t.qr=void 0}function ky(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){return t.$r.forEach((function(e,n){yy(t,e)})),[2]}))}))}function Ey(t,e){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(n){return Cy(t),wy(t)?(t.Br.Nr(e),by(t)):t.Br.set("Unknown"),[2]}))}))}function Sy(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o;return Ya(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof zd&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o;return Ya(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ch("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ty(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bd?t.qr.X(e):e instanceof Hd?t.qr.rt(e):t.qr.et(e),n.isEqual(Ch.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bg(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Nh.EMPTY_BYTE_STRING,n.snapshotVersion)),my(t,e);var r=new hv(n.target,e,1,n.sequenceNumber);yy(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ch("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ty(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ty(t,e,n){return Wa(this,void 0,void 0,(function(){var r=this;return Ya(this,(function(i){switch(i.label){case 0:if(!nv(e))throw e;return t.Or.add(1),[4,py(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return bg(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Wa(r,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return ch("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,dy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Iy(t,e){return e().catch((function(n){return Ty(t,n,e)}))}function Oy(t){return Wa(this,void 0,void 0,(function(){var e,n,r,i,o;return Ya(this,(function(a){switch(a.label){case 0:e=vh(t),n=Ly(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return _y(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Cg(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Ly(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Ty(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Ay(e)&&xy(e),[2]}}))}))}function Ay(t){return _y(t)&&!Ly(t).tr()&&t.Fr.length>0}function xy(t){Ly(t).start()}function Ny(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){return Ly(t).Ar(),[2]}))}))}function Dy(t){return Wa(this,void 0,void 0,(function(){var e,n,r;return Ya(this,(function(i){for(e=Ly(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Py(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i;return Ya(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=lv.from(r,e,n),[4,Iy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Oy(t)];case 2:return o.sent(),[2]}}))}))}function Ry(t,e){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(n){switch(n.label){case 0:return e&&Ly(t).pr?[4,function(t,e){return Wa(this,void 0,void 0,(function(){var n,r;return Ya(this,(function(i){switch(i.label){case 0:return kd(r=e.code)&&r!==oh.ABORTED?(n=t.Fr.shift(),Ly(t).sr(),[4,Iy(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Oy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ay(t)&&xy(t),[2]}}))}))}function jy(t,e){return Wa(this,void 0,void 0,(function(){var n;return Ya(this,(function(r){switch(r.label){case 0:return n=vh(t),e?(n.Or.delete(2),[4,dy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,py(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function My(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=vh(t);return r.br(),new uy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ky.bind(null,t),Ri:Ey.bind(null,t),_r:Sy.bind(null,t)}),t.Mr.push((function(n){return Wa(e,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),wy(t)?by(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Cy(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Ly(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=vh(t);return r.br(),new cy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ny.bind(null,t),Ri:Ry.bind(null,t),Ir:Dy.bind(null,t),Tr:Py.bind(null,t)}),t.Mr.push((function(n){return Wa(e,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Oy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(ch("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var Vy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ah(oh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Fy(t,e){if(lh("AsyncQueue",e+": "+t),nv(t))return new ah(oh.UNAVAILABLE,e+": "+t);throw t}var Uy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||qh.comparator(e.key,n.key)}:function(t,e){return qh.comparator(t.key,e.key)},this.keyedMap=Pd(),this.sortedSet=new Sd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),qy=function(){function t(){this.Qr=new Sd(qh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):dh():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),By=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Uy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Hy=function(){this.Wr=void 0,this.listeners=[]},zy=function(){this.queries=new Xv((function(t){return Lf(t)}),Mf),this.onlineState="Unknown",this.Gr=new Set};function Gy(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Ya(this,(function(c){switch(c.label){case 0:if(n=vh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Hy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Fy(s,"Initialization of query '"+Vf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Yy(n),[2]}}))}))}function Ky(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a;return Ya(this,(function(s){return n=vh(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Qy(t,e){for(var n=vh(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Yy(n)}function Wy(t,e,n){var r=vh(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Yy(t){t.Gr.forEach((function(t){t.next()}))}var Zy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new By(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=By.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Xy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),$y=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return op(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?hp(this.R,t.document,!1):rf.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ep(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new $y(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Ld()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Wa(this,void 0,void 0,(function(){var t,e,n,r,i;return Ya(this,(function(o){switch(o.label){case 0:return[4,Ag(this.localStore,new $y(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,xg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hg(Object.assign({},this.progress),t))]}}))}))}}();var Jy=function(t){this.key=t},tm=function(t){this.key=t},em=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ld(),this.mutatedKeys=Ld(),this.lo=Uf(t),this.fo=new Uy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new qy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Of(this.query)&&i.size===this.query.limit?i.last():null,c=Af(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Ff(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Of(this.query)||Af(this.query))for(;a.size>this.query.limit;){var l=Of(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dh()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new By(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new qy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ld(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new tm(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Jy(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ld();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return By.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),nm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rm=function(t){this.key=t,this.bo=!1},im=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Xv((function(t){return Lf(t)}),Mf),this.Vo=new Map,this.So=new Set,this.Do=new Sd(qh.comparator),this.Co=new Map,this.No=new Dg,this.xo={},this.ko=new Map,this.Fo=Fv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function om(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a;return Ya(this,(function(s){switch(s.label){case 0:return n=Rm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,kg(n.localStore,Rf(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,am(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&vy(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function am(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Ya(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o,a;return Ya(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Sg(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(bm(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Sg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new em(e,i.Bn),a=o._o(i.documents),s=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),bm(t,n,u.To),c=new nm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function sm(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i;return Ya(this,(function(o){switch(o.label){case 0:return n=vh(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Mf(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Eg(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),gy(n.remoteStore,r.targetId),ym(n,r.targetId)})).catch(zv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ym(n,r.targetId),[4,Eg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function um(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a;return Ya(this,(function(s){switch(s.label){case 0:r=jm(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=vh(t),i=_h.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ld());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=ld(c,n.get(c.key));null!=l&&a.push(new pd(c.key,l,nf(l.value.mapValue),od.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Sd(mh)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Cm(r,i.changes)];case 3:return s.sent(),[4,Oy(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Fy(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function cm(t,e){return Wa(this,void 0,void 0,(function(){var n,r;return Ya(this,(function(i){switch(i.label){case 0:n=vh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ph(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ph(r.bo):t.removedDocuments.size>0&&(ph(r.bo),r.bo=!1))})),[4,Cm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lm(t,e,n){var r=vh(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=vh(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Yy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hm(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Ya(this,(function(c){switch(c.label){case 0:return(r=vh(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Sd(qh.comparator)).insert(o,rf.newNoDocument(o,Ch.min())),s=Ld().add(o),u=new Ud(Ch.min(),new Map,new Od(mh),a,s),[4,cm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),_m(r),[3,4];case 2:return[4,Eg(r.localStore,e,!1).then((function(){return ym(r,e,n)})).catch(zv)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function fm(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i;return Ya(this,(function(o){switch(o.label){case 0:n=vh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mg(n.localStore,e)];case 2:return i=o.sent(),gm(n,r,null),vm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Cm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dm(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i;return Ya(this,(function(o){switch(o.label){case 0:r=vh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=vh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ph(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),gm(r,e,n),vm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Cm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function pm(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a;return Ya(this,(function(s){switch(s.label){case 0:_y((n=vh(t)).remoteStore)||ch("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=vh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Fy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function vm(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function gm(t,e,n){var r=vh(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ym(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||mm(t,e)}))}function mm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(gy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),_m(t))}function bm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jy?(t.No.addReference(o.key,e),wm(t,o)):o instanceof tm?(ch("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||mm(t,o.key)):dh()}}function wm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ch("SyncEngine","New document in limbo: "+n),t.So.add(r),_m(t))}function _m(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new qh(Ih.fromString(e)),r=t.Fo.next();t.Co.set(r,new rm(n)),t.Do=t.Do.insert(n,r),vy(t.remoteStore,new hv(Rf(If(n.path)),r,2,ih.o))}}function Cm(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a;return Ya(this,(function(s){switch(s.label){case 0:return r=vh(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dg.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Ya(this,(function(l){switch(l.label){case 0:n=vh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Xp.forEach(e,(function(e){return Xp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Xp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!nv(r=l.sent()))throw r;return ch("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.kn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function km(t,e){return Wa(this,void 0,void 0,(function(){var n,r;return Ya(this,(function(i){switch(i.label){case 0:return(n=vh(t)).currentUser.isEqual(e)?[3,3]:(ch("SyncEngine","User change. New user:",e.toKey()),[4,yg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new ah(oh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Cm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Em(t,e){var n=vh(t),r=n.Co.get(e);if(r&&r.bo)return Ld().add(r.key);var i=Ld(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Sm(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i;return Ya(this,(function(o){switch(o.label){case 0:return[4,Sg((n=vh(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&bm(n,e.targetId,i.To),i)]}}))}))}function Tm(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){return[2,Ig((e=vh(t)).localStore).then((function(t){return Cm(e,t)}))]}))}))}function Im(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o;return Ya(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=vh(t),r=vh(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Xp.resolve(null)}))}))}((i=vh(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Oy(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(gm(i,e,r||null),vm(i,e),function(t,e){vh(vh(t)._n).Gt(e)}(i.localStore,e)):dh(),a.label=4;case 4:return[4,Cm(i,o)];case 5:return a.sent(),[3,7];case 6:ch("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Om(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Ya(this,(function(c){switch(c.label){case 0:return Rm(n=vh(t)),jm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Am(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,jy(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)vy(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return ym(n,e),Eg(n.localStore,e,!0)})),gy(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Am(n,s)];case 5:return c.sent(),function(t){var e=vh(t);e.Co.forEach((function(t,n){gy(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Sd(qh.comparator)}(n),n.$o=!1,[4,jy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Am(t,e,n){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Ya(this,(function(v){switch(v.label){case 0:n=vh(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,kg(n.localStore,Rf(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Sm(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Tg(n.localStore,s)];case 8:return p=v.sent(),[4,kg(n.localStore,p)];case 9:return u=v.sent(),[4,am(n,xm(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function xm(t){return Tf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Nm(t){var e=vh(t);return vh(vh(e.localStore).persistence).fn()}function Dm(t,e,n,r){return Wa(this,void 0,void 0,(function(){var i,o,a;return Ya(this,(function(s){switch(s.label){case 0:return(i=vh(t)).$o?(ch("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ig(i.localStore)];case 3:return o=s.sent(),a=Ud.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Cm(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Eg(i.localStore,e,!0)];case 6:return s.sent(),ym(i,e,r),[3,8];case 7:dh(),s.label=8;case 8:return[2]}}))}))}function Pm(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Ya(this,(function(f){switch(f.label){case 0:if(!(r=Rm(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(ch("SyncEngine","Adding an already active target "+a),[3,5]):[4,Tg(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,kg(r.localStore,s)];case 3:return u=f.sent(),[4,am(r,xm(s),u.targetId,!1)];case 4:f.sent(),vy(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Ya(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Eg(r.localStore,t,!1).then((function(){gy(r.remoteStore,t),ym(r,t)})).catch(zv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Rm(t){var e=vh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Em.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hm.bind(null,e),e.vo._r=Qy.bind(null,e.eventManager),e.vo.Mo=Wy.bind(null,e.eventManager),e}function jm(t){var e=vh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dm.bind(null,e),e}var Mm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return this.R=oy(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return gg(this.persistence,new pg,t.initialUser,this.R)},t.prototype.qo=function(t){return new Vg(Ug.bs,this.R)},t.prototype.Bo=function(t){return new Xg},t.prototype.terminate=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Qa(e,t),e.prototype.initialize=function(e){return Wa(this,void 0,void 0,(function(){var n=this;return Ya(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Og(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,jm(this.Qo.syncEngine)];case 4:return r.sent(),[4,Oy(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return gg(this.persistence,new pg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Qv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=lg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nv.withCacheSize(this.cacheSizeBytes):Nv.DEFAULT;return new sg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ry(),iy(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Xg},e}(Mm),Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Qa(e,t),e.prototype.initialize=function(e){return Wa(this,void 0,void 0,(function(){var n,r=this;return Ya(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Zg?(this.sharedClientState.syncEngine={ui:Im.bind(null,n),ai:Dm.bind(null,n),hi:Pm.bind(null,n),fn:Nm.bind(null,n),ci:Tm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Wa(r,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return[4,Om(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=ry();if(!Zg.yt(e))throw new ah(oh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Zg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Lm),Fm=function(){function t(){}return t.prototype.initialize=function(t,e){return Wa(this,void 0,void 0,(function(){var n=this;return Ya(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return lm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=km.bind(null,this.syncEngine),[4,jy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new zy},t.prototype.createDatastore=function(t){var e=oy(t.databaseInfo.databaseId),n=new ny(t.databaseInfo);return function(t,e,n){return new ly(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return lm(a.syncEngine,t,0)},o=Jg.yt()?new Jg:new $g,new fy(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new im(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return e=vh(t),ch("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,py(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Um=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),qm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Zp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Wa(this,void 0,void 0,(function(){var t,e,n,r;return Ya(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Xy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Wa(this,void 0,void 0,(function(){var t,e;return Ya(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Wa(this,void 0,void 0,(function(){var t,e;return Ya(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Wa(this,void 0,void 0,(function(){var e,n=this;return Ya(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ah(oh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Ya(this,(function(u){switch(u.label){case 0:return n=vh(t),r=up(n.R)+"/documents",i={documents:e.map((function(t){return ip(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ph(!!e.found);var n=op(t,e.found.name),r=ep(e.found.updateTime),i=new ef({mapValue:{fields:e.found.fields}});return rf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ph(!!e.missing),ph(!!e.readTime);var n=op(t,e.missing),r=ep(e.readTime);return rf.newNoDocument(n,r)}(t,e):dh()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());ph(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new wd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Wa(this,void 0,void 0,(function(){var t,e=this;return Ya(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=qh.fromPath(n);e.mutations.push(new _d(r,e.precondition(r)))})),[4,function(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i;return Ya(this,(function(o){switch(o.label){case 0:return n=vh(t),r=up(n.R)+"/documents",i={writes:e.map((function(t){return fp(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dh();e=Ch.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ah(oh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?od.updateTime(e):od.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ch.min()))throw new ah(oh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return od.updateTime(e)}return od.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Bm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ay(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Wa(t,void 0,void 0,(function(){var t,e,n=this;return Ya(this,(function(r){return t=new qm(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Vh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!kd(e)}return!1},t}(),Hm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=qg.UNAUTHENTICATED,this.clientId=yh.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Wa(r,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return ch("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ah(oh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Zp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Wa(t,void 0,void 0,(function(){var t,n;return Ya(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Fy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function zm(t,e){return Wa(this,void 0,void 0,(function(){var n,r,i=this;return Ya(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ch("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Wa(i,void 0,void 0,(function(){return Ya(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,yg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Gm(t,e){return Wa(this,void 0,void 0,(function(){var n,r;return Ya(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Km(t)];case 1:return n=i.sent(),ch("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Wa(this,void 0,void 0,(function(){var n,r;return Ya(this,(function(i){switch(i.label){case 0:return(n=vh(t)).asyncQueue.verifyOperationInProgress(),ch("RemoteStore","RemoteStore received new credentials"),r=_y(n),n.Or.add(3),[4,py(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,dy(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Km(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ch("FirestoreClient","Using default OfflineComponentProvider"),[4,zm(t,new Mm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Qm(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ch("FirestoreClient","Using default OnlineComponentProvider"),[4,Gm(t,new Fm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Wm(t){return Km(t).then((function(t){return t.persistence}))}function Ym(t){return Km(t).then((function(t){return t.localStore}))}function Zm(t){return Qm(t).then((function(t){return t.remoteStore}))}function Xm(t){return Qm(t).then((function(t){return t.syncEngine}))}function $m(t){return Wa(this,void 0,void 0,(function(){var e,n;return Ya(this,(function(r){switch(r.label){case 0:return[4,Qm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=om.bind(null,e.syncEngine),n.onUnlisten=sm.bind(null,e.syncEngine),n)]}}))}))}function Jm(t,e,n){var r=this;void 0===n&&(n={});var i=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(r,void 0,void 0,(function(){var r;return Ya(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Um({next:function(o){e.enqueueAndForget((function(){return Ky(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ah(oh.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ah(oh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Zy(If(n.path),o,{includeMetadataChanges:!0,so:!0});return Gy(t,a)},[4,$m(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function tb(t,e,n){var r=this;void 0===n&&(n={});var i=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(r,void 0,void 0,(function(){var r;return Ya(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Um({next:function(n){e.enqueueAndForget((function(){return Ky(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ah(oh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Zy(n,o,{includeMetadataChanges:!0,so:!0});return Gy(t,a)},[4,$m(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var eb=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},nb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rb=new Map,ib=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ob=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(qg.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ab=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sb=function(){function t(t){var e=this;this.currentUser=qg.UNAUTHENTICATED,this.oc=new Zp,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){ch("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(ch("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(ch("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ph("string"==typeof n.accessToken),new ib(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Wa(n,void 0,void 0,(function(){return Ya(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ph(null===t||"string"==typeof t),new qg(t)},t}(),ub=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=qg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),cb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ub(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(qg.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function lb(t,e,n){if(!n)throw new ah(oh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ah(oh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fb(t,e,n,r){if(!0===e&&!0===r)throw new ah(oh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function db(t){if(!qh.isDocumentKey(t))throw new ah(oh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pb(t){if(qh.isDocumentKey(t))throw new ah(oh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function vb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":dh()}function gb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ah(oh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vb(t);throw new ah(oh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yb(t,e){if(e<=0)throw new ah(oh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var mb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ah(oh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ah(oh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),bb=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,t instanceof nb?(this._databaseId=t,this._credentials=new ob):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ah(oh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nb(t.options.projectId)}(t),this._credentials=new sb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ah(oh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ah(oh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ob;switch(t.type){case"gapi":var e=t.client;return ph(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ah(oh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rb.get(this))&&(ch("ComponentProvider","Removing Datastore"),rb.delete(this),t.terminate()),Promise.resolve();var t},t}(),wb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Cb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_b=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,If(r))||this)._path=r,i.type="collection",i}return Qa(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wb(this.firestore,null,new qh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_b);function kb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Xa.h)(t),lb("collection","path",e),t instanceof bb)return pb(n=Ih.fromString.apply(Ih,Za([e],r))),new Cb(t,null,n);if(!(t instanceof wb||t instanceof Cb))throw new ah(oh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pb(n=Ih.fromString.apply(Ih,Za([t.path],r)).child(Ih.fromString(e))),new Cb(t.firestore,null,n)}function Eb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Xa.h)(t),1===arguments.length&&(e=yh.u()),lb("doc","path",e),t instanceof bb)return db(n=Ih.fromString.apply(Ih,Za([e],r))),new wb(t,null,new qh(n));if(!(t instanceof wb||t instanceof Cb))throw new ah(oh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return db(n=t._path.child(Ih.fromString.apply(Ih,Za([e],r)))),new wb(t.firestore,t instanceof Cb?t.converter:null,new qh(n))}function Sb(t,e){return t=Object(Xa.h)(t),e=Object(Xa.h)(e),(t instanceof wb||t instanceof Cb)&&(e instanceof wb||e instanceof Cb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Tb(t,e){return t=Object(Xa.h)(t),e=Object(Xa.h)(e),t instanceof _b&&e instanceof _b&&t.firestore===e.firestore&&Mf(t._query,e._query)&&t.converter===e.converter}var Ib=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ay(this,"async_queue_retry"),this.Ic=function(){var e=iy();e&&ch("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=iy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=iy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Zp;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return Wa(this,void 0,void 0,(function(){var t,e=this;return Ya(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!nv(t=n.sent()))throw t;return ch("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,lh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Vy.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&dh()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Wa(this,void 0,void 0,(function(){var t;return Ya(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Ob(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Zp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ib,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Qa(e,t),e.prototype._terminate=function(){return this._firestoreClient||Nb(this),this._firestoreClient.terminate()},e}(bb);function xb(t){return t._firestoreClient||Nb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Nb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new eb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Hm(t._credentials,t._queue,r)}function Db(t,e,n){var r=this,i=new Zp;return t.asyncQueue.enqueue((function(){return Wa(r,void 0,void 0,(function(){var r;return Ya(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,zm(t,n)];case 1:return o.sent(),[4,Gm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===oh.FAILED_PRECONDITION||t.code===oh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Pb(t){if(t._initialized||t._terminated)throw new ah(oh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Rb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ah(oh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ah(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),jb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Nh.fromBase64String(e))}catch(e){throw new ah(oh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Nh.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Mb=function(t){this._methodName=t},Lb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ah(oh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ah(oh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return mh(this._lat,t._lat)||mh(this._long,t._long)},t}(),Vb=/^__.*__$/,Fb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new pd(t,this.data,this.fieldMask,e,this.fieldTransforms):new dd(t,this.data,e,this.fieldTransforms)},t}(),Ub=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new pd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dh()}}var Bb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return uw(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(qb(this.Nc)&&Vb.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Hb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||oy(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Bb({Nc:t,methodName:e,qc:n,path:Ah.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function zb(t){var e=t._freezeSettings(),n=oy(t._databaseId);return new Hb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gb(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",a,r);var s,u,c=nw(r,a);if(o.merge)s=new xh(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ow(e,f[h],n);if(!a.contains(d))throw new ah(oh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cw(l,d)||l.push(d)}s=new xh(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Fb(new ef(c),s,u)}var Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Mb);function Qb(t,e,n){return new Bb({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype._toFieldTransform=function(t){return new rd(t.path,new Yf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Mb),Yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Qa(e,t),e.prototype._toFieldTransform=function(t){var e=Qb(this,t,!0),n=this.Kc.map((function(t){return ew(t,e)})),r=new Zf(n);return new rd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mb),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Qa(e,t),e.prototype._toFieldTransform=function(t){var e=Qb(this,t,!0),n=this.Kc.map((function(t){return ew(t,e)})),r=new $f(n);return new rd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Mb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Qa(e,t),e.prototype._toFieldTransform=function(t){var e=new td(t.R,zf(t.R,this.Qc));return new rd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Mb);function $b(t,e,n,r){var i=t.Uc(1,e,n);iw("Data must be an object, but it was:",i,r);var o=[],a=ef.empty();Eh(r,(function(t,r){var s=sw(e,t,n);r=Object(Xa.h)(r);var u=i.Oc(s);if(r instanceof Kb)o.push(s);else{var c=ew(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new xh(o);return new Ub(a,s,i.fieldTransforms)}function Jb(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[ow(e,r,n)],u=[i];if(o.length%2!=0)throw new ah(oh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ow(e,o[c])),u.push(o[c+1]);for(var l=[],h=ef.empty(),f=s.length-1;f>=0;--f)if(!cw(l,s[f])){var d=s[f],p=u[f];p=Object(Xa.h)(p);var v=a.Oc(d);if(p instanceof Kb)l.push(d);else{var g=ew(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new xh(l);return new Ub(h,y,a.fieldTransforms)}function tw(t,e,n,r){return void 0===r&&(r=!1),ew(n,t.Uc(r?4:3,e))}function ew(t,e){if(rw(t=Object(Xa.h)(t)))return iw("Unsupported field value:",e,t),nw(t,e);if(t instanceof Mb)return function(t,e){if(!qb(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=ew(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Xa.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_h.fromDate(t);return{timestampValue:$d(e.R,n)}}if(t instanceof _h)return n=new _h(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:$d(e.R,n)};if(t instanceof Lb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jb)return{bytesValue:Jd(e.R,t._byteString)};if(t instanceof wb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:np(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+vb(t))}(t,e)}function nw(t,e){var n={};return Sh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eh(t,(function(t,r){var i=ew(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function rw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _h||t instanceof Lb||t instanceof jb||t instanceof wb||t instanceof Mb)}function iw(t,e,n){if(!rw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=vb(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function ow(t,e,n){if((e=Object(Xa.h)(e))instanceof Rb)return e._internalPath;if("string"==typeof e)return sw(t,e);throw uw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var aw=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(aw)>=0)throw uw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rb.bind.apply(Rb,Za([void 0],e.split(".")))))._internalPath}catch(u_){throw uw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function uw(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ah(oh.INVALID_ARGUMENT,(s+=". ")+t+u)}function cw(t,e){return t.some((function(t){return t.isEqual(e)}))}var lw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lw);function fw(t,e){return"string"==typeof e?sw(t,e):e instanceof Rb?e._internalPath:e._delegate._internalPath}var dw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pw=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Qa(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lw),vw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pw),gw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new vw(n._firestore,n._userDataWriter,r.key,r,new dw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ah(oh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new vw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yw(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dh()}}function mw(t,e){return t instanceof pw&&e instanceof pw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gw&&e instanceof gw&&t._firestore===e._firestore&&Tb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function bw(t){if(Af(t)&&0===t.explicitOrderBy.length)throw new ah(oh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ww=function(){};function _w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Qa(e,t),e.prototype._apply=function(t){var e=zb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ah(oh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Aw(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Ow(r,t,l[c]));s={arrayValue:{values:u}}}else s=Ow(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Aw(a,o),s=tw(n,"where",a,"in"===o||"not-in"===o);var h=lf.create(i,o,s);return function(t,e){if(e.g()){var n=Nf(t);if(null!==n&&!n.isEqual(e.field))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=xf(t);null!==r&&xw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ah(oh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _b(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ww),kw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Qa(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ah(oh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ah(oh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _f(e,n);return function(t,e){if(null===xf(t)){var n=Nf(t);null!==n&&xw(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new _b(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Sf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ww),Ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Qa(e,t),e.prototype._apply=function(t){return new _b(t.firestore,t.converter,jf(t._query,this.Hc,this.Jc))},e}(ww),Sw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Qa(e,t),e.prototype._apply=function(t){var e=Iw(t,this.type,this.Yc,this.Xc);return new _b(t.firestore,t.converter,function(t,e){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ww),Tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Qa(e,t),e.prototype._apply=function(t){var e=Iw(t,this.type,this.Yc,this.Xc);return new _b(t.firestore,t.converter,function(t,e){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ww);function Iw(t,e,n,r){if(n[0]=Object(Xa.h)(n[0]),n[0]instanceof lw)return function(t,e,n,r,i){if(!r)throw new ah(oh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Pf(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Wh(e,r.key));else{var c=r.data.field(u.field);if(Mh(c))throw new ah(oh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ah(oh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new bf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zb(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new ah(oh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ah(oh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Df(t)&&-1!==c.indexOf("/"))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ih.fromString(c));if(!qh.isDocumentKey(l))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new qh(l);s.push(Wh(e,h))}else{var f=tw(n,r,c);s.push(f)}}return new bf(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ow(t,e,n){if("string"==typeof(n=Object(Xa.h)(n))){if(""===n)throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Df(e)&&-1!==n.indexOf("/"))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ih.fromString(n));if(!qh.isDocumentKey(r))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Wh(t,new qh(r))}if(n instanceof wb)return Wh(t,n._key);throw new ah(oh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vb(n)+".")}function Aw(t,e){if(!Array.isArray(t)||0===t.length)throw new ah(oh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ah(oh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xw(t,e,n){if(!n.isEqual(e))throw new ah(oh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Nw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Bh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw dh()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Eh(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Lb(Rh(t.latitude),Rh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Mh(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Lh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ph(t);return new _h(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ih.fromString(t);ph(Tp(n));var r=new nb(n.get(1),n.get(3)),i=new qh(n.popFirst(5));return r.isEqual(e)||lh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Dw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Pw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Qa(e,t),e.prototype.convertBytes=function(t){return new jb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Nw),Rw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=jw(t,this._firestore),i=Dw(r.converter,e,n),o=Gb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,od.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=jw(t,this._firestore);return o="string"==typeof(e=Object(Xa.h)(e))||e instanceof Rb?Jb(this._dataReader,"WriteBatch.update",a._key,e,n,r):$b(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,od.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=jw(t,this._firestore);return this._mutations=this._mutations.concat(new wd(e._key,od.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ah(oh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function jw(t,e){if((t=Object(Xa.h)(t)).firestore!==e)throw new ah(oh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Mw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Qa(e,t),e.prototype.convertBytes=function(t){return new jb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Nw);function Lw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gb(t,wb);var o=gb(t.firestore,Ab),a=zb(o);return Fw(o,[("string"==typeof(e=Object(Xa.h)(e))||e instanceof Rb?Jb(a,"updateDoc",t._key,e,n,r):$b(a,"updateDoc",t._key,e)).toMutation(t._key,od.exists(!0))])}function Vw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(Xa.h)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ob(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Ob(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wb)c=gb(t.firestore,Ab),l=If(t._key.path),u={next:function(e){i[s]&&i[s](Uw(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=gb(t,_b);c=gb(d.firestore,Ab),l=d._query;var p=new Mw(c);u={next:function(t){i[s]&&i[s](new gw(c,p,d,t))},error:i[s+1],complete:i[s+2]},bw(t._query)}return function(t,e,n,r){var i=this,o=new Um(r),a=new Zy(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Wa(i,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return e=Gy,[4,$m(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Wa(i,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return e=Ky,[4,$m(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(xb(c),l,h,u)}function Fw(t,e){return function(t,e){var n=this,r=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var n;return Ya(this,(function(i){switch(i.label){case 0:return n=um,[4,Xm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(xb(t),e)}function Uw(t,e,n){var r=n.docs.get(e._key),i=new Mw(t);return new pw(t,i,e._key,r,new dw(n.hasPendingWrites,n.fromCache),e.converter)}var qw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Qa(e,t),e.prototype.get=function(e){var n=this,r=jw(e,this._firestore),i=new Mw(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new pw(n._firestore,i,r._key,t._document,new dw(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zb(t)}return t.prototype.get=function(t){var e=this,n=jw(t,this._firestore),r=new Pw(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return dh();var i=t[0];if(i.isFoundDocument())return new lw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lw(e._firestore,r,n._key,null,n.converter);throw dh()}))},t.prototype.set=function(t,e,n){var r=jw(t,this._firestore),i=Dw(r.converter,e,n),o=Gb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=jw(t,this._firestore);return o="string"==typeof(e=Object(Xa.h)(e))||e instanceof Rb?Jb(this._dataReader,"Transaction.update",a._key,e,n,r):$b(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=jw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Bw(){if("undefined"==typeof Uint8Array)throw new ah(oh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hw(){if("undefined"==typeof atob)throw new ah(oh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Hw(),new t(jb.fromBase64String(e))},t.fromUint8Array=function(e){return Bw(),new t(jb.fromUint8Array(e))},t.prototype.toBase64=function(){return Hw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Bw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Gw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Pb(t=gb(t,Ab));var n=xb(t),r=t._freezeSettings(),i=new Fm;return Db(n,i,new Lm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Pb(t=gb(t,Ab));var e=xb(t),n=t._freezeSettings(),r=new Fm;return Db(e,r,new Vm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ah(oh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Wa(e,void 0,void 0,(function(){var e;return Ya(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Wa(this,void 0,void 0,(function(){return Ya(this,(function(e){switch(e.label){case 0:return Jp.yt()?[4,Jp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(lg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Kw=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nb||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=gb(t,bb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=qg.MOCK_USER;else{a=Object(Xa.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ah(oh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new qg(u)}t._credentials=new ab(new ib(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Wa(e,void 0,void 0,(function(){var e,n;return Ya(this,(function(r){switch(r.label){case 0:return[4,Wm(t)];case 1:return e=r.sent(),[4,Zm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=vh(t);return e.Or.delete(0),dy(e)}(n))]}}))}))}))}(xb(gb(this._delegate,Ab)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Wa(e,void 0,void 0,(function(){var e,n;return Ya(this,(function(r){switch(r.label){case 0:return[4,Wm(t)];case 1:return e=r.sent(),[4,Zm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Wa(this,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return(e=vh(t)).Or.add(0),[4,py(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(xb(gb(this._delegate,Ab)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(e,void 0,void 0,(function(){var e;return Ya(this,(function(r){switch(r.label){case 0:return e=pm,[4,Xm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(xb(gb(this._delegate,Ab)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Um(e);return t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return e=function(t,e){vh(t).Gr.add(e),e.next()},[4,$m(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var e;return Ya(this,(function(n){switch(n.label){case 0:return e=function(t,e){vh(t).Gr.delete(e)},[4,$m(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(xb(t=gb(t,Ab)),Ob(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ah(oh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new a_(this,kb(this._delegate,t))}catch(t){throw $w(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xw(this,Eb(this._delegate,t))}catch(t){throw $w(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new r_(this,function(t,e){if(t=gb(t,bb),lb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ah(oh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _b(t,null,function(t){return new Sf(Ih.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw $w(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var n;return Ya(this,(function(i){switch(i.label){case 0:return[4,function(t){return Qm(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Bm(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(xb(t),(function(n){return e(new qw(t,n))}))}(this._delegate,(function(n){return t(new Ww(e,n))}))},t.prototype.batch=function(){var t=this;return xb(this._delegate),new Yw(new Rw(this._delegate,(function(e){return Fw(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new ah(oh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ah(oh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Qw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Qa(e,t),e.prototype.convertBytes=function(t){return new zw(new jb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xw.eu(e,this.firestore,null)},e}(Nw),Ww=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Qw(t)}return t.prototype.get=function(t){var e=this,n=s_(t);return this._delegate.get(n).then((function(t){return new e_(e._firestore,new pw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=s_(t);return n?(hb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=s_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Za([a,e,n],i)),this},t.prototype.delete=function(t){var e=s_(t);return this._delegate.delete(e),this},t}(),Yw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=s_(t);return n?(hb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=s_(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Za([a,e,n],i)),this},t.prototype.delete=function(t){var e=s_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Zw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new vw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new n_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Qw(e),n),i.set(n,o)),o},t}();Zw.su=new WeakMap;var Xw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qw(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ah(oh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wb(n._delegate,r,new qh(e)))},t.eu=function(e,n,r){return new t(n,new wb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new a_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new a_(this.firestore,kb(this._delegate,t))}catch(t){throw $w(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Xa.h)(t))instanceof wb&&Sb(this._delegate,t)},t.prototype.set=function(t,e){e=hb("DocumentReference.set",e);try{return function(t,e,n){t=gb(t,wb);var r=gb(t.firestore,Ab),i=Dw(t.converter,e,n);return Fw(r,[Gb(zb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,od.none())])}(this._delegate,t,e)}catch(t){throw $w(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Lw(this._delegate,t):Lw.apply(void 0,Za([this._delegate,t,e],n))}catch(t){throw $w(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Fw(gb((t=this._delegate).firestore,Ab),[new wd(t._key,od.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jw(e),i=t_(e,(function(e){return new e_(t.firestore,new pw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Vw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gb(t,wb);var e=gb(t.firestore,Ab),n=xb(e),r=new Mw(e);return function(t,e){var n=this,r=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var n;return Ya(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i;return Ya(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=vh(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ah(oh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Fy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))})),[4,Ym(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new pw(e,r,t._key,n,new dw(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gb(t,wb);var e=gb(t.firestore,Ab);return Jm(xb(e),t._key,{source:"server"}).then((function(n){return Uw(e,t,n)}))}(this._delegate):function(t){t=gb(t,wb);var e=gb(t.firestore,Ab);return Jm(xb(e),t._key).then((function(n){return Uw(e,t,n)}))}(this._delegate)).then((function(t){return new e_(e.firestore,new pw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Zw.nu(this.firestore,e):null))},t}();function $w(t,e,n){return t.message=t.message.replace(e,n),t}function Jw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ob(r))return r}return{}}function t_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ob(t[0])?t[0]:Ob(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var e_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return mw(this._delegate,t._delegate)},t}(),n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qa(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(e_),r_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qw(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_w(this._delegate,function(t,e,n){var r=e,i=fw("where",t);return new Cw(i,r,n)}(e,n,r)))}catch(e){throw $w(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_w(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fw("orderBy",t);return new kw(r,n)}(e,n)))}catch(e){throw $w(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_w(this._delegate,function(t){return yb("limit",t),new Ew("limit",t,"F")}(e)))}catch(e){throw $w(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_w(this._delegate,function(t){return yb("limitToLast",t),new Ew("limitToLast",t,"L")}(e)))}catch(e){throw $w(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw $w(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw $w(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tw("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw $w(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tw("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw $w(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Tb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gb(t,_b);var e=gb(t.firestore,Ab),n=xb(e),r=new Mw(e);return function(t,e){var n=this,r=new Zp;return t.asyncQueue.enqueueAndForget((function(){return Wa(n,void 0,void 0,(function(){var n;return Ya(this,(function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){return Wa(this,void 0,void 0,(function(){var r,i,o,a,s;return Ya(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Sg(t,e,!0)];case 1:return s=u.sent(),r=new em(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Fy(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))})),[4,Ym(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new gw(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=gb(t,_b);var e=gb(t.firestore,Ab),n=xb(e),r=new Mw(e);return tb(n,t._query,{source:"server"}).then((function(n){return new gw(e,r,t,n)}))}(this._delegate):function(t){t=gb(t,_b);var e=gb(t.firestore,Ab),n=xb(e),r=new Mw(e);return bw(t._query),tb(n,t._query).then((function(n){return new gw(e,r,t,n)}))}(this._delegate)).then((function(t){return new o_(e.firestore,new gw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jw(e),i=t_(e,(function(e){return new o_(t.firestore,new gw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Vw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Zw.nu(this.firestore,e):null))},t}(),i_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new n_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),o_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new r_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new n_(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new i_(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new n_(n._firestore,r))}))},t.prototype.isEqual=function(t){return mw(this._delegate,t._delegate)},t}(),a_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Qa(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xw(this.firestore,void 0===t?Eb(this._delegate):Eb(this._delegate,t))}catch(t){throw $w(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gb(t.firestore,Ab),r=Eb(t),i=Dw(t.converter,e);return Fw(n,[Gb(zb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,od.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Xw(e.firestore,t)}))},e.prototype.isEqual=function(t){return Sb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Zw.nu(this.firestore,t):null))},e}(r_);function s_(t){return gb(t,wb)}var u_,c_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Rb.bind.apply(Rb,Za([void 0],t)))}return t.documentId=function(){return new t(Ah.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Xa.h)(t))instanceof Rb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),l_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Wb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Kb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Xb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),h_=n("/6Yf"),f_={Firestore:Kw,GeoPoint:Lb,Timestamp:_h,Blob:zw,Transaction:Ww,WriteBatch:Yw,DocumentReference:Xw,DocumentSnapshot:e_,Query:r_,QueryDocumentSnapshot:n_,QuerySnapshot:o_,CollectionReference:a_,FieldPath:c_,FieldValue:l_,setLogLevel:function(t){sh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function d_(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Va.a;return new Pt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function p_(t,e){return d_(t,e).pipe(Object(Gt.a)((function(t){return{payload:t,type:"query"}})))}function v_(t,e){return p_(t,e).pipe(Te(void 0),Fa(),Object(Gt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function g_(t,e,n){return v_(t,n).pipe(Ie((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return y_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return y_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return y_(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Ba(void 0,void 0))}),Object(Gt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function y_(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function m_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new h_.a("firestore",(function(t){return function(t,e){return new Kw(t,new Ab(t,e),new Gw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},f_)))})(u_=Ga.a),u_.registerVersion("@firebase/firestore","2.4.0");var b_=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=v_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Te(void 0),Fa(),Yt((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(Gt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ie((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=m_(t);return g_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(At.a)(this.query.get(t)).pipe(Object(ba.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new w_(this.ref.doc(t),this.afs)}}]),t}(),w_=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=T_(this.ref.collection(t),e),r=n.ref,i=n.query;return new b_(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return d_(this.ref,this.afs.schedulers.outsideAngular).pipe(Te(void 0),Fa(),Object(Gt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Gt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(At.a)(this.ref.get(t)).pipe(Object(ba.b)(this.afs.schedulers.insideAngular))}}]),t}(),__=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?v_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Yt((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):v_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ie((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=m_(t);return g_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(At.a)(this.query.get(t)).pipe(Object(ba.b)(this.afs.schedulers.insideAngular))}}]),t}(),C_=new r.q("angularfire2.enableFirestorePersistence"),k_=new r.q("angularfire2.firestore.persistenceSettings"),E_=new r.q("angularfire2.firestore.settings"),S_=new r.q("angularfire2.firestore.use-emulator");function T_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var I_,O_,A_,x_=((A_=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new Aa.d(a),this.keepUnstableUntilFirst=Object(Aa.h)(this.schedulers);var l=Object(Aa.g)(e,a,n);!za.a.auth&&c&&Object(Aa.j)();var h=u,f=_slicedToArray(Object(Aa.f)("".concat(l.name,".firestore"),"AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!B(o)?[t,a.runOutsideAngular((function(){try{return Object(At.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(u_){return"undefined"!=typeof console&&console.warn(u_),Object(Ot.a)(!1)}}))]:[t,Object(Ot.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=T_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new b_(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new __(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new w_(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||A_)(r.Qb(Aa.c),r.Qb(Aa.b,8),r.Qb(C_,8),r.Qb(E_,8),r.Qb(r.B),r.Qb(r.z),r.Qb(k_,8),r.Qb(S_,8),r.Qb(xa,8))},A_.\u0275prov=r.Gb({factory:function(){return new A_(r.Qb(Aa.c),r.Qb(Aa.b,8),r.Qb(C_,8),r.Qb(E_,8),r.Qb(r.B),r.Qb(r.z),r.Qb(k_,8),r.Qb(S_,8),r.Qb(xa,8))},token:A_,providedIn:"any"}),A_),N_=((O_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:C_,useValue:!0},{provide:k_,useValue:e}]}}}]),t}()).\u0275mod=r.Ib({type:O_}),O_.\u0275inj=r.Hb({factory:function(t){return new(t||O_)},providers:[x_]}),O_),D_=((I_=function(){function t(e,n){_classCallCheck(this,t),this.auth=e,this.firestore=n}return _createClass(t,[{key:"initAuthListener",value:function(){this.auth.authState.subscribe((function(t){var e,n;console.log(t),console.log(null===(e=t)||void 0===e?void 0:e.uid),console.log(null===(n=t)||void 0===n?void 0:n.email)}))}},{key:"crearUsuario",value:function(t,e,n){var r=this;return this.auth.createUserWithEmailAndPassword(e,n).then((function(e){var n=e.user,i=new ya(n.uid,t,n.email);return r.firestore.doc("".concat(n.uid,"/usuario")).set(Object.assign({},i))}))}},{key:"loginUsuario",value:function(t,e){return this.auth.signInWithEmailAndPassword(t,e)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"isAuth",value:function(){return this.auth.authState.pipe(Object(Gt.a)((function(t){return null!=t})))}}]),t}()).\u0275fac=function(t){return new(t||I_)(r.Qb(Ma),r.Qb(x_))},I_.\u0275prov=r.Gb({token:I_,factory:I_.\u0275fac,providedIn:"root"}),I_);function P_(t,e){1&t&&r.Lb(0,"i",19)}function R_(t,e){1&t&&r.Lb(0,"i",19)}var j_,M_=((j_=function(){function t(e,n,r){_classCallCheck(this,t),this.router=e,this.fb=n,this.authService=r}return _createClass(t,[{key:"ngOnInit",value:function(){this.loginForm=this.fb.group({email:["",[eo.required,eo.email]],password:["",[eo.required,eo.minLength(6)]]})}},{key:"loginUsuario",value:function(){var t=this;if(!this.loginForm.invalid){ga.a.fire({title:"Espere por favor",timerProgressBar:!0,didOpen:function(){ga.a.showLoading()}});var e=this.loginForm.value,n=e.email,r=e.password;console.log(this.loginForm.value),this.authService.loginUsuario(n,r).then((function(e){console.log(e),ga.a.close(),t.router.navigate(["/"])})).catch((function(t){ga.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Ok"})}))}}}]),t}()).\u0275fac=function(t){return new(t||j_)(r.Kb(ti),r.Kb(da),r.Kb(D_))},j_.\u0275cmp=r.Eb({type:j_,selectors:[["app-login"]],decls:33,vars:4,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],["action","#",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","password","formControlName","password","placeholder","*********",1,"form-control"],["type","sumbit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"h2",4),r.bc(5,"Ingresar"),r.Mb(),r.Nb(6,"div",5),r.Nb(7,"form",6),r.Ub("ngSubmit",(function(){return e.loginUsuario()})),r.Nb(8,"div",7),r.Nb(9,"label",8),r.bc(10,"Correo"),r.Mb(),r.Nb(11,"div",9),r.Lb(12,"input",10),r.Nb(13,"div",11),r.Nb(14,"span",12),r.ac(15,P_,1,0,"i",13),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"div",7),r.Nb(17,"label",8),r.bc(18,"Contrase\xf1a"),r.Mb(),r.Nb(19,"div",9),r.Lb(20,"input",14),r.Nb(21,"div",11),r.Nb(22,"span",12),r.ac(23,R_,1,0,"i",13),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(24,"div",7),r.Nb(25,"button",15),r.bc(26,"Login"),r.Mb(),r.Mb(),r.Nb(27,"div",16),r.Nb(28,"span",17),r.bc(29,"No estas registrado? "),r.Mb(),r.Lb(30,"br"),r.Nb(31,"a",18),r.bc(32,"Crear una cuenta"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(7),r.Wb("formGroup",e.loginForm),r.Ab(8),r.Wb("ngIf",e.loginForm.get("email").valid),r.Ab(8),r.Wb("ngIf",e.loginForm.get("password").valid),r.Ab(2),r.Wb("disabled",e.loginForm.invalid))},directives:[Xo,Zi,ta,Ui,Yi,ha,L,ei],encapsulation:2}),j_);function L_(t,e){1&t&&r.Lb(0,"i",19)}function V_(t,e){1&t&&r.Lb(0,"i",19)}function F_(t,e){1&t&&r.Lb(0,"i",19)}var U_,q_,B_,H_,z_,G_,K_,Q_,W_,Y_,Z_,X_,$_=((H_=function(){function t(e,n,r){_classCallCheck(this,t),this.fb=e,this.authService=n,this.router=r}return _createClass(t,[{key:"ngOnInit",value:function(){this.registroForm=this.fb.group({nombre:["",eo.required],correo:["",[eo.required,eo.email]],password:["",[eo.required,eo.minLength(6)]]})}},{key:"crearUsuario",value:function(){var t=this;if(!this.registroForm.invalid){ga.a.fire({title:"Espere por favor",timerProgressBar:!0,didOpen:function(){ga.a.showLoading()}});var e=this.registroForm.value,n=e.nombre,r=e.correo,i=e.password;this.authService.crearUsuario(n,r,i).then((function(e){console.log(e),ga.a.close(),t.router.navigate(["/"])})).catch((function(t){ga.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Cool"})}))}}}]),t}()).\u0275fac=function(t){return new(t||H_)(r.Kb(da),r.Kb(D_),r.Kb(ti))},H_.\u0275cmp=r.Eb({type:H_,selectors:[["app-register"]],decls:35,vars:5,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],["action","#",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","email","formControlName","correo","placeholder","Correo",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"h2",4),r.bc(5,"Registro"),r.Mb(),r.Nb(6,"div",5),r.Nb(7,"form",6),r.Ub("ngSubmit",(function(){return e.crearUsuario()})),r.Nb(8,"div",7),r.Nb(9,"div",8),r.Lb(10,"input",9),r.Nb(11,"div",10),r.Nb(12,"span",11),r.ac(13,L_,1,0,"i",12),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(14,"div",7),r.Nb(15,"div",8),r.Lb(16,"input",13),r.Nb(17,"div",10),r.Nb(18,"span",11),r.ac(19,V_,1,0,"i",12),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(20,"div",7),r.Nb(21,"div",8),r.Lb(22,"input",14),r.Nb(23,"div",10),r.Nb(24,"span",11),r.ac(25,F_,1,0,"i",12),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(26,"div",7),r.Nb(27,"button",15),r.bc(28," Crear cuenta "),r.Mb(),r.Mb(),r.Nb(29,"div",16),r.Nb(30,"span",17),r.bc(31,"ya tienes una cuenta?"),r.Mb(),r.Lb(32,"br"),r.Nb(33,"a",18),r.bc(34,"Login"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(7),r.Wb("formGroup",e.registroForm),r.Ab(6),r.Wb("ngIf",e.registroForm.get("nombre").valid),r.Ab(6),r.Wb("ngIf",e.registroForm.get("correo").valid),r.Ab(6),r.Wb("ngIf",e.registroForm.get("password").valid),r.Ab(2),r.Wb("disabled",e.registroForm.invalid))},directives:[Xo,Zi,ta,Ui,Yi,ha,L,ei],encapsulation:2}),H_),J_=((B_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||B_)},B_.\u0275cmp=r.Eb({type:B_,selectors:[["app-navbar"]],decls:15,vars:0,consts:[[1,"navbar","default-layout","col-sm-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-top","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","d-none","d-sm-inline-block"],["id","UserDropdown","href","#","data-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"profile-text"],["src","assets/images/faces/face1.jpg","alt","Profile image",1,"img-xs","rounded-circle"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-sm-none","align-self-center"],[1,"icon-menu"]],template:function(t,e){1&t&&(r.Nb(0,"nav",0),r.Nb(1,"div",1),r.Nb(2,"a",2),r.Lb(3,"img",3),r.Mb(),r.Nb(4,"a",4),r.Lb(5,"img",5),r.Mb(),r.Mb(),r.Nb(6,"div",6),r.Nb(7,"ul",7),r.Nb(8,"li",8),r.Nb(9,"a",9),r.Nb(10,"span",10),r.bc(11,"Hello, Richard V.Welsh !"),r.Mb(),r.Lb(12,"img",11),r.Mb(),r.Mb(),r.Mb(),r.Nb(13,"button",12),r.Lb(14,"span",13),r.Mb(),r.Mb(),r.Mb())},encapsulation:2}),B_),tC=((q_=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"logout",value:function(){var t=this;ga.a.fire({title:"Espere por favor",timerProgressBar:!0,didOpen:function(){ga.a.showLoading()}}),this.authService.logout().then((function(){ga.a.close(),t.router.navigate(["/login"])})).catch((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||q_)(r.Kb(D_),r.Kb(ti))},q_.\u0275cmp=r.Eb({type:q_,selectors:[["app-sidebar"]],decls:33,vars:0,consts:[[1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"user-wrapper"],[1,"profile-image"],["src","assets/images/faces/face1.jpg","alt","profile image"],[1,"text-wrapper"],[1,"profile-name"],[1,"designation","text-muted"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"menu-icon","fa","fa-tachometer-alt"],[1,"menu-title"],["routerLink","/ingreso-egreso",1,"nav-link"],[1,"menu-icon","fa","fa-clipboard-list"],["routerLink","/detalle",1,"nav-link"],[1,"menu-icon","fa","fa-table"],[1,"nav-link","cursor",3,"click"],[1,"menu-icon","fa","fa-sign-out-alt"]],template:function(t,e){1&t&&(r.Nb(0,"nav",0),r.Nb(1,"ul",1),r.Nb(2,"li",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Lb(6,"img",6),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"p",8),r.bc(9,"Cristobal Col\xf3n"),r.Mb(),r.Nb(10,"div"),r.Nb(11,"small",9),r.bc(12,"Gerente"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(13,"li",10),r.Nb(14,"a",11),r.Lb(15,"i",12),r.Nb(16,"span",13),r.bc(17,"Dashboard"),r.Mb(),r.Mb(),r.Mb(),r.Nb(18,"li",10),r.Nb(19,"a",14),r.Lb(20,"i",15),r.Nb(21,"span",13),r.bc(22,"Ingresos y Egresos"),r.Mb(),r.Mb(),r.Mb(),r.Nb(23,"li",10),r.Nb(24,"a",16),r.Lb(25,"i",17),r.Nb(26,"span",13),r.bc(27,"Detalle"),r.Mb(),r.Mb(),r.Mb(),r.Nb(28,"li",10),r.Nb(29,"a",18),r.Ub("click",(function(){return e.logout()})),r.Lb(30,"i",19),r.Nb(31,"span",13),r.bc(32,"Cerrar sesi\xf3n"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},directives:[ei],encapsulation:2}),q_),eC=((U_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||U_)},U_.\u0275cmp=r.Eb({type:U_,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"container-fluid","clearfix"],[1,"text-muted","d-block","text-center","text-sm-left","d-sm-inline-block"],["href","http://fernando-herrera.com","target","_blank"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"fa","fa-heart","text-danger"]],template:function(t,e){1&t&&(r.Nb(0,"footer",0),r.Nb(1,"div",1),r.Nb(2,"span",2),r.bc(3,"Derechos reservados \xa9 20XX "),r.Nb(4,"a",3),r.bc(5,"Fernando Herrera"),r.Mb(),r.bc(6,"."),r.Mb(),r.Nb(7,"span",4),r.bc(8,"Creado a mano con "),r.Lb(9,"i",5),r.Mb(),r.Mb(),r.Mb())},encapsulation:2}),U_),nC=[{path:"login",component:M_},{path:"register",component:$_},{path:"",component:(W_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),W_.\u0275fac=function(t){return new(t||W_)},W_.\u0275cmp=r.Eb({type:W_,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"page-body-wrapper"],[1,"main-panel"],[1,"content-wrapper"]],template:function(t,e){1&t&&(r.Lb(0,"app-navbar"),r.Nb(1,"div",0),r.Lb(2,"app-sidebar"),r.Nb(3,"div",1),r.Nb(4,"div",2),r.Lb(5,"router-outlet"),r.Mb(),r.Lb(6,"app-footer"),r.Mb(),r.Mb())},directives:[J_,tC,ui,eC],encapsulation:2}),W_),children:[{path:"",component:(Q_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Q_.\u0275fac=function(t){return new(t||Q_)},Q_.\u0275cmp=r.Eb({type:Q_,selectors:[["app-estadistica"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-6"],[1,"card","card-statistics"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"fa","fa-money-bill-alt","text-success","icon-lg"],[1,"float-right"],[1,"mb-0","text-right"],[1,"fluid-container"],[1,"font-weight-medium","text-right","mb-0"],[1,"text-muted","mt-3","mb-0"],["aria-hidden","true",1,"mdi","mdi-alert-octagon","mr-1"],[1,"fa","fa-shipping-fast","text-danger","icon-lg"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Lb(6,"i",6),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"p",8),r.bc(9,"Ingresos"),r.Mb(),r.Nb(10,"div",9),r.Nb(11,"h3",10),r.bc(12,"$65,650"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(13,"p",11),r.Lb(14,"i",12),r.bc(15," 65% lower growth "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"div",1),r.Nb(17,"div",2),r.Nb(18,"div",3),r.Nb(19,"div",4),r.Nb(20,"div",5),r.Lb(21,"i",13),r.Mb(),r.Nb(22,"div",7),r.Nb(23,"p",8),r.bc(24,"Ingresos"),r.Mb(),r.Nb(25,"div",9),r.Nb(26,"h3",10),r.bc(27,"$65,650"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(28,"p",11),r.Lb(29,"i",12),r.bc(30," 65% lower growth "),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},encapsulation:2}),Q_)},{path:"ingreso-egreso",component:(K_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),K_.\u0275fac=function(t){return new(t||K_)},K_.\u0275cmp=r.Eb({type:K_,selectors:[["app-ingreso-egreso"]],decls:31,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"form-group"],["type","text","placeholder","Descripci\xf3n","name","descripcion",1,"form-control"],["type","number","placeholder","Monto","name","monto",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block"],["type","button",1,"btn","btn-success","mr-2"],[1,"fa","fa-save"],["type","reset",1,"btn","btn-light"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"h4",4),r.bc(5,"Agregar Ingreso / Egreso"),r.Mb(),r.Nb(6,"p",5),r.bc(7," Especifique el monto y el tipo "),r.Mb(),r.Nb(8,"form"),r.Nb(9,"div",6),r.Nb(10,"label"),r.bc(11,"Descripci\xf3n"),r.Mb(),r.Lb(12,"input",7),r.Mb(),r.Nb(13,"div",6),r.Nb(14,"label"),r.bc(15,"Monto"),r.Mb(),r.Lb(16,"input",8),r.Nb(17,"p"),r.bc(18," Debe de ser un monto positivo "),r.Mb(),r.Mb(),r.Nb(19,"div",6),r.Nb(20,"label"),r.bc(21,"Tipo"),r.Mb(),r.Lb(22,"br"),r.Nb(23,"button",9),r.bc(24,"Ingreso"),r.Mb(),r.Mb(),r.Lb(25,"hr"),r.Nb(26,"button",10),r.Lb(27,"i",11),r.bc(28," Agregar "),r.Mb(),r.Nb(29,"button",12),r.bc(30,"Cancelar"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},directives:[Xo,Zi],encapsulation:2}),K_)},{path:"detalle",component:(G_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),G_.\u0275fac=function(t){return new(t||G_)},G_.\u0275cmp=r.Eb({type:G_,selectors:[["app-detalle"]],decls:26,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"h4",4),r.bc(5,"Detalle de ingreso egreso"),r.Mb(),r.Nb(6,"table",5),r.Nb(7,"thead"),r.Nb(8,"tr"),r.Nb(9,"th"),r.bc(10,"Descripci\xf3n"),r.Mb(),r.Nb(11,"th"),r.bc(12,"Monto"),r.Mb(),r.Nb(13,"th"),r.bc(14,"Tipo"),r.Mb(),r.Lb(15,"th"),r.Mb(),r.Mb(),r.Nb(16,"tbody"),r.Nb(17,"tr"),r.Nb(18,"td"),r.bc(19,"Descripci\xf3n"),r.Mb(),r.Nb(20,"td"),r.bc(21,"Monto"),r.Mb(),r.Nb(22,"td"),r.bc(23,"Tipo"),r.Mb(),r.Nb(24,"td"),r.bc(25,"acciones"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},encapsulation:2}),G_)}],canActivate:[(z_=function(){function t(e,n){_classCallCheck(this,t),this.authService=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this;return this.authService.isAuth().pipe(Object(Pe.a)((function(e){e||t.router.navigate(["/login"])})))}}]),t}(),z_.\u0275fac=function(t){return new(t||z_)(r.Qb(D_),r.Qb(ti))},z_.\u0275prov=r.Gb({token:z_,factory:z_.\u0275fac,providedIn:"root"}),z_)]},{path:"**",redirectTo:""}],rC=((X_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:X_}),X_.\u0275inj=r.Hb({factory:function(t){return new(t||X_)},imports:[[bi.forRoot(nC)],bi]}),X_),iC=((Z_=function t(e){_classCallCheck(this,t),this.authService=e,this.title="app",this.authService.initAuthListener()}).\u0275fac=function(t){return new(t||Z_)(r.Kb(D_))},Z_.\u0275cmp=r.Eb({type:Z_,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"router-outlet"),r.Mb())},directives:[ui],styles:[""]}),Z_),oC=((Y_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ib({type:Y_,bootstrap:[iC]}),Y_.\u0275inj=r.Hb({factory:function(t){return new(t||Y_)},providers:[],imports:[[It,rC,pa,Aa.a.initializeApp(i),N_,La]]}),Y_);Object(r.S)(),St().bootstrapModule(oC).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);